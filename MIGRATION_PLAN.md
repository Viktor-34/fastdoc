# –ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏: –û—Ç TipTap –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –∫ —Ñ–æ—Ä–º–µ –ö–ü

## –¶–µ–ª—å
–ó–∞–º–µ–Ω–∏—Ç—å —Å–ª–æ–∂–Ω—ã–π –±–ª–æ—á–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä (18 —Ç–∏–ø–æ–≤ –±–ª–æ–∫–æ–≤, TipTap) –Ω–∞ –ø—Ä–æ—Å—Ç—É—é —Ñ–æ—Ä–º—É –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –∑–∞ 1-3 –º–∏–Ω—É—Ç—ã.

---

## –≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### 1.1 –û–±–Ω–æ–≤–∏—Ç—å —Å—Ö–µ–º—É Workspace (–ø—Ä–æ—Ñ–∏–ª—å –∫–æ–º–ø–∞–Ω–∏–∏)
**–§–∞–π–ª:** `prisma/schema.prisma`

–î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è:
```prisma
model Workspace {
  // –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è...

  // –í–∏–∑—É–∞–ª
  logoUrl          String?
  signatureUrl     String?   // PNG –ø–æ–¥–ø–∏—Å–∏
  stampUrl         String?   // PNG –ø–µ—á–∞—Ç–∏

  // –†–µ–∫–≤–∏–∑–∏—Ç—ã (–†–§ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞)
  companyName      String?
  inn              String?   // –ò–ù–ù
  ogrn             String?   // –û–ì–†–ù
  legalAddress     String?   // –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å
  bankName         String?   // –ù–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞
  bik              String?   // –ë–ò–ö
  accountNumber    String?   // –†–∞—Å—á—ë—Ç–Ω—ã–π —Å—á—ë—Ç

  // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ù–î–°
  vatDefault       Boolean   @default(true)  // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å –ù–î–°
  vatRate          Int       @default(20)     // –°—Ç–∞–≤–∫–∞ –ù–î–° –≤ %
}
```

### 1.2 –û–±–Ω–æ–≤–∏—Ç—å —Å—Ö–µ–º—É Client (–∫–ª–∏–µ–Ω—Ç)
–î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è:
```prisma
model Client {
  // –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è...

  middleName       String?   // –û—Ç—á–µ—Å—Ç–≤–æ –¥–ª—è –æ–±—Ä–∞—â–µ–Ω–∏—è
  position         String?   // –î–æ–ª–∂–Ω–æ—Å—Ç—å
}
```

### 1.3 –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –º–æ–¥–µ–ª—å Proposal (–ö–ü)
```prisma
model Proposal {
  id              String    @id @default(cuid())
  workspaceId     String
  clientId        String?

  // –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
  title           String
  recipientName   String?   // "–£–≤–∞–∂–∞–µ–º—ã–π –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤–∏—á!"

  // –ö–æ–Ω—Ç–µ–∫—Å—Ç –∏ —Ä–µ—à–µ–Ω–∏–µ
  problemDesc     String?   @db.Text  // –û–ø–∏—Å–∞–Ω–∏–µ —Å–∏—Ç—É–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞ (Point A)
  solutionDesc    String?   @db.Text  // –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ (Point B)
  additionalDesc  String?   @db.Text  // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

  // –¢–æ–≤–∞—Ä—ã/—É—Å–ª—É–≥–∏
  items           Json      // Array<ProposalItem>
  currency        String    @default("RUB")

  // –£—Å–ª–æ–≤–∏—è
  deadline        String?   // –¢–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ (—Å—Ä–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)
  paymentTerms    String?   // "prepaid" | "50-50" | "postpaid" | "custom"
  paymentCustom   String?   // –ï—Å–ª–∏ paymentTerms = "custom"
  validUntil      DateTime? // –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –ö–ü (–¥–µ—Ñ–æ–ª—Ç +30 –¥–Ω–µ–π)

  // –ù–î–°
  includeVat      Boolean   @default(true)
  vatRate         Int       @default(20)

  // –ì–∞–ª–µ—Ä–µ—è
  galleryImages   Json?     // Array<string> URLs

  // CTA (–ø—Ä–∏–∑—ã–≤ –∫ –¥–µ–π—Å—Ç–≤–∏—é)
  ctaText         String?   // "–°–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π"
  ctaPhone        String?
  ctaEmail        String?

  // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ
  notes           String?   @db.Text

  // –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
  version         Int       @default(1)
  status          String    @default("draft") // draft | sent | accepted | rejected
  createdBy       String
  updatedBy       String
  createdAt       DateTime  @default(now())
  updatedAt       DateTime  @updatedAt

  // –°–≤—è–∑–∏
  Workspace       Workspace @relation(fields: [workspaceId], references: [id])
  Client          Client?   @relation(fields: [clientId], references: [id])
  Versions        ProposalVersion[]
  ShareLinks      ShareLink[]

  @@index([workspaceId])
  @@index([clientId])
}

model ProposalVersion {
  id          String   @id @default(cuid())
  proposalId  String
  version     Int
  snapshot    Json     // –ü–æ–ª–Ω—ã–π —Å–Ω–∏–º–æ–∫ Proposal
  createdAt   DateTime @default(now())

  Proposal    Proposal @relation(fields: [proposalId], references: [id], onDelete: Cascade)

  @@unique([proposalId, version])
}
```

### 1.4 –û–±–Ω–æ–≤–∏—Ç—å ShareLink
```prisma
model ShareLink {
  id          String    @id @default(cuid())
  proposalId  String    // –ë—ã–ª–æ documentId
  token       String    @unique
  expiresAt   DateTime?
  allowPdf    Boolean   @default(true)
  utmSource   String?

  // –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ (–¥–ª—è –±—É–¥—É—â–µ–≥–æ)
  viewCount   Int       @default(0)
  lastViewedAt DateTime?

  createdAt   DateTime  @default(now())

  Proposal    Proposal  @relation(fields: [proposalId], references: [id], onDelete: Cascade)
}
```

### 1.5 –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
**–°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç:** `prisma/migrations/manual/migrate-documents-to-proposals.ts`

–õ–æ–≥–∏–∫–∞:
- –î–ª—è –∫–∞–∂–¥–æ–≥–æ Document –∏–∑–≤–ª–µ—á—å –∏–∑ TipTap JSON:
  - –ó–∞–≥–æ–ª–æ–≤–æ–∫ (–ø–µ—Ä–≤—ã–π heading)
  - –û–ø–∏—Å–∞–Ω–∏–µ (–ø–µ—Ä–≤—ã–µ –ø–∞—Ä–∞–≥—Ä–∞—Ñ—ã)
  - –¢–∞–±–ª–∏—Ü—É —Ü–µ–Ω (priceTable ‚Üí items)
  - –ì–∞–ª–µ—Ä–µ—é (gallerySection ‚Üí galleryImages)
- –°–æ–∑–¥–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π Proposal
- –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç–∞—Ä—ã–π Document –¥–ª—è –±—ç–∫–∞–ø–∞ (–Ω–µ —É–¥–∞–ª—è—Ç—å —Å—Ä–∞–∑—É)

**–ö–æ–º–∞–Ω–¥—ã:**
```bash
npx prisma migrate dev --name add_proposals
npm run migrate:documents-to-proposals
```

---

## –≠—Ç–∞–ø 2: –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –∫–æ–º–ø–∞–Ω–∏–∏ (Workspace settings)

### 2.1 –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∫–æ–º–ø–∞–Ω–∏–∏
**–§–∞–π–ª:** `app/(dashboard)/settings/company/page.tsx`

–°–µ–∫—Ü–∏–∏:
1. **–í–∏–∑—É–∞–ª**
   - –ó–∞–≥—Ä—É–∑–∫–∞ –ª–æ–≥–æ—Ç–∏–ø–∞
   - –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–¥–ø–∏—Å–∏ (PNG)
   - –ó–∞–≥—Ä—É–∑–∫–∞ –ø–µ—á–∞—Ç–∏ (PNG)

2. **–†–µ–∫–≤–∏–∑–∏—Ç—ã**
   - –ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏
   - –ò–ù–ù, –û–ì–†–ù
   - –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å
   - –ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã (–±–∞–Ω–∫, –ë–ò–ö, —Ä/—Å)

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ù–î–°**
   - –í–∫–ª—é—á–∞—Ç—å –ù–î–° –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (toggle)
   - –°—Ç–∞–≤–∫–∞ –ù–î–° (input number, default 20%)

### 2.2 –°–æ–∑–¥–∞—Ç—å API endpoint
**–§–∞–π–ª:** `app/api/workspace/settings/route.ts`

- GET ‚Äî –ø–æ–ª—É—á–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ workspace
- PATCH ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- POST `/upload` ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–ª–æ–≥–æ—Ç–∏–ø, –ø–æ–¥–ø–∏—Å—å, –ø–µ—á–∞—Ç—å)

---

## –≠—Ç–∞–ø 3: –û–±–Ω–æ–≤–∏—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞–º–∏

### 3.1 –û–±–Ω–æ–≤–∏—Ç—å ClientForm
**–§–∞–π–ª:** `components/ClientForm.tsx`

–î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è:
- –û—Ç—á–µ—Å—Ç–≤–æ (middleName)
- –î–æ–ª–∂–Ω–æ—Å—Ç—å (position)

### 3.2 –û–±–Ω–æ–≤–∏—Ç—å API
**–§–∞–π–ª:** `app/api/clients/route.ts`

–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π –≤ POST/PATCH –∑–∞–ø—Ä–æ—Å–∞—Ö.

---

## –≠—Ç–∞–ø 4: –°–æ–∑–¥–∞—Ç—å —Ñ–æ—Ä–º—É —Å–æ–∑–¥–∞–Ω–∏—è –ö–ü (–Ω–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä)

### 4.1 –°–æ–∑–¥–∞—Ç—å –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
**–§–∞–π–ª:** `app/editor/page.tsx` (–ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å —Å –Ω—É–ª—è)

**Layout:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  [‚Üê –ù–∞–∑–∞–¥]  –ù–æ–≤–æ–µ –ö–ü           [–°–æ—Ö—Ä–∞–Ω–∏—Ç—å] [PDF]  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ              ‚îÇ                                     ‚îÇ
‚îÇ  –ù–ê–í–ò–ì–ê–¶–ò–Ø   ‚îÇ   –§–û–†–ú–ê (–†–ï–î–ê–ö–¢–û–† –†–ê–ó–î–ï–õ–ê)          ‚îÇ
‚îÇ              ‚îÇ                                     ‚îÇ
‚îÇ ‚Ä¢ –û—Å–Ω–æ–≤–Ω–æ–µ   ‚îÇ  [–ü–æ–ª—è —Ç–µ–∫—É—â–µ–≥–æ —Ä–∞–∑–¥–µ–ª–∞]            ‚îÇ
‚îÇ ‚Ä¢ –ö–æ–Ω—Ç–µ–∫—Å—Ç   ‚îÇ                                     ‚îÇ
‚îÇ ‚Ä¢ –ü—Ä–æ–¥—É–∫—Ç—ã   ‚îÇ                                     ‚îÇ
‚îÇ ‚Ä¢ –£—Å–ª–æ–≤–∏—è    ‚îÇ                                     ‚îÇ
‚îÇ ‚Ä¢ –ì–∞–ª–µ—Ä–µ—è    ‚îÇ                                     ‚îÇ
‚îÇ ‚Ä¢ –ö–æ–Ω—Ç–∞–∫—Ç—ã   ‚îÇ                                     ‚îÇ
‚îÇ              ‚îÇ                                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** Mini Preview —É–±—Ä–∞–Ω. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ—Ç–∫—Ä—ã—Ç—å preview –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π –≤–∫–ª–∞–¥–∫–µ –∫–Ω–æ–ø–∫–æ–π "–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä" –≤ —Ç–æ–ø-–±–∞—Ä–µ.

### 4.2 –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ñ–æ—Ä–º—ã

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ —Ä–∞–∑–¥–µ–ª–∞–º:**

#### `components/proposal-form/BasicInfoSection.tsx`
–ü–æ–ª—è:
- –í—ã–±–æ—Ä –∫–ª–∏–µ–Ω—Ç–∞ (ClientSelector)
- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –ö–ü
- –û–±—Ä–∞—â–µ–Ω–∏–µ (–∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –∏–∑ –∫–ª–∏–µ–Ω—Ç–∞: "–£–≤–∞–∂–∞–µ–º—ã–π [–ò–º—è] [–û—Ç—á–µ—Å—Ç–≤–æ]!")

#### `components/proposal-form/ContextSection.tsx`
–ü–æ–ª—è:
- –û–ø–∏—Å–∞–Ω–∏–µ —Å–∏—Ç—É–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞ (Point A) ‚Äî textarea
- –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ (Point B) ‚Äî textarea
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ ‚Äî textarea

#### `components/proposal-form/ProductsSection.tsx`
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- –¢–∞–±–ª–∏—Ü–∞ —Ç–æ–≤–∞—Ä–æ–≤/—É—Å–ª—É–≥
- –ö–Ω–æ–ø–∫–∏: "–î–æ–±–∞–≤–∏—Ç—å –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞" | "–î–æ–±–∞–≤–∏—Ç—å –≤—Ä—É—á–Ω—É—é"
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ProductSelector (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π)
- –ê–≤—Ç–æ–ø–æ–¥—Å—á—ë—Ç –∏—Ç–æ–≥–æ–≤–æ–π —Å—É–º–º—ã —Å –ù–î–°/–±–µ–∑ –ù–î–°

–ü–æ–ª—è —Ç–æ–≤–∞—Ä–∞:
```typescript
interface ProposalItem {
  id: string;
  productId?: string; // –ï—Å–ª–∏ –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞
  name: string;
  description?: string;
  qty: number;
  price: number;
  discount?: number;
  unit?: string; // "—à—Ç", "—á–∞—Å", "–º–µ—Å—è—Ü"
}
```

#### `components/proposal-form/TermsSection.tsx`
–ü–æ–ª—è:
- –°—Ä–æ–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (text input) ‚Äî "2 –Ω–µ–¥–µ–ª–∏", "–¥–æ 31.12.2024"
- –£—Å–ª–æ–≤–∏—è –æ–ø–ª–∞—Ç—ã (select):
  - 100% –ø—Ä–µ–¥–æ–ø–ª–∞—Ç–∞
  - 50% –ø—Ä–µ–¥–æ–ø–ª–∞—Ç–∞ / 50% –ø–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
  - –ü–æ—Å—Ç–æ–ø–ª–∞—Ç–∞
  - –°–≤–æ–∏ —É—Å–ª–æ–≤–∏—è (textarea)
- –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –ö–ü (date picker, default +30 –¥–Ω–µ–π)
- –í–∫–ª—é—á–∏—Ç—å –ù–î–° (toggle, default –∏–∑ workspace)
- –ü—Ä–∏–º–µ—á–∞–Ω–∏—è (textarea)

#### `components/proposal-form/GallerySection.tsx`
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- Drag-and-drop –∑–æ–Ω–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –ü—Ä–µ–≤—å—é –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö (–¥–æ 6 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)
- –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è

#### `components/proposal-form/ContactsSection.tsx`
–ü–æ–ª—è:
- –ü—Ä–∏–∑—ã–≤ –∫ –¥–µ–π—Å—Ç–≤–∏—é (CTA) ‚Äî textarea
- –¢–µ–ª–µ—Ñ–æ–Ω –¥–ª—è —Å–≤—è–∑–∏ (–∏–∑ workspace –∏–ª–∏ custom)
- Email –¥–ª—è —Å–≤—è–∑–∏ (–∏–∑ workspace –∏–ª–∏ custom)

### 4.3 –°–æ–∑–¥–∞—Ç—å —Ö—É–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–æ—Ä–º–æ–π
**–§–∞–π–ª:** `app/editor/hooks/useProposalForm.ts`

```typescript
interface UseProposalFormReturn {
  proposal: Proposal;
  updateField: (field: keyof Proposal, value: any) => void;
  addItem: (item: ProposalItem) => void;
  removeItem: (itemId: string) => void;
  updateItem: (itemId: string, updates: Partial<ProposalItem>) => void;
  save: () => Promise<void>;
  exportPdf: () => Promise<void>;
  isLoading: boolean;
  isSaving: boolean;
}
```

---

## –≠—Ç–∞–ø 5: –°–∏—Å—Ç–µ–º–∞ —à–∞–±–ª–æ–Ω–æ–≤

### 5.1 –°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª—å Template
**–§–∞–π–ª:** `prisma/schema.prisma`

```prisma
model ProposalTemplate {
  id            String   @id @default(cuid())
  workspaceId   String
  name          String
  description   String?
  category      String?  // "minimal" | "standard" | "with-gallery" | "custom"

  // Preset values
  defaults      Json     // Partial<Proposal>

  // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
  sections      Json     // Array<string> ‚Äî –∫–∞–∫–∏–µ —Å–µ–∫—Ü–∏–∏ –≤–∫–ª—é—á–µ–Ω—ã

  isDefault     Boolean  @default(false)
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt

  Workspace     Workspace @relation(fields: [workspaceId], references: [id])
}
```

### 5.2 –°–æ–∑–¥–∞—Ç—å –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã

**–®–∞–±–ª–æ–Ω 1: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π**
- –°–µ–∫—Ü–∏–∏: –û—Å–Ω–æ–≤–Ω–æ–µ + –ü—Ä–æ–¥—É–∫—Ç—ã + –£—Å–ª–æ–≤–∏—è
- –ë–µ–∑ –≥–∞–ª–µ—Ä–µ–∏, –±–µ–∑ –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

**–®–∞–±–ª–æ–Ω 2: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π**
- –°–µ–∫—Ü–∏–∏: –û—Å–Ω–æ–≤–Ω–æ–µ + –ö–æ–Ω—Ç–µ–∫—Å—Ç + –ü—Ä–æ–¥—É–∫—Ç—ã + –£—Å–ª–æ–≤–∏—è + –ö–æ–Ω—Ç–∞–∫—Ç—ã
- –ë–µ–∑ –≥–∞–ª–µ—Ä–µ–∏

**–®–∞–±–ª–æ–Ω 3: –° –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ**
- –í—Å–µ —Å–µ–∫—Ü–∏–∏ –≤–∫–ª—é—á–µ–Ω—ã
- –ì–∞–ª–µ—Ä–µ—è –∞–∫—Ç–∏–≤–Ω–∞

**–®–∞–±–ª–æ–Ω 4: –ü—É—Å—Ç–æ–π**
- –í—Å–µ —Å–µ–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã, –Ω–æ –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã

### 5.3 –°–æ–∑–¥–∞—Ç—å UI –≤—ã–±–æ—Ä–∞ —à–∞–±–ª–æ–Ω–∞
**–§–∞–π–ª:** `components/proposal-form/TemplateSelector.tsx`

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –ö–ü:
- Grid —Å –ø—Ä–µ–≤—å—é —à–∞–±–ª–æ–Ω–æ–≤
- –ö–Ω–æ–ø–∫–∞ "–ù–∞—á–∞—Ç—å —Å –ø—É—Å—Ç–æ–≥–æ"

---

## –≠—Ç–∞–ø 6: –û–±–Ω–æ–≤–∏—Ç—å PDF —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥

### 6.1 –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ä–µ–Ω–¥–µ—Ä–µ—Ä
**–§–∞–π–ª:** `lib/pdf/renderProposal.ts`

```typescript
export function renderProposalToHtml(
  proposal: Proposal,
  workspace: Workspace,
  client?: Client
): string {
  // –ü—Ä–æ—Å—Ç–æ–π HTML —à–∞–±–ª–æ–Ω
}
```

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ HTML:
```html
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <style>/* –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è PDF */</style>
</head>
<body>
  <div class="page">
    <!-- –®–∞–ø–∫–∞ —Å –ª–æ–≥–æ—Ç–∏–ø–æ–º -->
    <header>...</header>

    <!-- –û–±—Ä–∞—â–µ–Ω–∏–µ -->
    <div class="greeting">–£–≤–∞–∂–∞–µ–º—ã–π ...</div>

    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
    <h1>{{ title }}</h1>

    <!-- –ö–æ–Ω—Ç–µ–∫—Å—Ç (Point A) -->
    <section class="problem">...</section>

    <!-- –†–µ—à–µ–Ω–∏–µ (Point B) -->
    <section class="solution">...</section>

    <!-- –¢–∞–±–ª–∏—Ü–∞ —Ç–æ–≤–∞—Ä–æ–≤ -->
    <table class="price-table">...</table>

    <!-- –£—Å–ª–æ–≤–∏—è -->
    <section class="terms">...</section>

    <!-- –ì–∞–ª–µ—Ä–µ—è (–µ—Å–ª–∏ –µ—Å—Ç—å) -->
    <div class="gallery">...</div>

    <!-- CTA -->
    <section class="cta">...</section>

    <!-- –§—É—Ç–µ—Ä —Å —Ä–µ–∫–≤–∏–∑–∏—Ç–∞–º–∏ -->
    <footer>
      <div class="requisites">...</div>
      <div class="signatures">
        <img src="signature" />
        <img src="stamp" />
      </div>
    </footer>
  </div>
</body>
</html>
```

### 6.2 –û–±–Ω–æ–≤–∏—Ç—å API endpoint
**–§–∞–π–ª:** `app/api/pdf/route.ts`

–ò–∑–º–µ–Ω–∏—Ç—å:
```typescript
// –ë—ã–ª–æ:
const json = await req.json(); // TipTap JSON
const html = await renderJsonToPdfHtml(json);

// –°—Ç–∞–Ω–µ—Ç:
const { proposalId } = await req.json();
const proposal = await getProposal(proposalId);
const workspace = await getWorkspace(proposal.workspaceId);
const client = proposal.clientId ? await getClient(proposal.clientId) : null;
const html = renderProposalToHtml(proposal, workspace, client);
```

### 6.3 –°–æ–∑–¥–∞—Ç—å —Å—Ç–∏–ª–∏ –¥–ª—è PDF
**–§–∞–π–ª:** `styles/proposal-pdf.css`

CSS –¥–ª—è:
- –¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞
- –¢–∞–±–ª–∏—Ü–∞ —Ü–µ–Ω
- –ì–∞–ª–µ—Ä–µ—è (grid ‚Üí 3 –∫–æ–ª–æ–Ω–∫–∏)
- –ü–æ–¥–ø–∏—Å—å –∏ –ø–µ—á–∞—Ç—å (–ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ)
- @page –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (A4, margins)
- @media print –ø—Ä–∞–≤–∏–ª–∞

---

## –≠—Ç–∞–ø 7: –û–±–Ω–æ–≤–∏—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π preview

### 7.1 –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É preview
**–§–∞–π–ª:** `app/p/[token]/page.tsx`

–ò–∑–º–µ–Ω–∏—Ç—å:
- –ó–∞–≥—Ä—É–∂–∞—Ç—å Proposal –≤–º–µ—Å—Ç–æ Document
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π —Ä–µ–Ω–¥–µ—Ä–µ—Ä `renderProposalToHtml`
- –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "–°–∫–∞—á–∞—Ç—å PDF"

### 7.2 –û–±–Ω–æ–≤–∏—Ç—å PDF endpoint –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö —Å—Å—ã–ª–æ–∫
**–§–∞–π–ª:** `app/p/[token]/pdf/route.ts`

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π —Ä–µ–Ω–¥–µ—Ä–µ—Ä.

---

## –≠—Ç–∞–ø 8: –û–±–Ω–æ–≤–∏—Ç—å –∫–∞—Ç–∞–ª–æ–≥ –∏ –¥–∞—à–±–æ—Ä–¥

### 8.1 –û–±–Ω–æ–≤–∏—Ç—å CatalogTable
**–§–∞–π–ª:** `components/CatalogTable.tsx`

–ò–∑–º–µ–Ω–∏—Ç—å:
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å Proposal –≤–º–µ—Å—Ç–æ Document
- –°—Ç–æ–ª–±—Ü—ã: –ù–∞–∑–≤–∞–Ω–∏–µ | –ö–ª–∏–µ–Ω—Ç | –°—É–º–º–∞ | –°—Ç–∞—Ç—É—Å | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
- –î–µ–π—Å—Ç–≤–∏—è: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å | –î—É–±–ª–∏—Ä–æ–≤–∞—Ç—å | –°–∫–∞—á–∞—Ç—å PDF | –£–¥–∞–ª–∏—Ç—å

### 8.2 –û–±–Ω–æ–≤–∏—Ç—å API –∫–∞—Ç–∞–ª–æ–≥–∞
**–§–∞–π–ª:** `app/api/proposals/route.ts` (—Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π)

Endpoints:
- GET ‚Äî —Å–ø–∏—Å–æ–∫ –ö–ü —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- POST ‚Äî —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –ö–ü
- PATCH /[id] ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å –ö–ü
- DELETE /[id] ‚Äî —É–¥–∞–ª–∏—Ç—å –ö–ü
- POST /[id]/duplicate ‚Äî –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –ö–ü
- POST /[id]/share ‚Äî —Å–æ–∑–¥–∞—Ç—å ShareLink

---

## –≠—Ç–∞–ø 9: –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–≥–æ –∫–æ–¥–∞

### 9.1 –£–¥–∞–ª–∏—Ç—å TipTap –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
**–§–∞–π–ª:** `package.json`

–£–¥–∞–ª–∏—Ç—å:
```json
"@tiptap/core": "^3.4.5",
"@tiptap/pm": "^3.4.5",
"@tiptap/react": "^3.4.5",
"@tiptap/starter-kit": "^3.4.5",
"@tiptap/extension-*": "..."
```

### 9.2 –£–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª—ã
–£–¥–∞–ª–∏—Ç—å:
```
lib/tiptap/                    # –í—Å–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è TipTap
app/editor/blocks/             # –†–µ–µ—Å—Ç—Ä –±–ª–æ–∫–æ–≤
app/editor/settings/           # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫ –±–ª–æ–∫–æ–≤
app/editor/components/         # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
lib/pdf/renderToHtml.tsx       # –°—Ç–∞—Ä—ã–π —Ä–µ–Ω–¥–µ—Ä–µ—Ä
```

### 9.3 –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
npm uninstall @tiptap/core @tiptap/react @tiptap/starter-kit
npm install
```

---

## –≠—Ç–∞–ø 10: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–µ–ø–ª–æ–π

### 10.1 –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –ö–ü —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ –ø–æ–ª—è–º–∏
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –ö–ü —Å–æ –≤—Å–µ–º–∏ –ø–æ–ª—è–º–∏
- [ ] –í—ã–±–æ—Ä –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –≤—Ä—É—á–Ω—É—é
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞ –≥–∞–ª–µ—Ä–µ–∏
- [ ] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è PDF
- [ ] –ü—É–±–ª–∏—á–Ω–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ –ö–ü
- [ ] –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ö–ü
- [ ] –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ö–ü

### 10.2 –ü—Ä–æ–≤–µ—Ä–∫–∞ PDF
- [ ] –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –Ω–∞ A4
- [ ] –ù–î–° —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] –ü–æ–¥–ø–∏—Å—å –∏ –ø–µ—á–∞—Ç—å –Ω–∞ –º–µ—Å—Ç–µ
- [ ] –†–µ–∫–≤–∏–∑–∏—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- [ ] –ì–∞–ª–µ—Ä–µ—è –≤ 3 –∫–æ–ª–æ–Ω–∫–∏

### 10.3 –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–∏
- [ ] –°—Ç–∞—Ä—ã–µ Document –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ Proposal
- [ ] –î–∞–Ω–Ω—ã–µ –Ω–µ –ø–æ—Ç–µ—Ä—è–Ω—ã
- [ ] –ü—É–±–ª–∏—á–Ω—ã–µ —Å—Å—ã–ª–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

### 10.4 –î–µ–ø–ª–æ–π
```bash
# –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
npx prisma migrate deploy

# –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
npm run migrate:documents-to-proposals

# –î–µ–ø–ª–æ–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
vercel --prod
```

---

## –ß–µ–∫–ª–∏—Å—Ç –º–∏–≥—Ä–∞—Ü–∏–∏

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è –≤ Workspace (—Ä–µ–∫–≤–∏–∑–∏—Ç—ã, –ù–î–°, –≤–∏–∑—É–∞–ª)
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è –≤ Client (–æ—Ç—á–µ—Å—Ç–≤–æ, –¥–æ–ª–∂–Ω–æ—Å—Ç—å)
- [ ] –°–æ–∑–¥–∞–Ω–∞ –º–æ–¥–µ–ª—å Proposal
- [ ] –°–æ–∑–¥–∞–Ω–∞ –º–æ–¥–µ–ª—å ProposalVersion
- [ ] –°–æ–∑–¥–∞–Ω–∞ –º–æ–¥–µ–ª—å ProposalTemplate
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∞ –º–æ–¥–µ–ª—å ShareLink
- [ ] –í—ã–ø–æ–ª–Ω–µ–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ Document ‚Üí Proposal

### –ü—Ä–æ—Ñ–∏–ª—å –∫–æ–º–ø–∞–Ω–∏–∏
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∫–æ–º–ø–∞–Ω–∏–∏
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞ –ª–æ–≥–æ—Ç–∏–ø–∞
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–¥–ø–∏—Å–∏
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞ –ø–µ—á–∞—Ç–∏
- [ ] –§–æ—Ä–º–∞ —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ù–î–°

### –†–µ–¥–∞–∫—Ç–æ—Ä –ö–ü
- [ ] –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (–Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è)
- [ ] –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Ä–∞–∑–¥–µ–ª–∞–º
- [ ] BasicInfoSection
- [ ] ContextSection
- [ ] ProductsSection (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫–∞—Ç–∞–ª–æ–≥–æ–º)
- [ ] TermsSection
- [ ] GallerySection
- [ ] ContactsSection
- [ ] MiniPreview –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- [ ] useProposalForm —Ö—É–∫
- [ ] –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ

### –®–∞–±–ª–æ–Ω—ã
- [ ] –ú–æ–¥–µ–ª—å ProposalTemplate
- [ ] –ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã (4 —à—Ç)
- [ ] TemplateSelector –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- [ ] API –¥–ª—è —à–∞–±–ª–æ–Ω–æ–≤

### PDF
- [ ] renderProposalToHtml —Ñ—É–Ω–∫—Ü–∏—è
- [ ] –°—Ç–∏–ª–∏ –¥–ª—è PDF
- [ ] –û–±–Ω–æ–≤–ª—ë–Ω /api/pdf
- [ ] –û–±–Ω–æ–≤–ª—ë–Ω /app/p/[token]/pdf
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

### –ü—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø
- [ ] –û–±–Ω–æ–≤–ª—ë–Ω /app/p/[token]/page.tsx
- [ ] –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ Proposal
- [ ] –ö–Ω–æ–ø–∫–∞ —Å–∫–∞—á–∞—Ç—å PDF
- [ ] –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ö–∞—Ç–∞–ª–æ–≥
- [ ] –û–±–Ω–æ–≤–ª—ë–Ω CatalogTable
- [ ] API /api/proposals
- [ ] –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ö–ü
- [ ] –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å—É

### –û—á–∏—Å—Ç–∫–∞
- [ ] –£–¥–∞–ª–µ–Ω—ã TipTap –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- [ ] –£–¥–∞–ª–µ–Ω—ã —Ñ–∞–π–ª—ã lib/tiptap/
- [ ] –£–¥–∞–ª–µ–Ω—ã —Ñ–∞–π–ª—ã app/editor/blocks/
- [ ] –£–¥–∞–ª–µ–Ω—ã —Ñ–∞–π–ª—ã app/editor/settings/
- [ ] –£–¥–∞–ª—ë–Ω —Å—Ç–∞—Ä—ã–π PDF —Ä–µ–Ω–¥–µ—Ä–µ—Ä

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –ö–ü
- [ ] –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ö–ü
- [ ] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è PDF
- [ ] –ü—É–±–ª–∏—á–Ω–∞—è —Å—Å—ã–ª–∫–∞
- [ ] –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
- [ ] –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## –û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏

| –≠—Ç–∞–ø | –í—Ä–µ–º—è |
|------|-------|
| 1. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö | 2-3 —á–∞—Å–∞ |
| 2. –ü—Ä–æ—Ñ–∏–ª—å –∫–æ–º–ø–∞–Ω–∏–∏ | 3-4 —á–∞—Å–∞ |
| 3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞–º–∏ | 1 —á–∞—Å |
| 4. –§–æ—Ä–º–∞ –ö–ü | 8-10 —á–∞—Å–æ–≤ |
| 5. –®–∞–±–ª–æ–Ω—ã | 3-4 —á–∞—Å–∞ |
| 6. PDF —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ | 4-5 —á–∞—Å–æ–≤ |
| 7. –ü—É–±–ª–∏—á–Ω—ã–π preview | 2 —á–∞—Å–∞ |
| 8. –ö–∞—Ç–∞–ª–æ–≥ | 2-3 —á–∞—Å–∞ |
| 9. –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–≥–æ –∫–æ–¥–∞ | 1 —á–∞—Å |
| 10. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | 4-5 —á–∞—Å–æ–≤ |
| **–ò–¢–û–ì–û** | **30-40 —á–∞—Å–æ–≤** |

---

## –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã (–µ—Å–ª–∏ –¥–µ–ª–∞—Ç—å –ø–æ—ç—Ç–∞–ø–Ω–æ)

### MVP (–º–∏–Ω–∏–º—É–º –¥–ª—è –∑–∞–ø—É—Å–∫–∞)
1. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–≠—Ç–∞–ø 1)
2. –ë–∞–∑–æ–≤–∞—è —Ñ–æ—Ä–º–∞ –ö–ü –±–µ–∑ —à–∞–±–ª–æ–Ω–æ–≤ (–≠—Ç–∞–ø 4, —É–ø—Ä–æ—â—ë–Ω–Ω–æ)
3. PDF —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ (–≠—Ç–∞–ø 6)
4. –£–¥–∞–ª–µ–Ω–∏–µ TipTap (–≠—Ç–∞–ø 9)

### –í–µ—Ä—Å–∏—è 1.0 (–ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è)
5. –ü—Ä–æ—Ñ–∏–ª—å –∫–æ–º–ø–∞–Ω–∏–∏ (–≠—Ç–∞–ø 2)
6. –®–∞–±–ª–æ–Ω—ã (–≠—Ç–∞–ø 5)
7. –ü—É–±–ª–∏—á–Ω—ã–π preview (–≠—Ç–∞–ø 7)
8. –ö–∞—Ç–∞–ª–æ–≥ (–≠—Ç–∞–ø 8)

### –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ö–ü
- Content Library (snippets)
- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
- –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è
- –≠–∫—Å–ø–æ—Ä—Ç –≤ Word/Excel

---

## –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è

| –†–∏—Å–∫ | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | –ú–∏—Ç–∏–≥–∞—Ü–∏—è |
|------|-------------|-----------|
| –ü–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ | –°—Ä–µ–¥–Ω—è—è | –ë—ç–∫–∞–ø –ë–î, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ –∫–æ–ø–∏–∏ |
| PDF —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Å–ª–æ–º–∞–µ—Ç—Å—è | –ù–∏–∑–∫–∞—è | –û—Å—Ç–∞–≤–∏—Ç—å Puppeteer, —Ç–æ–ª—å–∫–æ —É–ø—Ä–æ—Å—Ç–∏—Ç—å HTML |
| –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø—Ä–∏–≤—ã–∫–ª–∏ –∫ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—É | –ù–∏–∑–∫–∞—è | –§–æ—Ä–º–∞ –Ω–∞–º–Ω–æ–≥–æ –ø—Ä–æ—â–µ, —Å–∫–æ—Ä–µ–µ –æ–±—Ä–∞–¥—É—é—Ç—Å—è |
| –ù–µ —Ö–≤–∞—Ç–∏—Ç –≥–∏–±–∫–æ—Å—Ç–∏ —Ñ–æ—Ä–º—ã | –°—Ä–µ–¥–Ω—è—è | –û—Å—Ç–∞–≤–∏—Ç—å –ø–æ–ª–µ "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ" |
| –®–∞–±–ª–æ–Ω—ã –Ω–µ –ø–æ–∫—Ä–æ—é—Ç –≤—Å–µ –∫–µ–π—Å—ã | –°—Ä–µ–¥–Ω—è—è | –î–æ–±–∞–≤–∏—Ç—å "–ü—É—Å—Ç–æ–π" —à–∞–±–ª–æ–Ω –¥–ª—è –≥–∏–±–∫–æ—Å—Ç–∏ |

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–û–¥–æ–±—Ä–µ–Ω–∏–µ –ø–ª–∞–Ω–∞** ‚Äî —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å—ë —É—á—Ç–µ–Ω–æ
2. **–°–æ–∑–¥–∞—Ç—å –≤–µ—Ç–∫—É** `git checkout -b feature/proposal-form`
3. **–ù–∞—á–∞—Ç—å —Å –≠—Ç–∞–ø–∞ 1** ‚Äî –º–∏–≥—Ä–∞—Ü–∏—è –ë–î
4. **–ü–æ—à–∞–≥–æ–≤–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å —á–µ–∫–ª–∏—Å—Ç**

---

–ì–æ—Ç–æ–≤—ã –ø—Ä–∏—Å—Ç—É–ø–∞—Ç—å? üöÄ
