{"version":3,"sources":["turbopack:///[project]/node_modules/next/src/shared/lib/image-blur-svg.ts","turbopack:///[project]/node_modules/next/src/shared/lib/image-config.ts","turbopack:///[project]/node_modules/next/src/shared/lib/get-img-props.ts","turbopack:///[project]/node_modules/next/src/shared/lib/side-effect.tsx","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/amp-context.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/head-manager-context.ts","turbopack:///[project]/node_modules/next/src/shared/lib/amp-mode.ts","turbopack:///[project]/node_modules/next/src/shared/lib/head.tsx","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/image-config-context.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/router-context.ts","turbopack:///[project]/node_modules/next/src/shared/lib/image-loader.ts","turbopack:///[project]/node_modules/next/src/client/image-component.tsx","turbopack:///[project]/node_modules/next/src/shared/lib/image-external.tsx","turbopack:///[project]/node_modules/next/image.js","turbopack:///[project]/components/ClientSelector.tsx","turbopack:///[project]/components/proposal-form/BasicInfoSection.tsx","turbopack:///[project]/components/proposal-form/ContextSection.tsx","turbopack:///[project]/components/proposal-form/AdvantagesSection.tsx","turbopack:///[project]/node_modules/@radix-ui/react-menu/dist/index.mjs","turbopack:///[project]/node_modules/@radix-ui/react-dropdown-menu/dist/index.mjs","turbopack:///[project]/components/ui/dropdown-menu.tsx","turbopack:///[project]/components/proposal-form/ProductsSection.tsx","turbopack:///[project]/components/proposal-form/TermsSection.tsx","turbopack:///[project]/components/proposal-form/GallerySection.tsx","turbopack:///[project]/components/proposal-form/ContactsSection.tsx","turbopack:///[project]/components/proposal-form/TemplateSelector.tsx","turbopack:///[project]/app/editor/page.tsx","turbopack:///[project]/components/proposal-form/TemplateManager.tsx","turbopack:///[project]/node_modules/@dnd-kit/accessibility/src/components/HiddenText/HiddenText.tsx","turbopack:///[project]/lib/types/proposal-template.ts","turbopack:///[project]/node_modules/@dnd-kit/utilities/src/hooks/useCombinedRefs.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/components/DndMonitor/context.ts","turbopack:///[project]/node_modules/@radix-ui/react-dropdown-menu/src/dropdown-menu.tsx","turbopack:///[project]/node_modules/@radix-ui/react-menu/src/menu.tsx","turbopack:///[project]/lib/proposal-templates/mapping.ts","turbopack:///[project]/node_modules/@dnd-kit/sortable/src/utilities/arrayMove.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/components/DndMonitor/useDndMonitor.ts","turbopack:///[project]/app/editor/hooks/useProposalForm.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/circle.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/percent.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/folder-plus.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/file-stack.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/upload.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/file-down.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/search.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/image.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/image-plus.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/arrow-left.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/grip-vertical.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/file-text.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/sparkles.ts","turbopack:///[project]/node_modules/@dnd-kit/utilities/src/execution-context/canUseDOM.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/eye.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/save.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/package.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/eye-off.ts","turbopack:///[project]/node_modules/@dnd-kit/utilities/src/type-guards/isWindow.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/star.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/components/DndMonitor/useDndMonitorProvider.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/layers.ts","turbopack:///[project]/node_modules/@dnd-kit/accessibility/src/components/LiveRegion/LiveRegion.tsx","turbopack:///[project]/node_modules/@dnd-kit/utilities/src/type-guards/isNode.ts","turbopack:///[project]/node_modules/@dnd-kit/sortable/src/utilities/getSortedRects.ts","turbopack:///[project]/node_modules/@dnd-kit/utilities/src/execution-context/getWindow.ts","turbopack:///[project]/lib/pdf/renderProposal.ts","turbopack:///[project]/node_modules/@dnd-kit/sortable/src/utilities/isValidIndex.ts","turbopack:///[project]/node_modules/@dnd-kit/sortable/src/utilities/itemsEqual.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/components/Accessibility/defaults.ts","turbopack:///[project]/node_modules/@dnd-kit/utilities/src/type-guards/isDocument.ts","turbopack:///[project]/node_modules/@dnd-kit/accessibility/src/hooks/useAnnouncement.ts","turbopack:///[project]/node_modules/@dnd-kit/utilities/src/type-guards/isHTMLElement.ts","turbopack:///[project]/node_modules/@dnd-kit/sortable/src/utilities/normalizeDisabled.ts","turbopack:///[project]/node_modules/@dnd-kit/utilities/src/type-guards/isSVGElement.ts","turbopack:///[project]/node_modules/@dnd-kit/utilities/src/execution-context/getOwnerDocument.ts","turbopack:///[project]/node_modules/@dnd-kit/sortable/src/strategies/horizontalListSorting.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/components/Accessibility/Accessibility.tsx","turbopack:///[project]/node_modules/@dnd-kit/utilities/src/hooks/useIsomorphicLayoutEffect.ts","turbopack:///[project]/node_modules/@dnd-kit/utilities/src/hooks/useEvent.ts","turbopack:///[project]/lib/types/proposal.ts","turbopack:///[project]/node_modules/@dnd-kit/utilities/src/hooks/useInterval.ts","turbopack:///[project]/node_modules/@dnd-kit/utilities/src/hooks/useLatestValue.ts","turbopack:///[project]/node_modules/@dnd-kit/utilities/src/hooks/useLazyMemo.ts","turbopack:///[project]/node_modules/@dnd-kit/sortable/src/strategies/rectSorting.ts","turbopack:///[project]/node_modules/@dnd-kit/utilities/src/hooks/useNodeRef.ts","turbopack:///[project]/node_modules/@dnd-kit/utilities/src/hooks/usePrevious.ts","turbopack:///[project]/node_modules/@dnd-kit/utilities/src/hooks/useUniqueId.ts","turbopack:///[project]/node_modules/@dnd-kit/sortable/src/strategies/rectSwapping.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/store/actions.ts","turbopack:///[project]/node_modules/@dnd-kit/utilities/src/adjustment.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/utilities/other/noop.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/sensors/useSensor.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/sensors/useSensors.ts","turbopack:///[project]/node_modules/@dnd-kit/sortable/src/strategies/verticalListSorting.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/utilities/coordinates/constants.ts","turbopack:///[project]/node_modules/@dnd-kit/utilities/src/event/hasViewportRelativeCoordinates.ts","turbopack:///[project]/node_modules/@dnd-kit/utilities/src/event/isKeyboardEvent.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/utilities/coordinates/distanceBetweenPoints.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/utilities/coordinates/getRelativeTransformOrigin.ts","turbopack:///[project]/node_modules/@dnd-kit/utilities/src/event/isTouchEvent.ts","turbopack:///[project]/node_modules/@dnd-kit/utilities/src/coordinates/getEventCoordinates.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/utilities/algorithms/helpers.ts","turbopack:///[project]/node_modules/@dnd-kit/utilities/src/css.ts","turbopack:///[project]/node_modules/@dnd-kit/sortable/src/components/SortableContext.tsx","turbopack:///[project]/node_modules/@dnd-kit/core/src/utilities/algorithms/closestCenter.ts","turbopack:///[project]/node_modules/@dnd-kit/utilities/src/focus/findFirstFocusableNode.ts","turbopack:///[project]/node_modules/@dnd-kit/sortable/src/hooks/defaults.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/utilities/algorithms/closestCorners.ts","turbopack:///[project]/node_modules/@dnd-kit/sortable/src/hooks/utilities/useDerivedTransform.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/utilities/algorithms/rectIntersection.ts","turbopack:///[project]/node_modules/@dnd-kit/sortable/src/hooks/useSortable.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/utilities/algorithms/pointerWithin.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/utilities/rect/adjustScale.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/utilities/rect/getRectDelta.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/utilities/rect/rectAdjustment.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/utilities/transform/parseTransform.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/utilities/transform/inverseTransform.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/utilities/rect/getRect.ts","turbopack:///[project]/node_modules/@dnd-kit/sortable/src/types/type-guard.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/utilities/rect/getWindowClientRect.ts","turbopack:///[project]/node_modules/@dnd-kit/sortable/src/sensors/keyboard/sortableKeyboardCoordinates.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/utilities/scroll/isFixed.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/utilities/scroll/isScrollable.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/utilities/scroll/getScrollableAncestors.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/utilities/scroll/getScrollableElement.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/utilities/scroll/getScrollCoordinates.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/types/direction.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/utilities/scroll/documentScrollingElement.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/utilities/scroll/getScrollPosition.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/utilities/scroll/getScrollDirectionAndSpeed.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/utilities/scroll/getScrollElementRect.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/utilities/scroll/getScrollOffsets.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/utilities/scroll/scrollIntoViewIfNeeded.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/utilities/rect/Rect.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/sensors/utilities/Listeners.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/sensors/utilities/getEventListenerTarget.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/sensors/utilities/hasExceededDistance.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/sensors/events.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/sensors/keyboard/types.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/sensors/keyboard/defaults.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/sensors/keyboard/KeyboardSensor.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/sensors/pointer/AbstractPointerSensor.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/sensors/pointer/PointerSensor.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/sensors/mouse/MouseSensor.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/sensors/touch/TouchSensor.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/hooks/utilities/useAutoScroller.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/hooks/utilities/useCachedNode.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/hooks/utilities/useCombineActivators.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/hooks/utilities/useDroppableMeasuring.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/hooks/utilities/useInitialValue.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/hooks/utilities/useInitialRect.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/hooks/utilities/useMutationObserver.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/hooks/utilities/useResizeObserver.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/hooks/utilities/useRect.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/hooks/utilities/useRectDelta.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/hooks/utilities/useScrollableAncestors.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/hooks/utilities/useScrollOffsets.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/hooks/utilities/useScrollOffsetsDelta.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/hooks/utilities/useSensorSetup.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/hooks/utilities/useSyntheticListeners.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/hooks/utilities/useWindowRect.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/hooks/utilities/useRects.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/utilities/nodes/getMeasurableNode.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/hooks/utilities/useDragOverlayMeasuring.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/components/DndContext/defaults.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/store/constructors.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/store/context.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/store/reducer.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/components/Accessibility/components/RestoreFocus.tsx","turbopack:///[project]/node_modules/@dnd-kit/core/src/modifiers/applyModifiers.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/components/DndContext/hooks/useMeasuringConfiguration.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/components/DndContext/hooks/useLayoutShiftScrollCompensation.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/components/DndContext/DndContext.tsx","turbopack:///[project]/node_modules/@dnd-kit/core/src/hooks/useDraggable.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/hooks/useDndContext.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/hooks/useDroppable.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/components/DragOverlay/components/AnimationManager/AnimationManager.tsx","turbopack:///[project]/node_modules/@dnd-kit/core/src/components/DragOverlay/components/NullifiedContextProvider/NullifiedContextProvider.tsx","turbopack:///[project]/node_modules/@dnd-kit/core/src/components/DragOverlay/components/PositionedOverlay/PositionedOverlay.tsx","turbopack:///[project]/node_modules/@dnd-kit/core/src/components/DragOverlay/hooks/useDropAnimation.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/components/DragOverlay/hooks/useKey.ts","turbopack:///[project]/node_modules/@dnd-kit/core/src/components/DragOverlay/DragOverlay.tsx"],"sourcesContent":["/**\n * A shared function, used on both client and server, to generate a SVG blur placeholder.\n */\nexport function getImageBlurSvg({\n  widthInt,\n  heightInt,\n  blurWidth,\n  blurHeight,\n  blurDataURL,\n  objectFit,\n}: {\n  widthInt?: number\n  heightInt?: number\n  blurWidth?: number\n  blurHeight?: number\n  blurDataURL: string\n  objectFit?: string\n}): string {\n  const std = 20\n  const svgWidth = blurWidth ? blurWidth * 40 : widthInt\n  const svgHeight = blurHeight ? blurHeight * 40 : heightInt\n\n  const viewBox =\n    svgWidth && svgHeight ? `viewBox='0 0 ${svgWidth} ${svgHeight}'` : ''\n  const preserveAspectRatio = viewBox\n    ? 'none'\n    : objectFit === 'contain'\n      ? 'xMidYMid'\n      : objectFit === 'cover'\n        ? 'xMidYMid slice'\n        : 'none'\n\n  return `%3Csvg xmlns='http://www.w3.org/2000/svg' ${viewBox}%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='${std}'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='${std}'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='${preserveAspectRatio}' style='filter: url(%23b);' href='${blurDataURL}'/%3E%3C/svg%3E`\n}\n","export const VALID_LOADERS = [\n  'default',\n  'imgix',\n  'cloudinary',\n  'akamai',\n  'custom',\n] as const\n\nexport type LoaderValue = (typeof VALID_LOADERS)[number]\n\nexport type ImageLoaderProps = {\n  src: string\n  width: number\n  quality?: number\n}\n\nexport type ImageLoaderPropsWithConfig = ImageLoaderProps & {\n  config: Readonly<ImageConfig>\n}\n\nexport type LocalPattern = {\n  /**\n   * Can be literal or wildcard.\n   * Single `*` matches a single path segment.\n   * Double `**` matches any number of path segments.\n   */\n  pathname?: string\n\n  /**\n   * Can be literal query string such as `?v=1` or\n   * empty string meaning no query string.\n   */\n  search?: string\n}\n\nexport type RemotePattern = {\n  /**\n   * Must be `http` or `https`.\n   */\n  protocol?: 'http' | 'https'\n\n  /**\n   * Can be literal or wildcard.\n   * Single `*` matches a single subdomain.\n   * Double `**` matches any number of subdomains.\n   */\n  hostname: string\n\n  /**\n   * Can be literal port such as `8080` or empty string\n   * meaning no port.\n   */\n  port?: string\n\n  /**\n   * Can be literal or wildcard.\n   * Single `*` matches a single path segment.\n   * Double `**` matches any number of path segments.\n   */\n  pathname?: string\n\n  /**\n   * Can be literal query string such as `?v=1` or\n   * empty string meaning no query string.\n   */\n  search?: string\n}\n\ntype ImageFormat = 'image/avif' | 'image/webp'\n\n/**\n * Image configurations\n *\n * @see [Image configuration options](https://nextjs.org/docs/api-reference/next/image#configuration-options)\n */\nexport type ImageConfigComplete = {\n  /** @see [Device sizes documentation](https://nextjs.org/docs/api-reference/next/image#device-sizes) */\n  deviceSizes: number[]\n\n  /** @see [Image sizing documentation](https://nextjs.org/docs/app/building-your-application/optimizing/images#image-sizing) */\n  imageSizes: number[]\n\n  /** @see [Image loaders configuration](https://nextjs.org/docs/api-reference/next/legacy/image#loader) */\n  loader: LoaderValue\n\n  /** @see [Image loader configuration](https://nextjs.org/docs/app/api-reference/components/image#path) */\n  path: string\n\n  /** @see [Image loader configuration](https://nextjs.org/docs/api-reference/next/image#loader-configuration) */\n  loaderFile: string\n\n  /**\n   * @deprecated Use `remotePatterns` instead.\n   */\n  domains: string[]\n\n  /** @see [Disable static image import configuration](https://nextjs.org/docs/api-reference/next/image#disable-static-imports) */\n  disableStaticImages: boolean\n\n  /** @see [Cache behavior](https://nextjs.org/docs/api-reference/next/image#caching-behavior) */\n  minimumCacheTTL: number\n\n  /** @see [Acceptable formats](https://nextjs.org/docs/api-reference/next/image#acceptable-formats) */\n  formats: ImageFormat[]\n\n  /** @see [Dangerously Allow SVG](https://nextjs.org/docs/api-reference/next/image#dangerously-allow-svg) */\n  dangerouslyAllowSVG: boolean\n\n  /** @see [Content Security Policy](https://nextjs.org/docs/api-reference/next/image#contentsecuritypolicy) */\n  contentSecurityPolicy: string\n\n  /** @see [Content Disposition Type](https://nextjs.org/docs/api-reference/next/image#contentdispositiontype) */\n  contentDispositionType: 'inline' | 'attachment'\n\n  /** @see [Remote Patterns](https://nextjs.org/docs/api-reference/next/image#remotepatterns) */\n  remotePatterns: Array<URL | RemotePattern>\n\n  /** @see [Local Patterns](https://nextjs.org/docs/api-reference/next/image#localPatterns) */\n  localPatterns: LocalPattern[] | undefined\n\n  /** @see [Qualities](https://nextjs.org/docs/api-reference/next/image#qualities) */\n  qualities: number[] | undefined\n\n  /** @see [Unoptimized](https://nextjs.org/docs/api-reference/next/image#unoptimized) */\n  unoptimized: boolean\n}\n\nexport type ImageConfig = Partial<ImageConfigComplete>\n\nexport const imageConfigDefault: ImageConfigComplete = {\n  deviceSizes: [640, 750, 828, 1080, 1200, 1920, 2048, 3840],\n  imageSizes: [16, 32, 48, 64, 96, 128, 256, 384],\n  path: '/_next/image',\n  loader: 'default',\n  loaderFile: '',\n  domains: [],\n  disableStaticImages: false,\n  minimumCacheTTL: 60,\n  formats: ['image/webp'],\n  dangerouslyAllowSVG: false,\n  contentSecurityPolicy: `script-src 'none'; frame-src 'none'; sandbox;`,\n  contentDispositionType: 'attachment',\n  localPatterns: undefined, // default: allow all local images\n  remotePatterns: [], // default: allow no remote images\n  qualities: undefined, // default: allow all qualities\n  unoptimized: false,\n}\n","import { warnOnce } from './utils/warn-once'\nimport { getImageBlurSvg } from './image-blur-svg'\nimport { imageConfigDefault } from './image-config'\nimport type {\n  ImageConfigComplete,\n  ImageLoaderProps,\n  ImageLoaderPropsWithConfig,\n} from './image-config'\n\nimport type { CSSProperties, JSX } from 'react'\n\nexport interface StaticImageData {\n  src: string\n  height: number\n  width: number\n  blurDataURL?: string\n  blurWidth?: number\n  blurHeight?: number\n}\n\nexport interface StaticRequire {\n  default: StaticImageData\n}\n\nexport type StaticImport = StaticRequire | StaticImageData\n\nexport type ImageProps = Omit<\n  JSX.IntrinsicElements['img'],\n  'src' | 'srcSet' | 'ref' | 'alt' | 'width' | 'height' | 'loading'\n> & {\n  src: string | StaticImport\n  alt: string\n  width?: number | `${number}`\n  height?: number | `${number}`\n  fill?: boolean\n  loader?: ImageLoader\n  quality?: number | `${number}`\n  priority?: boolean\n  loading?: LoadingValue\n  placeholder?: PlaceholderValue\n  blurDataURL?: string\n  unoptimized?: boolean\n  overrideSrc?: string\n  /**\n   * @deprecated Use `onLoad` instead.\n   * @see https://nextjs.org/docs/app/api-reference/components/image#onload\n   */\n  onLoadingComplete?: OnLoadingComplete\n  /**\n   * @deprecated Use `fill` prop instead of `layout=\"fill\"` or change import to `next/legacy/image`.\n   * @see https://nextjs.org/docs/api-reference/next/legacy/image\n   */\n  layout?: string\n  /**\n   * @deprecated Use `style` prop instead.\n   */\n  objectFit?: string\n  /**\n   * @deprecated Use `style` prop instead.\n   */\n  objectPosition?: string\n  /**\n   * @deprecated This prop does not do anything.\n   */\n  lazyBoundary?: string\n  /**\n   * @deprecated This prop does not do anything.\n   */\n  lazyRoot?: string\n}\n\nexport type ImgProps = Omit<ImageProps, 'src' | 'loader'> & {\n  loading: LoadingValue\n  width: number | undefined\n  height: number | undefined\n  style: NonNullable<JSX.IntrinsicElements['img']['style']>\n  sizes: string | undefined\n  srcSet: string | undefined\n  src: string\n}\n\nconst VALID_LOADING_VALUES = ['lazy', 'eager', undefined] as const\n\n// Object-fit values that are not valid background-size values\nconst INVALID_BACKGROUND_SIZE_VALUES = [\n  '-moz-initial',\n  'fill',\n  'none',\n  'scale-down',\n  undefined,\n]\ntype LoadingValue = (typeof VALID_LOADING_VALUES)[number]\ntype ImageConfig = ImageConfigComplete & {\n  allSizes: number[]\n  output?: 'standalone' | 'export'\n}\n\nexport type ImageLoader = (p: ImageLoaderProps) => string\n\n// Do not export - this is an internal type only\n// because `next.config.js` is only meant for the\n// built-in loaders, not for a custom loader() prop.\ntype ImageLoaderWithConfig = (p: ImageLoaderPropsWithConfig) => string\n\nexport type PlaceholderValue = 'blur' | 'empty' | `data:image/${string}`\nexport type OnLoad = React.ReactEventHandler<HTMLImageElement> | undefined\nexport type OnLoadingComplete = (img: HTMLImageElement) => void\n\nexport type PlaceholderStyle = Partial<\n  Pick<\n    CSSProperties,\n    | 'backgroundSize'\n    | 'backgroundPosition'\n    | 'backgroundRepeat'\n    | 'backgroundImage'\n  >\n>\n\nfunction isStaticRequire(\n  src: StaticRequire | StaticImageData\n): src is StaticRequire {\n  return (src as StaticRequire).default !== undefined\n}\n\nfunction isStaticImageData(\n  src: StaticRequire | StaticImageData\n): src is StaticImageData {\n  return (src as StaticImageData).src !== undefined\n}\n\nfunction isStaticImport(src: string | StaticImport): src is StaticImport {\n  return (\n    !!src &&\n    typeof src === 'object' &&\n    (isStaticRequire(src as StaticImport) ||\n      isStaticImageData(src as StaticImport))\n  )\n}\n\nconst allImgs = new Map<\n  string,\n  { src: string; priority: boolean; placeholder: PlaceholderValue }\n>()\nlet perfObserver: PerformanceObserver | undefined\n\nfunction getInt(x: unknown): number | undefined {\n  if (typeof x === 'undefined') {\n    return x\n  }\n  if (typeof x === 'number') {\n    return Number.isFinite(x) ? x : NaN\n  }\n  if (typeof x === 'string' && /^[0-9]+$/.test(x)) {\n    return parseInt(x, 10)\n  }\n  return NaN\n}\n\nfunction getWidths(\n  { deviceSizes, allSizes }: ImageConfig,\n  width: number | undefined,\n  sizes: string | undefined\n): { widths: number[]; kind: 'w' | 'x' } {\n  if (sizes) {\n    // Find all the \"vw\" percent sizes used in the sizes prop\n    const viewportWidthRe = /(^|\\s)(1?\\d?\\d)vw/g\n    const percentSizes = []\n    for (let match; (match = viewportWidthRe.exec(sizes)); match) {\n      percentSizes.push(parseInt(match[2]))\n    }\n    if (percentSizes.length) {\n      const smallestRatio = Math.min(...percentSizes) * 0.01\n      return {\n        widths: allSizes.filter((s) => s >= deviceSizes[0] * smallestRatio),\n        kind: 'w',\n      }\n    }\n    return { widths: allSizes, kind: 'w' }\n  }\n  if (typeof width !== 'number') {\n    return { widths: deviceSizes, kind: 'w' }\n  }\n\n  const widths = [\n    ...new Set(\n      // > This means that most OLED screens that say they are 3x resolution,\n      // > are actually 3x in the green color, but only 1.5x in the red and\n      // > blue colors. Showing a 3x resolution image in the app vs a 2x\n      // > resolution image will be visually the same, though the 3x image\n      // > takes significantly more data. Even true 3x resolution screens are\n      // > wasteful as the human eye cannot see that level of detail without\n      // > something like a magnifying glass.\n      // https://blog.twitter.com/engineering/en_us/topics/infrastructure/2019/capping-image-fidelity-on-ultra-high-resolution-devices.html\n      [width, width * 2 /*, width * 3*/].map(\n        (w) => allSizes.find((p) => p >= w) || allSizes[allSizes.length - 1]\n      )\n    ),\n  ]\n  return { widths, kind: 'x' }\n}\n\ntype GenImgAttrsData = {\n  config: ImageConfig\n  src: string\n  unoptimized: boolean\n  loader: ImageLoaderWithConfig\n  width?: number\n  quality?: number\n  sizes?: string\n}\n\ntype GenImgAttrsResult = {\n  src: string\n  srcSet: string | undefined\n  sizes: string | undefined\n}\n\nfunction generateImgAttrs({\n  config,\n  src,\n  unoptimized,\n  width,\n  quality,\n  sizes,\n  loader,\n}: GenImgAttrsData): GenImgAttrsResult {\n  if (unoptimized) {\n    return { src, srcSet: undefined, sizes: undefined }\n  }\n\n  const { widths, kind } = getWidths(config, width, sizes)\n  const last = widths.length - 1\n\n  return {\n    sizes: !sizes && kind === 'w' ? '100vw' : sizes,\n    srcSet: widths\n      .map(\n        (w, i) =>\n          `${loader({ config, src, quality, width: w })} ${\n            kind === 'w' ? w : i + 1\n          }${kind}`\n      )\n      .join(', '),\n\n    // It's intended to keep `src` the last attribute because React updates\n    // attributes in order. If we keep `src` the first one, Safari will\n    // immediately start to fetch `src`, before `sizes` and `srcSet` are even\n    // updated by React. That causes multiple unnecessary requests if `srcSet`\n    // and `sizes` are defined.\n    // This bug cannot be reproduced in Chrome or Firefox.\n    src: loader({ config, src, quality, width: widths[last] }),\n  }\n}\n\n/**\n * A shared function, used on both client and server, to generate the props for <img>.\n */\nexport function getImgProps(\n  {\n    src,\n    sizes,\n    unoptimized = false,\n    priority = false,\n    loading,\n    className,\n    quality,\n    width,\n    height,\n    fill = false,\n    style,\n    overrideSrc,\n    onLoad,\n    onLoadingComplete,\n    placeholder = 'empty',\n    blurDataURL,\n    fetchPriority,\n    decoding = 'async',\n    layout,\n    objectFit,\n    objectPosition,\n    lazyBoundary,\n    lazyRoot,\n    ...rest\n  }: ImageProps,\n  _state: {\n    defaultLoader: ImageLoaderWithConfig\n    imgConf: ImageConfigComplete\n    showAltText?: boolean\n    blurComplete?: boolean\n  }\n): {\n  props: ImgProps\n  meta: {\n    unoptimized: boolean\n    priority: boolean\n    placeholder: NonNullable<ImageProps['placeholder']>\n    fill: boolean\n  }\n} {\n  const { imgConf, showAltText, blurComplete, defaultLoader } = _state\n  let config: ImageConfig\n  let c = imgConf || imageConfigDefault\n  if ('allSizes' in c) {\n    config = c as ImageConfig\n  } else {\n    const allSizes = [...c.deviceSizes, ...c.imageSizes].sort((a, b) => a - b)\n    const deviceSizes = c.deviceSizes.sort((a, b) => a - b)\n    const qualities = c.qualities?.sort((a, b) => a - b)\n    config = { ...c, allSizes, deviceSizes, qualities }\n  }\n\n  if (typeof defaultLoader === 'undefined') {\n    throw new Error(\n      'images.loaderFile detected but the file is missing default export.\\nRead more: https://nextjs.org/docs/messages/invalid-images-config'\n    )\n  }\n  let loader: ImageLoaderWithConfig = rest.loader || defaultLoader\n\n  // Remove property so it's not spread on <img> element\n  delete rest.loader\n  delete (rest as any).srcSet\n\n  // This special value indicates that the user\n  // didn't define a \"loader\" prop or \"loader\" config.\n  const isDefaultLoader = '__next_img_default' in loader\n\n  if (isDefaultLoader) {\n    if (config.loader === 'custom') {\n      throw new Error(\n        `Image with src \"${src}\" is missing \"loader\" prop.` +\n          `\\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader`\n      )\n    }\n  } else {\n    // The user defined a \"loader\" prop or config.\n    // Since the config object is internal only, we\n    // must not pass it to the user-defined \"loader\".\n    const customImageLoader = loader as ImageLoader\n    loader = (obj) => {\n      const { config: _, ...opts } = obj\n      return customImageLoader(opts)\n    }\n  }\n\n  if (layout) {\n    if (layout === 'fill') {\n      fill = true\n    }\n    const layoutToStyle: Record<string, Record<string, string> | undefined> = {\n      intrinsic: { maxWidth: '100%', height: 'auto' },\n      responsive: { width: '100%', height: 'auto' },\n    }\n    const layoutToSizes: Record<string, string | undefined> = {\n      responsive: '100vw',\n      fill: '100vw',\n    }\n    const layoutStyle = layoutToStyle[layout]\n    if (layoutStyle) {\n      style = { ...style, ...layoutStyle }\n    }\n    const layoutSizes = layoutToSizes[layout]\n    if (layoutSizes && !sizes) {\n      sizes = layoutSizes\n    }\n  }\n\n  let staticSrc = ''\n  let widthInt = getInt(width)\n  let heightInt = getInt(height)\n  let blurWidth: number | undefined\n  let blurHeight: number | undefined\n  if (isStaticImport(src)) {\n    const staticImageData = isStaticRequire(src) ? src.default : src\n\n    if (!staticImageData.src) {\n      throw new Error(\n        `An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ${JSON.stringify(\n          staticImageData\n        )}`\n      )\n    }\n    if (!staticImageData.height || !staticImageData.width) {\n      throw new Error(\n        `An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ${JSON.stringify(\n          staticImageData\n        )}`\n      )\n    }\n\n    blurWidth = staticImageData.blurWidth\n    blurHeight = staticImageData.blurHeight\n    blurDataURL = blurDataURL || staticImageData.blurDataURL\n    staticSrc = staticImageData.src\n\n    if (!fill) {\n      if (!widthInt && !heightInt) {\n        widthInt = staticImageData.width\n        heightInt = staticImageData.height\n      } else if (widthInt && !heightInt) {\n        const ratio = widthInt / staticImageData.width\n        heightInt = Math.round(staticImageData.height * ratio)\n      } else if (!widthInt && heightInt) {\n        const ratio = heightInt / staticImageData.height\n        widthInt = Math.round(staticImageData.width * ratio)\n      }\n    }\n  }\n  src = typeof src === 'string' ? src : staticSrc\n\n  let isLazy =\n    !priority && (loading === 'lazy' || typeof loading === 'undefined')\n  if (!src || src.startsWith('data:') || src.startsWith('blob:')) {\n    // https://developer.mozilla.org/docs/Web/HTTP/Basics_of_HTTP/Data_URIs\n    unoptimized = true\n    isLazy = false\n  }\n  if (config.unoptimized) {\n    unoptimized = true\n  }\n  if (\n    isDefaultLoader &&\n    !config.dangerouslyAllowSVG &&\n    src.split('?', 1)[0].endsWith('.svg')\n  ) {\n    // Special case to make svg serve as-is to avoid proxying\n    // through the built-in Image Optimization API.\n    unoptimized = true\n  }\n\n  const qualityInt = getInt(quality)\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (config.output === 'export' && isDefaultLoader && !unoptimized) {\n      throw new Error(\n        `Image Optimization using the default loader is not compatible with \\`{ output: 'export' }\\`.\n  Possible solutions:\n    - Remove \\`{ output: 'export' }\\` and run \"next start\" to run server mode including the Image Optimization API.\n    - Configure \\`{ images: { unoptimized: true } }\\` in \\`next.config.js\\` to disable the Image Optimization API.\n  Read more: https://nextjs.org/docs/messages/export-image-api`\n      )\n    }\n    if (!src) {\n      // React doesn't show the stack trace and there's\n      // no `src` to help identify which image, so we\n      // instead console.error(ref) during mount.\n      unoptimized = true\n    } else {\n      if (fill) {\n        if (width) {\n          throw new Error(\n            `Image with src \"${src}\" has both \"width\" and \"fill\" properties. Only one should be used.`\n          )\n        }\n        if (height) {\n          throw new Error(\n            `Image with src \"${src}\" has both \"height\" and \"fill\" properties. Only one should be used.`\n          )\n        }\n        if (style?.position && style.position !== 'absolute') {\n          throw new Error(\n            `Image with src \"${src}\" has both \"fill\" and \"style.position\" properties. Images with \"fill\" always use position absolute - it cannot be modified.`\n          )\n        }\n        if (style?.width && style.width !== '100%') {\n          throw new Error(\n            `Image with src \"${src}\" has both \"fill\" and \"style.width\" properties. Images with \"fill\" always use width 100% - it cannot be modified.`\n          )\n        }\n        if (style?.height && style.height !== '100%') {\n          throw new Error(\n            `Image with src \"${src}\" has both \"fill\" and \"style.height\" properties. Images with \"fill\" always use height 100% - it cannot be modified.`\n          )\n        }\n      } else {\n        if (typeof widthInt === 'undefined') {\n          throw new Error(\n            `Image with src \"${src}\" is missing required \"width\" property.`\n          )\n        } else if (isNaN(widthInt)) {\n          throw new Error(\n            `Image with src \"${src}\" has invalid \"width\" property. Expected a numeric value in pixels but received \"${width}\".`\n          )\n        }\n        if (typeof heightInt === 'undefined') {\n          throw new Error(\n            `Image with src \"${src}\" is missing required \"height\" property.`\n          )\n        } else if (isNaN(heightInt)) {\n          throw new Error(\n            `Image with src \"${src}\" has invalid \"height\" property. Expected a numeric value in pixels but received \"${height}\".`\n          )\n        }\n        // eslint-disable-next-line no-control-regex\n        if (/^[\\x00-\\x20]/.test(src)) {\n          throw new Error(\n            `Image with src \"${src}\" cannot start with a space or control character. Use src.trimStart() to remove it or encodeURIComponent(src) to keep it.`\n          )\n        }\n        // eslint-disable-next-line no-control-regex\n        if (/[\\x00-\\x20]$/.test(src)) {\n          throw new Error(\n            `Image with src \"${src}\" cannot end with a space or control character. Use src.trimEnd() to remove it or encodeURIComponent(src) to keep it.`\n          )\n        }\n      }\n    }\n    if (!VALID_LOADING_VALUES.includes(loading)) {\n      throw new Error(\n        `Image with src \"${src}\" has invalid \"loading\" property. Provided \"${loading}\" should be one of ${VALID_LOADING_VALUES.map(\n          String\n        ).join(',')}.`\n      )\n    }\n    if (priority && loading === 'lazy') {\n      throw new Error(\n        `Image with src \"${src}\" has both \"priority\" and \"loading='lazy'\" properties. Only one should be used.`\n      )\n    }\n    if (\n      placeholder !== 'empty' &&\n      placeholder !== 'blur' &&\n      !placeholder.startsWith('data:image/')\n    ) {\n      throw new Error(\n        `Image with src \"${src}\" has invalid \"placeholder\" property \"${placeholder}\".`\n      )\n    }\n    if (placeholder !== 'empty') {\n      if (widthInt && heightInt && widthInt * heightInt < 1600) {\n        warnOnce(\n          `Image with src \"${src}\" is smaller than 40x40. Consider removing the \"placeholder\" property to improve performance.`\n        )\n      }\n    }\n    if (qualityInt && qualityInt !== 75 && !config.qualities) {\n      warnOnce(\n        `Image with src \"${src}\" is using quality \"${qualityInt}\" which is not configured in images.qualities. This config will be required starting in Next.js 16.` +\n          `\\nRead more: https://nextjs.org/docs/messages/next-image-unconfigured-qualities`\n      )\n    }\n    if (\n      src.startsWith('/') &&\n      src.includes('?') &&\n      (!config?.localPatterns?.length ||\n        (config.localPatterns.length === 1 &&\n          config.localPatterns[0].pathname === '/_next/static/media/**'))\n    ) {\n      warnOnce(\n        `Image with src \"${src}\" is using a query string which is not configured in images.localPatterns. This config will be required starting in Next.js 16.` +\n          `\\nRead more: https://nextjs.org/docs/messages/next-image-unconfigured-localpatterns`\n      )\n    }\n    if (placeholder === 'blur' && !blurDataURL) {\n      const VALID_BLUR_EXT = ['jpeg', 'png', 'webp', 'avif'] // should match next-image-loader\n\n      throw new Error(\n        `Image with src \"${src}\" has \"placeholder='blur'\" property but is missing the \"blurDataURL\" property.\n        Possible solutions:\n          - Add a \"blurDataURL\" property, the contents should be a small Data URL to represent the image\n          - Change the \"src\" property to a static import with one of the supported file types: ${VALID_BLUR_EXT.join(\n            ','\n          )} (animated images not supported)\n          - Remove the \"placeholder\" property, effectively no blur effect\n        Read more: https://nextjs.org/docs/messages/placeholder-blur-data-url`\n      )\n    }\n    if ('ref' in rest) {\n      warnOnce(\n        `Image with src \"${src}\" is using unsupported \"ref\" property. Consider using the \"onLoad\" property instead.`\n      )\n    }\n\n    if (!unoptimized && !isDefaultLoader) {\n      const urlStr = loader({\n        config,\n        src,\n        width: widthInt || 400,\n        quality: qualityInt || 75,\n      })\n      let url: URL | undefined\n      try {\n        url = new URL(urlStr)\n      } catch (err) {}\n      if (urlStr === src || (url && url.pathname === src && !url.search)) {\n        warnOnce(\n          `Image with src \"${src}\" has a \"loader\" property that does not implement width. Please implement it or use the \"unoptimized\" property instead.` +\n            `\\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader-width`\n        )\n      }\n    }\n\n    if (onLoadingComplete) {\n      warnOnce(\n        `Image with src \"${src}\" is using deprecated \"onLoadingComplete\" property. Please use the \"onLoad\" property instead.`\n      )\n    }\n\n    for (const [legacyKey, legacyValue] of Object.entries({\n      layout,\n      objectFit,\n      objectPosition,\n      lazyBoundary,\n      lazyRoot,\n    })) {\n      if (legacyValue) {\n        warnOnce(\n          `Image with src \"${src}\" has legacy prop \"${legacyKey}\". Did you forget to run the codemod?` +\n            `\\nRead more: https://nextjs.org/docs/messages/next-image-upgrade-to-13`\n        )\n      }\n    }\n\n    if (\n      typeof window !== 'undefined' &&\n      !perfObserver &&\n      window.PerformanceObserver\n    ) {\n      perfObserver = new PerformanceObserver((entryList) => {\n        for (const entry of entryList.getEntries()) {\n          // @ts-ignore - missing \"LargestContentfulPaint\" class with \"element\" prop\n          const imgSrc = entry?.element?.src || ''\n          const lcpImage = allImgs.get(imgSrc)\n          if (\n            lcpImage &&\n            !lcpImage.priority &&\n            lcpImage.placeholder === 'empty' &&\n            !lcpImage.src.startsWith('data:') &&\n            !lcpImage.src.startsWith('blob:')\n          ) {\n            // https://web.dev/lcp/#measure-lcp-in-javascript\n            warnOnce(\n              `Image with src \"${lcpImage.src}\" was detected as the Largest Contentful Paint (LCP). Please add the \"priority\" property if this image is above the fold.` +\n                `\\nRead more: https://nextjs.org/docs/api-reference/next/image#priority`\n            )\n          }\n        }\n      })\n      try {\n        perfObserver.observe({\n          type: 'largest-contentful-paint',\n          buffered: true,\n        })\n      } catch (err) {\n        // Log error but don't crash the app\n        console.error(err)\n      }\n    }\n  }\n  const imgStyle = Object.assign(\n    fill\n      ? {\n          position: 'absolute',\n          height: '100%',\n          width: '100%',\n          left: 0,\n          top: 0,\n          right: 0,\n          bottom: 0,\n          objectFit,\n          objectPosition,\n        }\n      : {},\n    showAltText ? {} : { color: 'transparent' },\n    style\n  )\n\n  const backgroundImage =\n    !blurComplete && placeholder !== 'empty'\n      ? placeholder === 'blur'\n        ? `url(\"data:image/svg+xml;charset=utf-8,${getImageBlurSvg({\n            widthInt,\n            heightInt,\n            blurWidth,\n            blurHeight,\n            blurDataURL: blurDataURL || '', // assume not undefined\n            objectFit: imgStyle.objectFit,\n          })}\")`\n        : `url(\"${placeholder}\")` // assume `data:image/`\n      : null\n\n  const backgroundSize = !INVALID_BACKGROUND_SIZE_VALUES.includes(\n    imgStyle.objectFit\n  )\n    ? imgStyle.objectFit\n    : imgStyle.objectFit === 'fill'\n      ? '100% 100%' // the background-size equivalent of `fill`\n      : 'cover'\n\n  let placeholderStyle: PlaceholderStyle = backgroundImage\n    ? {\n        backgroundSize,\n        backgroundPosition: imgStyle.objectPosition || '50% 50%',\n        backgroundRepeat: 'no-repeat',\n        backgroundImage,\n      }\n    : {}\n\n  if (process.env.NODE_ENV === 'development') {\n    if (\n      placeholderStyle.backgroundImage &&\n      placeholder === 'blur' &&\n      blurDataURL?.startsWith('/')\n    ) {\n      // During `next dev`, we don't want to generate blur placeholders with webpack\n      // because it can delay starting the dev server. Instead, `next-image-loader.js`\n      // will inline a special url to lazily generate the blur placeholder at request time.\n      placeholderStyle.backgroundImage = `url(\"${blurDataURL}\")`\n    }\n  }\n\n  const imgAttributes = generateImgAttrs({\n    config,\n    src,\n    unoptimized,\n    width: widthInt,\n    quality: qualityInt,\n    sizes,\n    loader,\n  })\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof window !== 'undefined') {\n      let fullUrl: URL\n      try {\n        fullUrl = new URL(imgAttributes.src)\n      } catch (e) {\n        fullUrl = new URL(imgAttributes.src, window.location.href)\n      }\n      allImgs.set(fullUrl.href, { src, priority, placeholder })\n    }\n  }\n\n  const props: ImgProps = {\n    ...rest,\n    loading: isLazy ? 'lazy' : loading,\n    fetchPriority,\n    width: widthInt,\n    height: heightInt,\n    decoding,\n    className,\n    style: { ...imgStyle, ...placeholderStyle },\n    sizes: imgAttributes.sizes,\n    srcSet: imgAttributes.srcSet,\n    src: overrideSrc || imgAttributes.src,\n  }\n  const meta = { unoptimized, priority, placeholder, fill }\n  return { props, meta }\n}\n","import type React from 'react'\nimport { Children, useEffect, useLayoutEffect, type JSX } from 'react'\n\ntype State = JSX.Element[] | undefined\n\nexport type SideEffectProps = {\n  reduceComponentsToState: <T extends {}>(\n    components: Array<React.ReactElement<any>>,\n    props: T\n  ) => State\n  handleStateChange?: (state: State) => void\n  headManager: any\n  inAmpMode?: boolean\n  children: React.ReactNode\n}\n\nconst isServer = typeof window === 'undefined'\nconst useClientOnlyLayoutEffect = isServer ? () => {} : useLayoutEffect\nconst useClientOnlyEffect = isServer ? () => {} : useEffect\n\nexport default function SideEffect(props: SideEffectProps) {\n  const { headManager, reduceComponentsToState } = props\n\n  function emitChange() {\n    if (headManager && headManager.mountedInstances) {\n      const headElements = Children.toArray(\n        Array.from(headManager.mountedInstances as Set<React.ReactNode>).filter(\n          Boolean\n        )\n      ) as React.ReactElement[]\n      headManager.updateHead(reduceComponentsToState(headElements, props))\n    }\n  }\n\n  if (isServer) {\n    headManager?.mountedInstances?.add(props.children)\n    emitChange()\n  }\n\n  useClientOnlyLayoutEffect(() => {\n    headManager?.mountedInstances?.add(props.children)\n    return () => {\n      headManager?.mountedInstances?.delete(props.children)\n    }\n  })\n\n  // We need to call `updateHead` method whenever the `SideEffect` is trigger in all\n  // life-cycles: mount, update, unmount. However, if there are multiple `SideEffect`s\n  // being rendered, we only trigger the method from the last one.\n  // This is ensured by keeping the last unflushed `updateHead` in the `_pendingUpdate`\n  // singleton in the layout effect pass, and actually trigger it in the effect pass.\n  useClientOnlyLayoutEffect(() => {\n    if (headManager) {\n      headManager._pendingUpdate = emitChange\n    }\n    return () => {\n      if (headManager) {\n        headManager._pendingUpdate = emitChange\n      }\n    }\n  })\n\n  useClientOnlyEffect(() => {\n    if (headManager && headManager._pendingUpdate) {\n      headManager._pendingUpdate()\n      headManager._pendingUpdate = null\n    }\n    return () => {\n      if (headManager && headManager._pendingUpdate) {\n        headManager._pendingUpdate()\n        headManager._pendingUpdate = null\n      }\n    }\n  })\n\n  return null\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AmpContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HeadManagerContext\n","export function isInAmpMode({\n  ampFirst = false,\n  hybrid = false,\n  hasQuery = false,\n} = {}): boolean {\n  return ampFirst || (hybrid && hasQuery)\n}\n","'use client'\n\nimport React, { useContext, type JSX } from 'react'\nimport Effect from './side-effect'\nimport { AmpStateContext } from './amp-context.shared-runtime'\nimport { HeadManagerContext } from './head-manager-context.shared-runtime'\nimport { isInAmpMode } from './amp-mode'\nimport { warnOnce } from './utils/warn-once'\n\ntype WithInAmpMode = {\n  inAmpMode?: boolean\n}\n\nexport function defaultHead(inAmpMode = false): JSX.Element[] {\n  const head = [<meta charSet=\"utf-8\" key=\"charset\" />]\n  if (!inAmpMode) {\n    head.push(\n      <meta name=\"viewport\" content=\"width=device-width\" key=\"viewport\" />\n    )\n  }\n  return head\n}\n\nfunction onlyReactElement(\n  list: Array<React.ReactElement<any>>,\n  child: React.ReactElement | number | string\n): Array<React.ReactElement<any>> {\n  // React children can be \"string\" or \"number\" in this case we ignore them for backwards compat\n  if (typeof child === 'string' || typeof child === 'number') {\n    return list\n  }\n  // Adds support for React.Fragment\n  if (child.type === React.Fragment) {\n    return list.concat(\n      // @ts-expect-error @types/react does not remove fragments but this could also return ReactPortal[]\n      React.Children.toArray(child.props.children).reduce(\n        // @ts-expect-error @types/react does not remove fragments but this could also return ReactPortal[]\n        (\n          fragmentList: Array<React.ReactElement<any>>,\n          fragmentChild: React.ReactElement | number | string\n        ): Array<React.ReactElement<any>> => {\n          if (\n            typeof fragmentChild === 'string' ||\n            typeof fragmentChild === 'number'\n          ) {\n            return fragmentList\n          }\n          return fragmentList.concat(fragmentChild)\n        },\n        []\n      )\n    )\n  }\n  return list.concat(child)\n}\n\nconst METATYPES = ['name', 'httpEquiv', 'charSet', 'itemProp']\n\n/*\n returns a function for filtering head child elements\n which shouldn't be duplicated, like <title/>\n Also adds support for deduplicated `key` properties\n*/\nfunction unique() {\n  const keys = new Set()\n  const tags = new Set()\n  const metaTypes = new Set()\n  const metaCategories: { [metatype: string]: Set<string> } = {}\n\n  return (h: React.ReactElement<any>) => {\n    let isUnique = true\n    let hasKey = false\n\n    if (h.key && typeof h.key !== 'number' && h.key.indexOf('$') > 0) {\n      hasKey = true\n      const key = h.key.slice(h.key.indexOf('$') + 1)\n      if (keys.has(key)) {\n        isUnique = false\n      } else {\n        keys.add(key)\n      }\n    }\n\n    // eslint-disable-next-line default-case\n    switch (h.type) {\n      case 'title':\n      case 'base':\n        if (tags.has(h.type)) {\n          isUnique = false\n        } else {\n          tags.add(h.type)\n        }\n        break\n      case 'meta':\n        for (let i = 0, len = METATYPES.length; i < len; i++) {\n          const metatype = METATYPES[i]\n          if (!h.props.hasOwnProperty(metatype)) continue\n\n          if (metatype === 'charSet') {\n            if (metaTypes.has(metatype)) {\n              isUnique = false\n            } else {\n              metaTypes.add(metatype)\n            }\n          } else {\n            const category = h.props[metatype]\n            const categories = metaCategories[metatype] || new Set()\n            if ((metatype !== 'name' || !hasKey) && categories.has(category)) {\n              isUnique = false\n            } else {\n              categories.add(category)\n              metaCategories[metatype] = categories\n            }\n          }\n        }\n        break\n    }\n\n    return isUnique\n  }\n}\n\n/**\n *\n * @param headChildrenElements List of children of <Head>\n */\nfunction reduceComponents<T extends {} & WithInAmpMode>(\n  headChildrenElements: Array<React.ReactElement<any>>,\n  props: T\n) {\n  const { inAmpMode } = props\n  return headChildrenElements\n    .reduce(onlyReactElement, [])\n    .reverse()\n    .concat(defaultHead(inAmpMode).reverse())\n    .filter(unique())\n    .reverse()\n    .map((c: React.ReactElement<any>, i: number) => {\n      const key = c.key || i\n      if (process.env.NODE_ENV === 'development') {\n        // omit JSON-LD structured data snippets from the warning\n        if (c.type === 'script' && c.props['type'] !== 'application/ld+json') {\n          const srcMessage = c.props['src']\n            ? `<script> tag with src=\"${c.props['src']}\"`\n            : `inline <script>`\n          warnOnce(\n            `Do not add <script> tags using next/head (see ${srcMessage}). Use next/script instead. \\nSee more info here: https://nextjs.org/docs/messages/no-script-tags-in-head-component`\n          )\n        } else if (c.type === 'link' && c.props['rel'] === 'stylesheet') {\n          warnOnce(\n            `Do not add stylesheets using next/head (see <link rel=\"stylesheet\"> tag with href=\"${c.props['href']}\"). Use Document instead. \\nSee more info here: https://nextjs.org/docs/messages/no-stylesheets-in-head-component`\n          )\n        }\n      }\n      return React.cloneElement(c, { key })\n    })\n}\n\n/**\n * This component injects elements to `<head>` of your page.\n * To avoid duplicated `tags` in `<head>` you can use the `key` property, which will make sure every tag is only rendered once.\n */\nfunction Head({ children }: { children: React.ReactNode }) {\n  const ampState = useContext(AmpStateContext)\n  const headManager = useContext(HeadManagerContext)\n  return (\n    <Effect\n      reduceComponentsToState={reduceComponents}\n      headManager={headManager}\n      inAmpMode={isInAmpMode(ampState)}\n    >\n      {children}\n    </Effect>\n  )\n}\n\nexport default Head\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ImageConfigContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].RouterContext\n","import type { ImageLoaderPropsWithConfig } from './image-config'\n\nconst DEFAULT_Q = 75\n\nfunction defaultLoader({\n  config,\n  src,\n  width,\n  quality,\n}: ImageLoaderPropsWithConfig): string {\n  if (process.env.NODE_ENV !== 'production') {\n    const missingValues = []\n\n    // these should always be provided but make sure they are\n    if (!src) missingValues.push('src')\n    if (!width) missingValues.push('width')\n\n    if (missingValues.length > 0) {\n      throw new Error(\n        `Next Image Optimization requires ${missingValues.join(\n          ', '\n        )} to be provided. Make sure you pass them as props to the \\`next/image\\` component. Received: ${JSON.stringify(\n          { src, width, quality }\n        )}`\n      )\n    }\n\n    if (src.startsWith('//')) {\n      throw new Error(\n        `Failed to parse src \"${src}\" on \\`next/image\\`, protocol-relative URL (//) must be changed to an absolute URL (http:// or https://)`\n      )\n    }\n\n    if (src.startsWith('/') && config.localPatterns) {\n      if (\n        process.env.NODE_ENV !== 'test' &&\n        // micromatch isn't compatible with edge runtime\n        process.env.NEXT_RUNTIME !== 'edge'\n      ) {\n        // We use dynamic require because this should only error in development\n        const { hasLocalMatch } =\n          require('./match-local-pattern') as typeof import('./match-local-pattern')\n        if (!hasLocalMatch(config.localPatterns, src)) {\n          throw new Error(\n            `Invalid src prop (${src}) on \\`next/image\\` does not match \\`images.localPatterns\\` configured in your \\`next.config.js\\`\\n` +\n              `See more info: https://nextjs.org/docs/messages/next-image-unconfigured-localpatterns`\n          )\n        }\n      }\n    }\n\n    if (!src.startsWith('/') && (config.domains || config.remotePatterns)) {\n      let parsedSrc: URL\n      try {\n        parsedSrc = new URL(src)\n      } catch (err) {\n        console.error(err)\n        throw new Error(\n          `Failed to parse src \"${src}\" on \\`next/image\\`, if using relative image it must start with a leading slash \"/\" or be an absolute URL (http:// or https://)`\n        )\n      }\n\n      if (\n        process.env.NODE_ENV !== 'test' &&\n        // micromatch isn't compatible with edge runtime\n        process.env.NEXT_RUNTIME !== 'edge'\n      ) {\n        // We use dynamic require because this should only error in development\n        const { hasRemoteMatch } =\n          require('./match-remote-pattern') as typeof import('./match-remote-pattern')\n        if (\n          !hasRemoteMatch(config.domains!, config.remotePatterns!, parsedSrc)\n        ) {\n          throw new Error(\n            `Invalid src prop (${src}) on \\`next/image\\`, hostname \"${parsedSrc.hostname}\" is not configured under images in your \\`next.config.js\\`\\n` +\n              `See more info: https://nextjs.org/docs/messages/next-image-unconfigured-host`\n          )\n        }\n      }\n    }\n\n    if (quality && config.qualities && !config.qualities.includes(quality)) {\n      throw new Error(\n        `Invalid quality prop (${quality}) on \\`next/image\\` does not match \\`images.qualities\\` configured in your \\`next.config.js\\`\\n` +\n          `See more info: https://nextjs.org/docs/messages/next-image-unconfigured-qualities`\n      )\n    }\n  }\n\n  const q =\n    quality ||\n    config.qualities?.reduce((prev, cur) =>\n      Math.abs(cur - DEFAULT_Q) < Math.abs(prev - DEFAULT_Q) ? cur : prev\n    ) ||\n    DEFAULT_Q\n\n  return `${config.path}?url=${encodeURIComponent(src)}&w=${width}&q=${q}${\n    src.startsWith('/_next/static/media/') && process.env.NEXT_DEPLOYMENT_ID\n      ? `&dpl=${process.env.NEXT_DEPLOYMENT_ID}`\n      : ''\n  }`\n}\n\n// We use this to determine if the import is the default loader\n// or a custom loader defined by the user in next.config.js\ndefaultLoader.__next_img_default = true\n\nexport default defaultLoader\n","'use client'\n\nimport React, {\n  useRef,\n  useEffect,\n  useCallback,\n  useContext,\n  useMemo,\n  useState,\n  forwardRef,\n  use,\n} from 'react'\nimport ReactDOM from 'react-dom'\nimport Head from '../shared/lib/head'\nimport { getImgProps } from '../shared/lib/get-img-props'\nimport type {\n  ImageProps,\n  ImgProps,\n  OnLoad,\n  OnLoadingComplete,\n  PlaceholderValue,\n} from '../shared/lib/get-img-props'\nimport type {\n  ImageConfigComplete,\n  ImageLoaderProps,\n} from '../shared/lib/image-config'\nimport { imageConfigDefault } from '../shared/lib/image-config'\nimport { ImageConfigContext } from '../shared/lib/image-config-context.shared-runtime'\nimport { warnOnce } from '../shared/lib/utils/warn-once'\nimport { RouterContext } from '../shared/lib/router-context.shared-runtime'\n\n// This is replaced by webpack alias\nimport defaultLoader from 'next/dist/shared/lib/image-loader'\nimport { useMergedRef } from './use-merged-ref'\n\n// This is replaced by webpack define plugin\nconst configEnv = process.env.__NEXT_IMAGE_OPTS as any as ImageConfigComplete\n\nif (typeof window === 'undefined') {\n  ;(globalThis as any).__NEXT_IMAGE_IMPORTED = true\n}\n\nexport type { ImageLoaderProps }\nexport type ImageLoader = (p: ImageLoaderProps) => string\n\ntype ImgElementWithDataProp = HTMLImageElement & {\n  'data-loaded-src': string | undefined\n}\n\ntype ImageElementProps = ImgProps & {\n  unoptimized: boolean\n  placeholder: PlaceholderValue\n  onLoadRef: React.MutableRefObject<OnLoad | undefined>\n  onLoadingCompleteRef: React.MutableRefObject<OnLoadingComplete | undefined>\n  setBlurComplete: (b: boolean) => void\n  setShowAltText: (b: boolean) => void\n  sizesInput: string | undefined\n}\n\n// See https://stackoverflow.com/q/39777833/266535 for why we use this ref\n// handler instead of the img's onLoad attribute.\nfunction handleLoading(\n  img: ImgElementWithDataProp,\n  placeholder: PlaceholderValue,\n  onLoadRef: React.MutableRefObject<OnLoad | undefined>,\n  onLoadingCompleteRef: React.MutableRefObject<OnLoadingComplete | undefined>,\n  setBlurComplete: (b: boolean) => void,\n  unoptimized: boolean,\n  sizesInput: string | undefined\n) {\n  const src = img?.src\n  if (!img || img['data-loaded-src'] === src) {\n    return\n  }\n  img['data-loaded-src'] = src\n  const p = 'decode' in img ? img.decode() : Promise.resolve()\n  p.catch(() => {}).then(() => {\n    if (!img.parentElement || !img.isConnected) {\n      // Exit early in case of race condition:\n      // - onload() is called\n      // - decode() is called but incomplete\n      // - unmount is called\n      // - decode() completes\n      return\n    }\n    if (placeholder !== 'empty') {\n      setBlurComplete(true)\n    }\n    if (onLoadRef?.current) {\n      // Since we don't have the SyntheticEvent here,\n      // we must create one with the same shape.\n      // See https://reactjs.org/docs/events.html\n      const event = new Event('load')\n      Object.defineProperty(event, 'target', { writable: false, value: img })\n      let prevented = false\n      let stopped = false\n      onLoadRef.current({\n        ...event,\n        nativeEvent: event,\n        currentTarget: img,\n        target: img,\n        isDefaultPrevented: () => prevented,\n        isPropagationStopped: () => stopped,\n        persist: () => {},\n        preventDefault: () => {\n          prevented = true\n          event.preventDefault()\n        },\n        stopPropagation: () => {\n          stopped = true\n          event.stopPropagation()\n        },\n      })\n    }\n    if (onLoadingCompleteRef?.current) {\n      onLoadingCompleteRef.current(img)\n    }\n    if (process.env.NODE_ENV !== 'production') {\n      const origSrc = new URL(src, 'http://n').searchParams.get('url') || src\n      if (img.getAttribute('data-nimg') === 'fill') {\n        if (!unoptimized && (!sizesInput || sizesInput === '100vw')) {\n          let widthViewportRatio =\n            img.getBoundingClientRect().width / window.innerWidth\n          if (widthViewportRatio < 0.6) {\n            if (sizesInput === '100vw') {\n              warnOnce(\n                `Image with src \"${origSrc}\" has \"fill\" prop and \"sizes\" prop of \"100vw\", but image is not rendered at full viewport width. Please adjust \"sizes\" to improve page performance. Read more: https://nextjs.org/docs/api-reference/next/image#sizes`\n              )\n            } else {\n              warnOnce(\n                `Image with src \"${origSrc}\" has \"fill\" but is missing \"sizes\" prop. Please add it to improve page performance. Read more: https://nextjs.org/docs/api-reference/next/image#sizes`\n              )\n            }\n          }\n        }\n        if (img.parentElement) {\n          const { position } = window.getComputedStyle(img.parentElement)\n          const valid = ['absolute', 'fixed', 'relative']\n          if (!valid.includes(position)) {\n            warnOnce(\n              `Image with src \"${origSrc}\" has \"fill\" and parent element with invalid \"position\". Provided \"${position}\" should be one of ${valid\n                .map(String)\n                .join(',')}.`\n            )\n          }\n        }\n        if (img.height === 0) {\n          warnOnce(\n            `Image with src \"${origSrc}\" has \"fill\" and a height value of 0. This is likely because the parent element of the image has not been styled to have a set height.`\n          )\n        }\n      }\n\n      const heightModified =\n        img.height.toString() !== img.getAttribute('height')\n      const widthModified = img.width.toString() !== img.getAttribute('width')\n      if (\n        (heightModified && !widthModified) ||\n        (!heightModified && widthModified)\n      ) {\n        warnOnce(\n          `Image with src \"${origSrc}\" has either width or height modified, but not the other. If you use CSS to change the size of your image, also include the styles 'width: \"auto\"' or 'height: \"auto\"' to maintain the aspect ratio.`\n        )\n      }\n    }\n  })\n}\n\nfunction getDynamicProps(\n  fetchPriority?: string\n): Record<string, string | undefined> {\n  if (Boolean(use)) {\n    // In React 19.0.0 or newer, we must use camelCase\n    // prop to avoid \"Warning: Invalid DOM property\".\n    // See https://github.com/facebook/react/pull/25927\n    return { fetchPriority }\n  }\n  // In React 18.2.0 or older, we must use lowercase prop\n  // to avoid \"Warning: Invalid DOM property\".\n  return { fetchpriority: fetchPriority }\n}\n\nconst ImageElement = forwardRef<HTMLImageElement | null, ImageElementProps>(\n  (\n    {\n      src,\n      srcSet,\n      sizes,\n      height,\n      width,\n      decoding,\n      className,\n      style,\n      fetchPriority,\n      placeholder,\n      loading,\n      unoptimized,\n      fill,\n      onLoadRef,\n      onLoadingCompleteRef,\n      setBlurComplete,\n      setShowAltText,\n      sizesInput,\n      onLoad,\n      onError,\n      ...rest\n    },\n    forwardedRef\n  ) => {\n    const ownRef = useCallback(\n      (img: ImgElementWithDataProp | null) => {\n        if (!img) {\n          return\n        }\n        if (onError) {\n          // If the image has an error before react hydrates, then the error is lost.\n          // The workaround is to wait until the image is mounted which is after hydration,\n          // then we set the src again to trigger the error handler (if there was an error).\n          // eslint-disable-next-line no-self-assign\n          img.src = img.src\n        }\n        if (process.env.NODE_ENV !== 'production') {\n          if (!src) {\n            console.error(`Image is missing required \"src\" property:`, img)\n          }\n          if (img.getAttribute('alt') === null) {\n            console.error(\n              `Image is missing required \"alt\" property. Please add Alternative Text to describe the image for screen readers and search engines.`\n            )\n          }\n        }\n        if (img.complete) {\n          handleLoading(\n            img,\n            placeholder,\n            onLoadRef,\n            onLoadingCompleteRef,\n            setBlurComplete,\n            unoptimized,\n            sizesInput\n          )\n        }\n      },\n      [\n        src,\n        placeholder,\n        onLoadRef,\n        onLoadingCompleteRef,\n        setBlurComplete,\n        onError,\n        unoptimized,\n        sizesInput,\n      ]\n    )\n\n    const ref = useMergedRef(forwardedRef, ownRef)\n\n    return (\n      <img\n        {...rest}\n        {...getDynamicProps(fetchPriority)}\n        // It's intended to keep `loading` before `src` because React updates\n        // props in order which causes Safari/Firefox to not lazy load properly.\n        // See https://github.com/facebook/react/issues/25883\n        loading={loading}\n        width={width}\n        height={height}\n        decoding={decoding}\n        data-nimg={fill ? 'fill' : '1'}\n        className={className}\n        style={style}\n        // It's intended to keep `src` the last attribute because React updates\n        // attributes in order. If we keep `src` the first one, Safari will\n        // immediately start to fetch `src`, before `sizes` and `srcSet` are even\n        // updated by React. That causes multiple unnecessary requests if `srcSet`\n        // and `sizes` are defined.\n        // This bug cannot be reproduced in Chrome or Firefox.\n        sizes={sizes}\n        srcSet={srcSet}\n        src={src}\n        ref={ref}\n        onLoad={(event) => {\n          const img = event.currentTarget as ImgElementWithDataProp\n          handleLoading(\n            img,\n            placeholder,\n            onLoadRef,\n            onLoadingCompleteRef,\n            setBlurComplete,\n            unoptimized,\n            sizesInput\n          )\n        }}\n        onError={(event) => {\n          // if the real image fails to load, this will ensure \"alt\" is visible\n          setShowAltText(true)\n          if (placeholder !== 'empty') {\n            // If the real image fails to load, this will still remove the placeholder.\n            setBlurComplete(true)\n          }\n          if (onError) {\n            onError(event)\n          }\n        }}\n      />\n    )\n  }\n)\n\nfunction ImagePreload({\n  isAppRouter,\n  imgAttributes,\n}: {\n  isAppRouter: boolean\n  imgAttributes: ImgProps\n}) {\n  const opts: ReactDOM.PreloadOptions = {\n    as: 'image',\n    imageSrcSet: imgAttributes.srcSet,\n    imageSizes: imgAttributes.sizes,\n    crossOrigin: imgAttributes.crossOrigin,\n    referrerPolicy: imgAttributes.referrerPolicy,\n    ...getDynamicProps(imgAttributes.fetchPriority),\n  }\n\n  if (isAppRouter && ReactDOM.preload) {\n    ReactDOM.preload(imgAttributes.src, opts)\n    return null\n  }\n\n  return (\n    <Head>\n      <link\n        key={\n          '__nimg-' +\n          imgAttributes.src +\n          imgAttributes.srcSet +\n          imgAttributes.sizes\n        }\n        rel=\"preload\"\n        // Note how we omit the `href` attribute, as it would only be relevant\n        // for browsers that do not support `imagesrcset`, and in those cases\n        // it would cause the incorrect image to be preloaded.\n        //\n        // https://html.spec.whatwg.org/multipage/semantics.html#attr-link-imagesrcset\n        href={imgAttributes.srcSet ? undefined : imgAttributes.src}\n        {...opts}\n      />\n    </Head>\n  )\n}\n\n/**\n * The `Image` component is used to optimize images.\n *\n * Read more: [Next.js docs: `Image`](https://nextjs.org/docs/app/api-reference/components/image)\n */\nexport const Image = forwardRef<HTMLImageElement | null, ImageProps>(\n  (props, forwardedRef) => {\n    const pagesRouter = useContext(RouterContext)\n    // We're in the app directory if there is no pages router.\n    const isAppRouter = !pagesRouter\n\n    const configContext = useContext(ImageConfigContext)\n    const config = useMemo(() => {\n      const c = configEnv || configContext || imageConfigDefault\n      const allSizes = [...c.deviceSizes, ...c.imageSizes].sort((a, b) => a - b)\n      const deviceSizes = c.deviceSizes.sort((a, b) => a - b)\n      const qualities = c.qualities?.sort((a, b) => a - b)\n      return { ...c, allSizes, deviceSizes, qualities }\n    }, [configContext])\n\n    const { onLoad, onLoadingComplete } = props\n    const onLoadRef = useRef(onLoad)\n\n    useEffect(() => {\n      onLoadRef.current = onLoad\n    }, [onLoad])\n\n    const onLoadingCompleteRef = useRef(onLoadingComplete)\n\n    useEffect(() => {\n      onLoadingCompleteRef.current = onLoadingComplete\n    }, [onLoadingComplete])\n\n    const [blurComplete, setBlurComplete] = useState(false)\n    const [showAltText, setShowAltText] = useState(false)\n\n    const { props: imgAttributes, meta: imgMeta } = getImgProps(props, {\n      defaultLoader,\n      imgConf: config,\n      blurComplete,\n      showAltText,\n    })\n\n    return (\n      <>\n        {\n          <ImageElement\n            {...imgAttributes}\n            unoptimized={imgMeta.unoptimized}\n            placeholder={imgMeta.placeholder}\n            fill={imgMeta.fill}\n            onLoadRef={onLoadRef}\n            onLoadingCompleteRef={onLoadingCompleteRef}\n            setBlurComplete={setBlurComplete}\n            setShowAltText={setShowAltText}\n            sizesInput={props.sizes}\n            ref={forwardedRef}\n          />\n        }\n        {imgMeta.priority ? (\n          <ImagePreload\n            isAppRouter={isAppRouter}\n            imgAttributes={imgAttributes}\n          />\n        ) : null}\n      </>\n    )\n  }\n)\n","import type { ImageConfigComplete, ImageLoaderProps } from './image-config'\nimport type { ImageProps, ImageLoader, StaticImageData } from './get-img-props'\n\nimport { getImgProps } from './get-img-props'\nimport { Image } from '../../client/image-component'\n\n// This is replaced by webpack alias\nimport defaultLoader from 'next/dist/shared/lib/image-loader'\n\n/**\n * For more advanced use cases, you can call `getImageProps()`\n * to get the props that would be passed to the underlying `<img>` element,\n * and instead pass to them to another component, style, canvas, etc.\n *\n * Read more: [Next.js docs: `getImageProps`](https://nextjs.org/docs/app/api-reference/components/image#getimageprops)\n */\nexport function getImageProps(imgProps: ImageProps) {\n  const { props } = getImgProps(imgProps, {\n    defaultLoader,\n    // This is replaced by webpack define plugin\n    imgConf: process.env.__NEXT_IMAGE_OPTS as any as ImageConfigComplete,\n  })\n  // Normally we don't care about undefined props because we pass to JSX,\n  // but this exported function could be used by the end user for anything\n  // so we delete undefined props to clean it up a little.\n  for (const [key, value] of Object.entries(props)) {\n    if (value === undefined) {\n      delete props[key as keyof typeof props]\n    }\n  }\n  return { props }\n}\n\nexport default Image\n\nexport type { ImageProps, ImageLoaderProps, ImageLoader, StaticImageData }\n","module.exports = require('./dist/shared/lib/image-external')\n","\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { Plus } from \"lucide-react\";\n\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { Button } from \"@/components/ui/button\";\n\ninterface Client {\n  id: string;\n  name: string;\n  company: string | null;\n  email: string;\n}\n\ninterface ClientSelectorProps {\n  value?: string | null;\n  onChange: (clientId: string | null) => void;\n  disabled?: boolean;\n}\n\nconst FIELD_BORDER_COLOR = \"var(--field-border)\";\nconst TEXT_PRIMARY = \"#3d3d3a\";\nconst TEXT_MUTED = \"#73726c\";\n\nexport default function ClientSelector({ value, onChange, disabled }: ClientSelectorProps) {\n  const [clients, setClients] = useState<Client[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchClients = async () => {\n      try {\n        const response = await fetch(\"/api/clients\");\n        if (!response.ok) {\n          throw new Error(\"Failed to fetch clients\");\n        }\n        const data = await response.json();\n        setClients(data);\n      } catch (error) {\n        console.error(\"Failed to load clients:\", error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchClients();\n  }, []);\n\n  const handleValueChange = (newValue: string) => {\n    if (newValue === \"none\") {\n      onChange(null);\n    } else {\n      onChange(newValue);\n    }\n  };\n\n  // Find the selected client to display only their name\n  const selectedClient = clients.find((client) => client.id === value);\n  const displayValue = selectedClient ? selectedClient.name : undefined;\n\n  return (\n    <div className=\"flex w-full items-center gap-2\">\n      <Select\n        value={value ?? \"none\"}\n        onValueChange={handleValueChange}\n        disabled={disabled || isLoading}\n      >\n        <SelectTrigger\n          id=\"client\"\n          className=\"!h-[42px] w-full min-w-0 flex-1 rounded-lg border bg-white px-4 py-0 text-sm font-medium text-slate-900 transition-[color,box-shadow,border-color] focus:border-[var(--field-focus)] focus:outline-none focus:ring-[3px] focus:ring-[var(--field-ring)]\"\n          style={{ borderColor: FIELD_BORDER_COLOR }}\n        >\n          <SelectValue placeholder={isLoading ? \"...\" : \" \"}>\n            {displayValue || (isLoading ? \"...\" : \" \")}\n          </SelectValue>\n        </SelectTrigger>\n        <SelectContent className=\"border-[var(--field-border)] bg-white\">\n          <SelectItem value=\"none\" className=\"focus:bg-[#FAEFEB] focus:text-[#3d3d3a]\">\n             \n          </SelectItem>\n          {clients.map((client) => (\n            <SelectItem\n              key={client.id}\n              value={client.id}\n              className=\"focus:bg-[#FAEFEB] focus:text-[#3d3d3a]\"\n            >\n              <div className=\"flex flex-col\">\n                <span className=\"font-medium\">{client.name}</span>\n                {client.company && (\n                  <span className=\"text-xs\" style={{ color: TEXT_MUTED }}>{client.company}</span>\n                )}\n              </div>\n            </SelectItem>\n          ))}\n        </SelectContent>\n      </Select>\n\n      <Button\n        type=\"button\"\n        variant=\"outline\"\n        onClick={() => window.open(\"/clients/new\", \"_blank\")}\n        className=\"!h-[42px] shrink-0 rounded-lg border bg-white px-3 transition-colors hover:bg-[#FAFAF7] focus-visible:border-[var(--field-focus)] focus-visible:ring-[var(--field-ring)]\"\n        style={{ borderColor: FIELD_BORDER_COLOR, color: TEXT_PRIMARY }}\n        title=\"  \"\n        disabled={disabled}\n      >\n        <Plus className=\"h-4 w-4\" />\n        <span className=\"text-sm font-medium\"> </span>\n      </Button>\n    </div>\n  );\n}\n","'use client';\n\nimport { useEffect, useRef, useState } from 'react';\nimport type { Proposal } from '@/lib/types/proposal';\nimport ClientSelector from '@/components/ClientSelector';\n\ninterface BasicInfoSectionProps {\n  proposal: Proposal;\n  onUpdate: <K extends keyof Proposal>(field: K, value: Proposal[K]) => void;\n}\n\nexport default function BasicInfoSection({ proposal, onUpdate }: BasicInfoSectionProps) {\n  const [client, setClient] = useState<{ name: string; middleName?: string } | null>(null);\n  const lastAutofilledClientIdRef = useRef<string | null>(null);\n\n  //      \n  useEffect(() => {\n    if (!proposal.clientId) {\n      setClient(null);\n      lastAutofilledClientIdRef.current = null;\n      return;\n    }\n\n    fetch(`/api/clients/${proposal.clientId}`)\n      .then((res) => res.ok ? res.json() : null)\n      .then((data) => setClient(data))\n      .catch(() => setClient(null));\n  }, [proposal.clientId]);\n\n  //     \n  useEffect(() => {\n    if (client && !proposal.recipientName) {\n      if (lastAutofilledClientIdRef.current === proposal.clientId) {\n        return;\n      }\n      const greeting = client.middleName\n        ? ` ${client.name} ${client.middleName}!`\n        : ` ${client.name}!`;\n      onUpdate('recipientName', greeting);\n      lastAutofilledClientIdRef.current = proposal.clientId ?? null;\n    }\n  }, [client, proposal.clientId, proposal.recipientName, onUpdate]);\n\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <label className=\"block text-sm font-medium mb-2\" style={{ color: '#3d3d3a' }}>\n          \n        </label>\n        <ClientSelector\n          value={proposal.clientId ?? null}\n          onChange={(clientId) => onUpdate('clientId', clientId ?? undefined)}\n        />\n        <p className=\"mt-1.5 text-xs\" style={{ color: '#73726c' }}>\n                \n        </p>\n      </div>\n\n      <div>\n        <label htmlFor=\"proposal-title\" className=\"block text-sm font-medium mb-2\" style={{ color: '#3d3d3a' }}>\n            \n        </label>\n        <input\n          id=\"proposal-title\"\n          type=\"text\"\n          value={proposal.title}\n          onChange={(e) => onUpdate('title', e.target.value)}\n          placeholder=\":   \"\n          className=\"w-full rounded-lg border border-[var(--field-border)] bg-white px-4 py-2.5 text-sm text-slate-900 placeholder:text-[var(--field-placeholder)] transition-[color,box-shadow,border-color] focus:border-[var(--field-focus)] focus:outline-none focus:ring-[3px] focus:ring-[var(--field-ring)]\"\n        />\n      </div>\n\n      <div>\n        <label htmlFor=\"recipient-name\" className=\"block text-sm font-medium mb-2\" style={{ color: '#3d3d3a' }}>\n          \n        </label>\n        <input\n          id=\"recipient-name\"\n          type=\"text\"\n          value={proposal.recipientName || ''}\n          onChange={(e) => onUpdate('recipientName', e.target.value)}\n          placeholder=\"  !\"\n          className=\"w-full rounded-lg border border-[var(--field-border)] bg-white px-4 py-2.5 text-sm text-slate-900 placeholder:text-[var(--field-placeholder)] transition-[color,box-shadow,border-color] focus:border-[var(--field-focus)] focus:outline-none focus:ring-[3px] focus:ring-[var(--field-ring)]\"\n        />\n        <p className=\"mt-1.5 text-xs\" style={{ color: '#73726c' }}>\n              \n        </p>\n      </div>\n    </div>\n  );\n}\n","'use client';\n\nimport type { Proposal } from '@/lib/types/proposal';\n\ninterface ContextSectionProps {\n  proposal: Proposal;\n  onUpdate: <K extends keyof Proposal>(field: K, value: Proposal[K]) => void;\n}\n\nexport default function ContextSection({ proposal, onUpdate }: ContextSectionProps) {\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <label htmlFor=\"problem-desc\" className=\"block text-sm font-medium mb-2\" style={{ color: '#3d3d3a' }}>\n             (Point A)\n        </label>\n        <textarea\n          id=\"problem-desc\"\n          value={proposal.problemDesc || ''}\n          onChange={(e) => onUpdate('problemDesc', e.target.value)}\n          placeholder=\"   ,    ...\"\n          rows={4}\n          className=\"w-full rounded-lg border border-[var(--field-border)] bg-white px-4 py-2.5 text-sm text-slate-900 placeholder:text-[var(--field-placeholder)] transition-[color,box-shadow,border-color] focus:border-[var(--field-focus)] focus:outline-none focus:ring-[3px] focus:ring-[var(--field-ring)] resize-y\"\n        />\n        <p className=\"mt-1.5 text-xs\" style={{ color: '#73726c' }}>\n          ,     \n        </p>\n      </div>\n\n      <div>\n        <label htmlFor=\"solution-desc\" className=\"block text-sm font-medium mb-2\" style={{ color: '#3d3d3a' }}>\n            (Point B)\n        </label>\n        <textarea\n          id=\"solution-desc\"\n          value={proposal.solutionDesc || ''}\n          onChange={(e) => onUpdate('solutionDesc', e.target.value)}\n          placeholder=\",      ...\"\n          rows={4}\n          className=\"w-full rounded-lg border border-[var(--field-border)] bg-white px-4 py-2.5 text-sm text-slate-900 placeholder:text-[var(--field-placeholder)] transition-[color,box-shadow,border-color] focus:border-[var(--field-focus)] focus:outline-none focus:ring-[3px] focus:ring-[var(--field-ring)] resize-y\"\n        />\n        <p className=\"mt-1.5 text-xs\" style={{ color: '#73726c' }}>\n               \n        </p>\n      </div>\n\n      <div>\n        <label htmlFor=\"additional-desc\" className=\"block text-sm font-medium mb-2\" style={{ color: '#3d3d3a' }}>\n           \n        </label>\n        <textarea\n          id=\"additional-desc\"\n          value={proposal.additionalDesc || ''}\n          onChange={(e) => onUpdate('additionalDesc', e.target.value)}\n          placeholder=\" , , ...\"\n          rows={3}\n          className=\"w-full rounded-lg border border-[var(--field-border)] bg-white px-4 py-2.5 text-sm text-slate-900 placeholder:text-[var(--field-placeholder)] transition-[color,box-shadow,border-color] focus:border-[var(--field-focus)] focus:outline-none focus:ring-[3px] focus:ring-[var(--field-ring)] resize-y\"\n        />\n        <p className=\"mt-1.5 text-xs\" style={{ color: '#73726c' }}>\n              \n        </p>\n      </div>\n    </div>\n  );\n}\n","'use client';\n\nimport Image from 'next/image';\nimport { useCallback, useMemo, type ChangeEvent } from 'react';\nimport { ImagePlus, Plus, Trash2 } from 'lucide-react';\n\nimport type { AdvantageItem, Proposal } from '@/lib/types/proposal';\n\ninterface AdvantagesSectionProps {\n  proposal: Proposal;\n  onUpdate: <K extends keyof Proposal>(field: K, value: Proposal[K]) => void;\n}\n\nconst MAX_ADVANTAGES = 3;\nconst TEXT_PRIMARY = '#3d3d3a';\nconst TEXT_MUTED = '#73726c';\n\nconst createAdvantage = (): AdvantageItem => ({\n  id: `adv-${Date.now()}-${Math.random().toString(36).slice(2, 8)}`,\n  title: '',\n  description: '',\n});\n\nexport default function AdvantagesSection({ proposal, onUpdate }: AdvantagesSectionProps) {\n  const advantages = useMemo(() => proposal.advantages ?? [], [proposal.advantages]);\n  const columns = proposal.advantagesColumns ?? 3;\n\n  const updateAdvantages = useCallback(\n    (next: AdvantageItem[]) => {\n      onUpdate('advantages', next);\n    },\n    [onUpdate],\n  );\n\n  const handleAdd = useCallback(() => {\n    if (advantages.length >= MAX_ADVANTAGES) return;\n    const next = [...advantages, createAdvantage()];\n    updateAdvantages(next);\n\n    //  3   3 ,       .\n    if (next.length === 3 && columns < 3) {\n      onUpdate('advantagesColumns', 3);\n    }\n  }, [advantages, columns, onUpdate, updateAdvantages]);\n\n  const handleRemove = useCallback(\n    (index: number) => {\n      updateAdvantages(advantages.filter((_, current) => current !== index));\n    },\n    [advantages, updateAdvantages],\n  );\n\n  const handleFieldChange = useCallback(\n    (index: number, patch: Partial<AdvantageItem>) => {\n      const next = advantages.map((item, current) => (current === index ? { ...item, ...patch } : item));\n      updateAdvantages(next);\n    },\n    [advantages, updateAdvantages],\n  );\n\n  const handleIconUpload = useCallback(\n    async (index: number, file: File | null) => {\n      if (!file) return;\n\n      try {\n        const formData = new FormData();\n        formData.append('file', file);\n\n        const response = await fetch('/api/upload', {\n          method: 'POST',\n          body: formData,\n        });\n\n        if (!response.ok) {\n          throw new Error(await response.text());\n        }\n\n        const data = (await response.json()) as { url: string };\n        handleFieldChange(index, { iconUrl: data.url });\n      } catch (error) {\n        console.error('Failed to upload advantage icon:', error);\n        alert('   ');\n      }\n    },\n    [handleFieldChange],\n  );\n\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <h3 className=\"mb-2 block text-sm font-medium\" style={{ color: '#3d3d3a' }}>\n          \n        </h3>\n        <p className=\"text-xs\" style={{ color: '#73726c' }}>\n            {MAX_ADVANTAGES} : ,   .\n        </p>\n      </div>\n\n      <div>\n        <label htmlFor=\"advantages-columns\" className=\"mb-2 block text-sm font-medium\" style={{ color: '#3d3d3a' }}>\n            \n        </label>\n        <select\n          id=\"advantages-columns\"\n          value={columns}\n          onChange={(event) => onUpdate('advantagesColumns', Number(event.target.value) as 1 | 2 | 3)}\n          className=\"w-full rounded-lg border border-[var(--field-border)] bg-white px-4 py-2.5 text-sm text-[#3d3d3a] transition-[color,box-shadow,border-color] focus:border-[var(--field-focus)] focus:outline-none focus:ring-[3px] focus:ring-[var(--field-ring)]\"\n        >\n          <option value={1}>1 </option>\n          <option value={2}>2 </option>\n          <option value={3}>3 </option>\n        </select>\n      </div>\n\n      <div className=\"space-y-4\">\n        {advantages.map((item, index) => (\n          <div\n            key={item.id ?? index}\n            className=\"space-y-4 rounded-lg border bg-[#FAFAFA] p-4\"\n            style={{ borderColor: 'hsl(30deg 3.3% 11.8% / 15%)' }}\n          >\n            <div className=\"flex items-start justify-between gap-3\">\n              <p className=\"text-sm font-medium\" style={{ color: TEXT_PRIMARY }}> {index + 1}</p>\n              <button\n                type=\"button\"\n                onClick={() => handleRemove(index)}\n                className=\"rounded-md p-2 text-[#73726c] transition-colors hover:bg-[#f4f2ec] hover:text-red-600\"\n                aria-label=\" \"\n              >\n                <Trash2 className=\"h-4 w-4\" />\n              </button>\n            </div>\n\n            <div className=\"flex items-center gap-3\">\n              <label\n                className=\"relative flex h-16 w-16 cursor-pointer items-center justify-center overflow-hidden rounded-full border border-dashed bg-white\"\n                style={{ borderColor: 'hsl(30deg 3.3% 11.8% / 25%)' }}\n              >\n                {item.iconUrl ? (\n                  <Image\n                    src={item.iconUrl}\n                    alt=\" \"\n                    width={64}\n                    height={64}\n                    className=\"h-full w-full object-cover\"\n                  />\n                ) : (\n                  <ImagePlus className=\"h-5 w-5\" style={{ color: '#a5a29b' }} />\n                )}\n                <input\n                  type=\"file\"\n                  accept=\"image/*\"\n                  className=\"absolute inset-0 cursor-pointer opacity-0\"\n                  onChange={(event: ChangeEvent<HTMLInputElement>) => {\n                    void handleIconUpload(index, event.target.files?.[0] ?? null);\n                  }}\n                />\n              </label>\n              <p className=\"text-xs\" style={{ color: TEXT_MUTED }}> (PNG/JPG)</p>\n            </div>\n\n            <div>\n              <label className=\"mb-2 block text-sm font-medium\" style={{ color: '#3d3d3a' }}>\n                \n              </label>\n              <input\n                type=\"text\"\n                value={item.title}\n                onChange={(event) => handleFieldChange(index, { title: event.target.value })}\n                placeholder=\":  \"\n                className=\"w-full rounded-lg border border-[var(--field-border)] bg-white px-4 py-2.5 text-sm text-[#3d3d3a] placeholder:text-[var(--field-placeholder)] transition-[color,box-shadow,border-color] focus:border-[var(--field-focus)] focus:outline-none focus:ring-[3px] focus:ring-[var(--field-ring)]\"\n              />\n            </div>\n\n            <div>\n              <label className=\"mb-2 block text-sm font-medium\" style={{ color: '#3d3d3a' }}>\n                \n              </label>\n              <textarea\n                value={item.description}\n                onChange={(event) => handleFieldChange(index, { description: event.target.value })}\n                placeholder=\"  \"\n                rows={3}\n                className=\"w-full resize-y rounded-lg border border-[var(--field-border)] bg-white px-4 py-2.5 text-sm text-[#3d3d3a] placeholder:text-[var(--field-placeholder)] transition-[color,box-shadow,border-color] focus:border-[var(--field-focus)] focus:outline-none focus:ring-[3px] focus:ring-[var(--field-ring)]\"\n              />\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {advantages.length < MAX_ADVANTAGES && (\n        <button\n          type=\"button\"\n          onClick={handleAdd}\n          className=\"inline-flex items-center gap-2 rounded-lg border bg-white px-4 py-2 text-sm font-medium text-[#3d3d3a] transition-colors hover:bg-[#f4f2ec]\"\n          style={{ borderColor: 'hsl(30deg 3.3% 11.8% / 15%)' }}\n        >\n          <Plus className=\"h-4 w-4\" />\n           \n        </button>\n      )}\n    </div>\n  );\n}\n","\"use client\";\n\n// src/menu.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { createCollection } from \"@radix-ui/react-collection\";\nimport { useComposedRefs, composeRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useDirection } from \"@radix-ui/react-direction\";\nimport { DismissableLayer } from \"@radix-ui/react-dismissable-layer\";\nimport { useFocusGuards } from \"@radix-ui/react-focus-guards\";\nimport { FocusScope } from \"@radix-ui/react-focus-scope\";\nimport { useId } from \"@radix-ui/react-id\";\nimport * as PopperPrimitive from \"@radix-ui/react-popper\";\nimport { createPopperScope } from \"@radix-ui/react-popper\";\nimport { Portal as PortalPrimitive } from \"@radix-ui/react-portal\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { Primitive, dispatchDiscreteCustomEvent } from \"@radix-ui/react-primitive\";\nimport * as RovingFocusGroup from \"@radix-ui/react-roving-focus\";\nimport { createRovingFocusGroupScope } from \"@radix-ui/react-roving-focus\";\nimport { createSlot } from \"@radix-ui/react-slot\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { hideOthers } from \"aria-hidden\";\nimport { RemoveScroll } from \"react-remove-scroll\";\nimport { jsx } from \"react/jsx-runtime\";\nvar SELECTION_KEYS = [\"Enter\", \" \"];\nvar FIRST_KEYS = [\"ArrowDown\", \"PageUp\", \"Home\"];\nvar LAST_KEYS = [\"ArrowUp\", \"PageDown\", \"End\"];\nvar FIRST_LAST_KEYS = [...FIRST_KEYS, ...LAST_KEYS];\nvar SUB_OPEN_KEYS = {\n  ltr: [...SELECTION_KEYS, \"ArrowRight\"],\n  rtl: [...SELECTION_KEYS, \"ArrowLeft\"]\n};\nvar SUB_CLOSE_KEYS = {\n  ltr: [\"ArrowLeft\"],\n  rtl: [\"ArrowRight\"]\n};\nvar MENU_NAME = \"Menu\";\nvar [Collection, useCollection, createCollectionScope] = createCollection(MENU_NAME);\nvar [createMenuContext, createMenuScope] = createContextScope(MENU_NAME, [\n  createCollectionScope,\n  createPopperScope,\n  createRovingFocusGroupScope\n]);\nvar usePopperScope = createPopperScope();\nvar useRovingFocusGroupScope = createRovingFocusGroupScope();\nvar [MenuProvider, useMenuContext] = createMenuContext(MENU_NAME);\nvar [MenuRootProvider, useMenuRootContext] = createMenuContext(MENU_NAME);\nvar Menu = (props) => {\n  const { __scopeMenu, open = false, children, dir, onOpenChange, modal = true } = props;\n  const popperScope = usePopperScope(__scopeMenu);\n  const [content, setContent] = React.useState(null);\n  const isUsingKeyboardRef = React.useRef(false);\n  const handleOpenChange = useCallbackRef(onOpenChange);\n  const direction = useDirection(dir);\n  React.useEffect(() => {\n    const handleKeyDown = () => {\n      isUsingKeyboardRef.current = true;\n      document.addEventListener(\"pointerdown\", handlePointer, { capture: true, once: true });\n      document.addEventListener(\"pointermove\", handlePointer, { capture: true, once: true });\n    };\n    const handlePointer = () => isUsingKeyboardRef.current = false;\n    document.addEventListener(\"keydown\", handleKeyDown, { capture: true });\n    return () => {\n      document.removeEventListener(\"keydown\", handleKeyDown, { capture: true });\n      document.removeEventListener(\"pointerdown\", handlePointer, { capture: true });\n      document.removeEventListener(\"pointermove\", handlePointer, { capture: true });\n    };\n  }, []);\n  return /* @__PURE__ */ jsx(PopperPrimitive.Root, { ...popperScope, children: /* @__PURE__ */ jsx(\n    MenuProvider,\n    {\n      scope: __scopeMenu,\n      open,\n      onOpenChange: handleOpenChange,\n      content,\n      onContentChange: setContent,\n      children: /* @__PURE__ */ jsx(\n        MenuRootProvider,\n        {\n          scope: __scopeMenu,\n          onClose: React.useCallback(() => handleOpenChange(false), [handleOpenChange]),\n          isUsingKeyboardRef,\n          dir: direction,\n          modal,\n          children\n        }\n      )\n    }\n  ) });\n};\nMenu.displayName = MENU_NAME;\nvar ANCHOR_NAME = \"MenuAnchor\";\nvar MenuAnchor = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, ...anchorProps } = props;\n    const popperScope = usePopperScope(__scopeMenu);\n    return /* @__PURE__ */ jsx(PopperPrimitive.Anchor, { ...popperScope, ...anchorProps, ref: forwardedRef });\n  }\n);\nMenuAnchor.displayName = ANCHOR_NAME;\nvar PORTAL_NAME = \"MenuPortal\";\nvar [PortalProvider, usePortalContext] = createMenuContext(PORTAL_NAME, {\n  forceMount: void 0\n});\nvar MenuPortal = (props) => {\n  const { __scopeMenu, forceMount, children, container } = props;\n  const context = useMenuContext(PORTAL_NAME, __scopeMenu);\n  return /* @__PURE__ */ jsx(PortalProvider, { scope: __scopeMenu, forceMount, children: /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: /* @__PURE__ */ jsx(PortalPrimitive, { asChild: true, container, children }) }) });\n};\nMenuPortal.displayName = PORTAL_NAME;\nvar CONTENT_NAME = \"MenuContent\";\nvar [MenuContentProvider, useMenuContentContext] = createMenuContext(CONTENT_NAME);\nvar MenuContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopeMenu);\n    const { forceMount = portalContext.forceMount, ...contentProps } = props;\n    const context = useMenuContext(CONTENT_NAME, props.__scopeMenu);\n    const rootContext = useMenuRootContext(CONTENT_NAME, props.__scopeMenu);\n    return /* @__PURE__ */ jsx(Collection.Provider, { scope: props.__scopeMenu, children: /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: /* @__PURE__ */ jsx(Collection.Slot, { scope: props.__scopeMenu, children: rootContext.modal ? /* @__PURE__ */ jsx(MenuRootContentModal, { ...contentProps, ref: forwardedRef }) : /* @__PURE__ */ jsx(MenuRootContentNonModal, { ...contentProps, ref: forwardedRef }) }) }) });\n  }\n);\nvar MenuRootContentModal = React.forwardRef(\n  (props, forwardedRef) => {\n    const context = useMenuContext(CONTENT_NAME, props.__scopeMenu);\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    React.useEffect(() => {\n      const content = ref.current;\n      if (content) return hideOthers(content);\n    }, []);\n    return /* @__PURE__ */ jsx(\n      MenuContentImpl,\n      {\n        ...props,\n        ref: composedRefs,\n        trapFocus: context.open,\n        disableOutsidePointerEvents: context.open,\n        disableOutsideScroll: true,\n        onFocusOutside: composeEventHandlers(\n          props.onFocusOutside,\n          (event) => event.preventDefault(),\n          { checkForDefaultPrevented: false }\n        ),\n        onDismiss: () => context.onOpenChange(false)\n      }\n    );\n  }\n);\nvar MenuRootContentNonModal = React.forwardRef((props, forwardedRef) => {\n  const context = useMenuContext(CONTENT_NAME, props.__scopeMenu);\n  return /* @__PURE__ */ jsx(\n    MenuContentImpl,\n    {\n      ...props,\n      ref: forwardedRef,\n      trapFocus: false,\n      disableOutsidePointerEvents: false,\n      disableOutsideScroll: false,\n      onDismiss: () => context.onOpenChange(false)\n    }\n  );\n});\nvar Slot = createSlot(\"MenuContent.ScrollLock\");\nvar MenuContentImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeMenu,\n      loop = false,\n      trapFocus,\n      onOpenAutoFocus,\n      onCloseAutoFocus,\n      disableOutsidePointerEvents,\n      onEntryFocus,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      onFocusOutside,\n      onInteractOutside,\n      onDismiss,\n      disableOutsideScroll,\n      ...contentProps\n    } = props;\n    const context = useMenuContext(CONTENT_NAME, __scopeMenu);\n    const rootContext = useMenuRootContext(CONTENT_NAME, __scopeMenu);\n    const popperScope = usePopperScope(__scopeMenu);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeMenu);\n    const getItems = useCollection(__scopeMenu);\n    const [currentItemId, setCurrentItemId] = React.useState(null);\n    const contentRef = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, contentRef, context.onContentChange);\n    const timerRef = React.useRef(0);\n    const searchRef = React.useRef(\"\");\n    const pointerGraceTimerRef = React.useRef(0);\n    const pointerGraceIntentRef = React.useRef(null);\n    const pointerDirRef = React.useRef(\"right\");\n    const lastPointerXRef = React.useRef(0);\n    const ScrollLockWrapper = disableOutsideScroll ? RemoveScroll : React.Fragment;\n    const scrollLockWrapperProps = disableOutsideScroll ? { as: Slot, allowPinchZoom: true } : void 0;\n    const handleTypeaheadSearch = (key) => {\n      const search = searchRef.current + key;\n      const items = getItems().filter((item) => !item.disabled);\n      const currentItem = document.activeElement;\n      const currentMatch = items.find((item) => item.ref.current === currentItem)?.textValue;\n      const values = items.map((item) => item.textValue);\n      const nextMatch = getNextMatch(values, search, currentMatch);\n      const newItem = items.find((item) => item.textValue === nextMatch)?.ref.current;\n      (function updateSearch(value) {\n        searchRef.current = value;\n        window.clearTimeout(timerRef.current);\n        if (value !== \"\") timerRef.current = window.setTimeout(() => updateSearch(\"\"), 1e3);\n      })(search);\n      if (newItem) {\n        setTimeout(() => newItem.focus());\n      }\n    };\n    React.useEffect(() => {\n      return () => window.clearTimeout(timerRef.current);\n    }, []);\n    useFocusGuards();\n    const isPointerMovingToSubmenu = React.useCallback((event) => {\n      const isMovingTowards = pointerDirRef.current === pointerGraceIntentRef.current?.side;\n      return isMovingTowards && isPointerInGraceArea(event, pointerGraceIntentRef.current?.area);\n    }, []);\n    return /* @__PURE__ */ jsx(\n      MenuContentProvider,\n      {\n        scope: __scopeMenu,\n        searchRef,\n        onItemEnter: React.useCallback(\n          (event) => {\n            if (isPointerMovingToSubmenu(event)) event.preventDefault();\n          },\n          [isPointerMovingToSubmenu]\n        ),\n        onItemLeave: React.useCallback(\n          (event) => {\n            if (isPointerMovingToSubmenu(event)) return;\n            contentRef.current?.focus();\n            setCurrentItemId(null);\n          },\n          [isPointerMovingToSubmenu]\n        ),\n        onTriggerLeave: React.useCallback(\n          (event) => {\n            if (isPointerMovingToSubmenu(event)) event.preventDefault();\n          },\n          [isPointerMovingToSubmenu]\n        ),\n        pointerGraceTimerRef,\n        onPointerGraceIntentChange: React.useCallback((intent) => {\n          pointerGraceIntentRef.current = intent;\n        }, []),\n        children: /* @__PURE__ */ jsx(ScrollLockWrapper, { ...scrollLockWrapperProps, children: /* @__PURE__ */ jsx(\n          FocusScope,\n          {\n            asChild: true,\n            trapped: trapFocus,\n            onMountAutoFocus: composeEventHandlers(onOpenAutoFocus, (event) => {\n              event.preventDefault();\n              contentRef.current?.focus({ preventScroll: true });\n            }),\n            onUnmountAutoFocus: onCloseAutoFocus,\n            children: /* @__PURE__ */ jsx(\n              DismissableLayer,\n              {\n                asChild: true,\n                disableOutsidePointerEvents,\n                onEscapeKeyDown,\n                onPointerDownOutside,\n                onFocusOutside,\n                onInteractOutside,\n                onDismiss,\n                children: /* @__PURE__ */ jsx(\n                  RovingFocusGroup.Root,\n                  {\n                    asChild: true,\n                    ...rovingFocusGroupScope,\n                    dir: rootContext.dir,\n                    orientation: \"vertical\",\n                    loop,\n                    currentTabStopId: currentItemId,\n                    onCurrentTabStopIdChange: setCurrentItemId,\n                    onEntryFocus: composeEventHandlers(onEntryFocus, (event) => {\n                      if (!rootContext.isUsingKeyboardRef.current) event.preventDefault();\n                    }),\n                    preventScrollOnEntryFocus: true,\n                    children: /* @__PURE__ */ jsx(\n                      PopperPrimitive.Content,\n                      {\n                        role: \"menu\",\n                        \"aria-orientation\": \"vertical\",\n                        \"data-state\": getOpenState(context.open),\n                        \"data-radix-menu-content\": \"\",\n                        dir: rootContext.dir,\n                        ...popperScope,\n                        ...contentProps,\n                        ref: composedRefs,\n                        style: { outline: \"none\", ...contentProps.style },\n                        onKeyDown: composeEventHandlers(contentProps.onKeyDown, (event) => {\n                          const target = event.target;\n                          const isKeyDownInside = target.closest(\"[data-radix-menu-content]\") === event.currentTarget;\n                          const isModifierKey = event.ctrlKey || event.altKey || event.metaKey;\n                          const isCharacterKey = event.key.length === 1;\n                          if (isKeyDownInside) {\n                            if (event.key === \"Tab\") event.preventDefault();\n                            if (!isModifierKey && isCharacterKey) handleTypeaheadSearch(event.key);\n                          }\n                          const content = contentRef.current;\n                          if (event.target !== content) return;\n                          if (!FIRST_LAST_KEYS.includes(event.key)) return;\n                          event.preventDefault();\n                          const items = getItems().filter((item) => !item.disabled);\n                          const candidateNodes = items.map((item) => item.ref.current);\n                          if (LAST_KEYS.includes(event.key)) candidateNodes.reverse();\n                          focusFirst(candidateNodes);\n                        }),\n                        onBlur: composeEventHandlers(props.onBlur, (event) => {\n                          if (!event.currentTarget.contains(event.target)) {\n                            window.clearTimeout(timerRef.current);\n                            searchRef.current = \"\";\n                          }\n                        }),\n                        onPointerMove: composeEventHandlers(\n                          props.onPointerMove,\n                          whenMouse((event) => {\n                            const target = event.target;\n                            const pointerXHasChanged = lastPointerXRef.current !== event.clientX;\n                            if (event.currentTarget.contains(target) && pointerXHasChanged) {\n                              const newDir = event.clientX > lastPointerXRef.current ? \"right\" : \"left\";\n                              pointerDirRef.current = newDir;\n                              lastPointerXRef.current = event.clientX;\n                            }\n                          })\n                        )\n                      }\n                    )\n                  }\n                )\n              }\n            )\n          }\n        ) })\n      }\n    );\n  }\n);\nMenuContent.displayName = CONTENT_NAME;\nvar GROUP_NAME = \"MenuGroup\";\nvar MenuGroup = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, ...groupProps } = props;\n    return /* @__PURE__ */ jsx(Primitive.div, { role: \"group\", ...groupProps, ref: forwardedRef });\n  }\n);\nMenuGroup.displayName = GROUP_NAME;\nvar LABEL_NAME = \"MenuLabel\";\nvar MenuLabel = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, ...labelProps } = props;\n    return /* @__PURE__ */ jsx(Primitive.div, { ...labelProps, ref: forwardedRef });\n  }\n);\nMenuLabel.displayName = LABEL_NAME;\nvar ITEM_NAME = \"MenuItem\";\nvar ITEM_SELECT = \"menu.itemSelect\";\nvar MenuItem = React.forwardRef(\n  (props, forwardedRef) => {\n    const { disabled = false, onSelect, ...itemProps } = props;\n    const ref = React.useRef(null);\n    const rootContext = useMenuRootContext(ITEM_NAME, props.__scopeMenu);\n    const contentContext = useMenuContentContext(ITEM_NAME, props.__scopeMenu);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const isPointerDownRef = React.useRef(false);\n    const handleSelect = () => {\n      const menuItem = ref.current;\n      if (!disabled && menuItem) {\n        const itemSelectEvent = new CustomEvent(ITEM_SELECT, { bubbles: true, cancelable: true });\n        menuItem.addEventListener(ITEM_SELECT, (event) => onSelect?.(event), { once: true });\n        dispatchDiscreteCustomEvent(menuItem, itemSelectEvent);\n        if (itemSelectEvent.defaultPrevented) {\n          isPointerDownRef.current = false;\n        } else {\n          rootContext.onClose();\n        }\n      }\n    };\n    return /* @__PURE__ */ jsx(\n      MenuItemImpl,\n      {\n        ...itemProps,\n        ref: composedRefs,\n        disabled,\n        onClick: composeEventHandlers(props.onClick, handleSelect),\n        onPointerDown: (event) => {\n          props.onPointerDown?.(event);\n          isPointerDownRef.current = true;\n        },\n        onPointerUp: composeEventHandlers(props.onPointerUp, (event) => {\n          if (!isPointerDownRef.current) event.currentTarget?.click();\n        }),\n        onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n          const isTypingAhead = contentContext.searchRef.current !== \"\";\n          if (disabled || isTypingAhead && event.key === \" \") return;\n          if (SELECTION_KEYS.includes(event.key)) {\n            event.currentTarget.click();\n            event.preventDefault();\n          }\n        })\n      }\n    );\n  }\n);\nMenuItem.displayName = ITEM_NAME;\nvar MenuItemImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, disabled = false, textValue, ...itemProps } = props;\n    const contentContext = useMenuContentContext(ITEM_NAME, __scopeMenu);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeMenu);\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const [isFocused, setIsFocused] = React.useState(false);\n    const [textContent, setTextContent] = React.useState(\"\");\n    React.useEffect(() => {\n      const menuItem = ref.current;\n      if (menuItem) {\n        setTextContent((menuItem.textContent ?? \"\").trim());\n      }\n    }, [itemProps.children]);\n    return /* @__PURE__ */ jsx(\n      Collection.ItemSlot,\n      {\n        scope: __scopeMenu,\n        disabled,\n        textValue: textValue ?? textContent,\n        children: /* @__PURE__ */ jsx(RovingFocusGroup.Item, { asChild: true, ...rovingFocusGroupScope, focusable: !disabled, children: /* @__PURE__ */ jsx(\n          Primitive.div,\n          {\n            role: \"menuitem\",\n            \"data-highlighted\": isFocused ? \"\" : void 0,\n            \"aria-disabled\": disabled || void 0,\n            \"data-disabled\": disabled ? \"\" : void 0,\n            ...itemProps,\n            ref: composedRefs,\n            onPointerMove: composeEventHandlers(\n              props.onPointerMove,\n              whenMouse((event) => {\n                if (disabled) {\n                  contentContext.onItemLeave(event);\n                } else {\n                  contentContext.onItemEnter(event);\n                  if (!event.defaultPrevented) {\n                    const item = event.currentTarget;\n                    item.focus({ preventScroll: true });\n                  }\n                }\n              })\n            ),\n            onPointerLeave: composeEventHandlers(\n              props.onPointerLeave,\n              whenMouse((event) => contentContext.onItemLeave(event))\n            ),\n            onFocus: composeEventHandlers(props.onFocus, () => setIsFocused(true)),\n            onBlur: composeEventHandlers(props.onBlur, () => setIsFocused(false))\n          }\n        ) })\n      }\n    );\n  }\n);\nvar CHECKBOX_ITEM_NAME = \"MenuCheckboxItem\";\nvar MenuCheckboxItem = React.forwardRef(\n  (props, forwardedRef) => {\n    const { checked = false, onCheckedChange, ...checkboxItemProps } = props;\n    return /* @__PURE__ */ jsx(ItemIndicatorProvider, { scope: props.__scopeMenu, checked, children: /* @__PURE__ */ jsx(\n      MenuItem,\n      {\n        role: \"menuitemcheckbox\",\n        \"aria-checked\": isIndeterminate(checked) ? \"mixed\" : checked,\n        ...checkboxItemProps,\n        ref: forwardedRef,\n        \"data-state\": getCheckedState(checked),\n        onSelect: composeEventHandlers(\n          checkboxItemProps.onSelect,\n          () => onCheckedChange?.(isIndeterminate(checked) ? true : !checked),\n          { checkForDefaultPrevented: false }\n        )\n      }\n    ) });\n  }\n);\nMenuCheckboxItem.displayName = CHECKBOX_ITEM_NAME;\nvar RADIO_GROUP_NAME = \"MenuRadioGroup\";\nvar [RadioGroupProvider, useRadioGroupContext] = createMenuContext(\n  RADIO_GROUP_NAME,\n  { value: void 0, onValueChange: () => {\n  } }\n);\nvar MenuRadioGroup = React.forwardRef(\n  (props, forwardedRef) => {\n    const { value, onValueChange, ...groupProps } = props;\n    const handleValueChange = useCallbackRef(onValueChange);\n    return /* @__PURE__ */ jsx(RadioGroupProvider, { scope: props.__scopeMenu, value, onValueChange: handleValueChange, children: /* @__PURE__ */ jsx(MenuGroup, { ...groupProps, ref: forwardedRef }) });\n  }\n);\nMenuRadioGroup.displayName = RADIO_GROUP_NAME;\nvar RADIO_ITEM_NAME = \"MenuRadioItem\";\nvar MenuRadioItem = React.forwardRef(\n  (props, forwardedRef) => {\n    const { value, ...radioItemProps } = props;\n    const context = useRadioGroupContext(RADIO_ITEM_NAME, props.__scopeMenu);\n    const checked = value === context.value;\n    return /* @__PURE__ */ jsx(ItemIndicatorProvider, { scope: props.__scopeMenu, checked, children: /* @__PURE__ */ jsx(\n      MenuItem,\n      {\n        role: \"menuitemradio\",\n        \"aria-checked\": checked,\n        ...radioItemProps,\n        ref: forwardedRef,\n        \"data-state\": getCheckedState(checked),\n        onSelect: composeEventHandlers(\n          radioItemProps.onSelect,\n          () => context.onValueChange?.(value),\n          { checkForDefaultPrevented: false }\n        )\n      }\n    ) });\n  }\n);\nMenuRadioItem.displayName = RADIO_ITEM_NAME;\nvar ITEM_INDICATOR_NAME = \"MenuItemIndicator\";\nvar [ItemIndicatorProvider, useItemIndicatorContext] = createMenuContext(\n  ITEM_INDICATOR_NAME,\n  { checked: false }\n);\nvar MenuItemIndicator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, forceMount, ...itemIndicatorProps } = props;\n    const indicatorContext = useItemIndicatorContext(ITEM_INDICATOR_NAME, __scopeMenu);\n    return /* @__PURE__ */ jsx(\n      Presence,\n      {\n        present: forceMount || isIndeterminate(indicatorContext.checked) || indicatorContext.checked === true,\n        children: /* @__PURE__ */ jsx(\n          Primitive.span,\n          {\n            ...itemIndicatorProps,\n            ref: forwardedRef,\n            \"data-state\": getCheckedState(indicatorContext.checked)\n          }\n        )\n      }\n    );\n  }\n);\nMenuItemIndicator.displayName = ITEM_INDICATOR_NAME;\nvar SEPARATOR_NAME = \"MenuSeparator\";\nvar MenuSeparator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, ...separatorProps } = props;\n    return /* @__PURE__ */ jsx(\n      Primitive.div,\n      {\n        role: \"separator\",\n        \"aria-orientation\": \"horizontal\",\n        ...separatorProps,\n        ref: forwardedRef\n      }\n    );\n  }\n);\nMenuSeparator.displayName = SEPARATOR_NAME;\nvar ARROW_NAME = \"MenuArrow\";\nvar MenuArrow = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopeMenu);\n    return /* @__PURE__ */ jsx(PopperPrimitive.Arrow, { ...popperScope, ...arrowProps, ref: forwardedRef });\n  }\n);\nMenuArrow.displayName = ARROW_NAME;\nvar SUB_NAME = \"MenuSub\";\nvar [MenuSubProvider, useMenuSubContext] = createMenuContext(SUB_NAME);\nvar MenuSub = (props) => {\n  const { __scopeMenu, children, open = false, onOpenChange } = props;\n  const parentMenuContext = useMenuContext(SUB_NAME, __scopeMenu);\n  const popperScope = usePopperScope(__scopeMenu);\n  const [trigger, setTrigger] = React.useState(null);\n  const [content, setContent] = React.useState(null);\n  const handleOpenChange = useCallbackRef(onOpenChange);\n  React.useEffect(() => {\n    if (parentMenuContext.open === false) handleOpenChange(false);\n    return () => handleOpenChange(false);\n  }, [parentMenuContext.open, handleOpenChange]);\n  return /* @__PURE__ */ jsx(PopperPrimitive.Root, { ...popperScope, children: /* @__PURE__ */ jsx(\n    MenuProvider,\n    {\n      scope: __scopeMenu,\n      open,\n      onOpenChange: handleOpenChange,\n      content,\n      onContentChange: setContent,\n      children: /* @__PURE__ */ jsx(\n        MenuSubProvider,\n        {\n          scope: __scopeMenu,\n          contentId: useId(),\n          triggerId: useId(),\n          trigger,\n          onTriggerChange: setTrigger,\n          children\n        }\n      )\n    }\n  ) });\n};\nMenuSub.displayName = SUB_NAME;\nvar SUB_TRIGGER_NAME = \"MenuSubTrigger\";\nvar MenuSubTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const context = useMenuContext(SUB_TRIGGER_NAME, props.__scopeMenu);\n    const rootContext = useMenuRootContext(SUB_TRIGGER_NAME, props.__scopeMenu);\n    const subContext = useMenuSubContext(SUB_TRIGGER_NAME, props.__scopeMenu);\n    const contentContext = useMenuContentContext(SUB_TRIGGER_NAME, props.__scopeMenu);\n    const openTimerRef = React.useRef(null);\n    const { pointerGraceTimerRef, onPointerGraceIntentChange } = contentContext;\n    const scope = { __scopeMenu: props.__scopeMenu };\n    const clearOpenTimer = React.useCallback(() => {\n      if (openTimerRef.current) window.clearTimeout(openTimerRef.current);\n      openTimerRef.current = null;\n    }, []);\n    React.useEffect(() => clearOpenTimer, [clearOpenTimer]);\n    React.useEffect(() => {\n      const pointerGraceTimer = pointerGraceTimerRef.current;\n      return () => {\n        window.clearTimeout(pointerGraceTimer);\n        onPointerGraceIntentChange(null);\n      };\n    }, [pointerGraceTimerRef, onPointerGraceIntentChange]);\n    return /* @__PURE__ */ jsx(MenuAnchor, { asChild: true, ...scope, children: /* @__PURE__ */ jsx(\n      MenuItemImpl,\n      {\n        id: subContext.triggerId,\n        \"aria-haspopup\": \"menu\",\n        \"aria-expanded\": context.open,\n        \"aria-controls\": subContext.contentId,\n        \"data-state\": getOpenState(context.open),\n        ...props,\n        ref: composeRefs(forwardedRef, subContext.onTriggerChange),\n        onClick: (event) => {\n          props.onClick?.(event);\n          if (props.disabled || event.defaultPrevented) return;\n          event.currentTarget.focus();\n          if (!context.open) context.onOpenChange(true);\n        },\n        onPointerMove: composeEventHandlers(\n          props.onPointerMove,\n          whenMouse((event) => {\n            contentContext.onItemEnter(event);\n            if (event.defaultPrevented) return;\n            if (!props.disabled && !context.open && !openTimerRef.current) {\n              contentContext.onPointerGraceIntentChange(null);\n              openTimerRef.current = window.setTimeout(() => {\n                context.onOpenChange(true);\n                clearOpenTimer();\n              }, 100);\n            }\n          })\n        ),\n        onPointerLeave: composeEventHandlers(\n          props.onPointerLeave,\n          whenMouse((event) => {\n            clearOpenTimer();\n            const contentRect = context.content?.getBoundingClientRect();\n            if (contentRect) {\n              const side = context.content?.dataset.side;\n              const rightSide = side === \"right\";\n              const bleed = rightSide ? -5 : 5;\n              const contentNearEdge = contentRect[rightSide ? \"left\" : \"right\"];\n              const contentFarEdge = contentRect[rightSide ? \"right\" : \"left\"];\n              contentContext.onPointerGraceIntentChange({\n                area: [\n                  // Apply a bleed on clientX to ensure that our exit point is\n                  // consistently within polygon bounds\n                  { x: event.clientX + bleed, y: event.clientY },\n                  { x: contentNearEdge, y: contentRect.top },\n                  { x: contentFarEdge, y: contentRect.top },\n                  { x: contentFarEdge, y: contentRect.bottom },\n                  { x: contentNearEdge, y: contentRect.bottom }\n                ],\n                side\n              });\n              window.clearTimeout(pointerGraceTimerRef.current);\n              pointerGraceTimerRef.current = window.setTimeout(\n                () => contentContext.onPointerGraceIntentChange(null),\n                300\n              );\n            } else {\n              contentContext.onTriggerLeave(event);\n              if (event.defaultPrevented) return;\n              contentContext.onPointerGraceIntentChange(null);\n            }\n          })\n        ),\n        onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n          const isTypingAhead = contentContext.searchRef.current !== \"\";\n          if (props.disabled || isTypingAhead && event.key === \" \") return;\n          if (SUB_OPEN_KEYS[rootContext.dir].includes(event.key)) {\n            context.onOpenChange(true);\n            context.content?.focus();\n            event.preventDefault();\n          }\n        })\n      }\n    ) });\n  }\n);\nMenuSubTrigger.displayName = SUB_TRIGGER_NAME;\nvar SUB_CONTENT_NAME = \"MenuSubContent\";\nvar MenuSubContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopeMenu);\n    const { forceMount = portalContext.forceMount, ...subContentProps } = props;\n    const context = useMenuContext(CONTENT_NAME, props.__scopeMenu);\n    const rootContext = useMenuRootContext(CONTENT_NAME, props.__scopeMenu);\n    const subContext = useMenuSubContext(SUB_CONTENT_NAME, props.__scopeMenu);\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    return /* @__PURE__ */ jsx(Collection.Provider, { scope: props.__scopeMenu, children: /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: /* @__PURE__ */ jsx(Collection.Slot, { scope: props.__scopeMenu, children: /* @__PURE__ */ jsx(\n      MenuContentImpl,\n      {\n        id: subContext.contentId,\n        \"aria-labelledby\": subContext.triggerId,\n        ...subContentProps,\n        ref: composedRefs,\n        align: \"start\",\n        side: rootContext.dir === \"rtl\" ? \"left\" : \"right\",\n        disableOutsidePointerEvents: false,\n        disableOutsideScroll: false,\n        trapFocus: false,\n        onOpenAutoFocus: (event) => {\n          if (rootContext.isUsingKeyboardRef.current) ref.current?.focus();\n          event.preventDefault();\n        },\n        onCloseAutoFocus: (event) => event.preventDefault(),\n        onFocusOutside: composeEventHandlers(props.onFocusOutside, (event) => {\n          if (event.target !== subContext.trigger) context.onOpenChange(false);\n        }),\n        onEscapeKeyDown: composeEventHandlers(props.onEscapeKeyDown, (event) => {\n          rootContext.onClose();\n          event.preventDefault();\n        }),\n        onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n          const isKeyDownInside = event.currentTarget.contains(event.target);\n          const isCloseKey = SUB_CLOSE_KEYS[rootContext.dir].includes(event.key);\n          if (isKeyDownInside && isCloseKey) {\n            context.onOpenChange(false);\n            subContext.trigger?.focus();\n            event.preventDefault();\n          }\n        })\n      }\n    ) }) }) });\n  }\n);\nMenuSubContent.displayName = SUB_CONTENT_NAME;\nfunction getOpenState(open) {\n  return open ? \"open\" : \"closed\";\n}\nfunction isIndeterminate(checked) {\n  return checked === \"indeterminate\";\n}\nfunction getCheckedState(checked) {\n  return isIndeterminate(checked) ? \"indeterminate\" : checked ? \"checked\" : \"unchecked\";\n}\nfunction focusFirst(candidates) {\n  const PREVIOUSLY_FOCUSED_ELEMENT = document.activeElement;\n  for (const candidate of candidates) {\n    if (candidate === PREVIOUSLY_FOCUSED_ELEMENT) return;\n    candidate.focus();\n    if (document.activeElement !== PREVIOUSLY_FOCUSED_ELEMENT) return;\n  }\n}\nfunction wrapArray(array, startIndex) {\n  return array.map((_, index) => array[(startIndex + index) % array.length]);\n}\nfunction getNextMatch(values, search, currentMatch) {\n  const isRepeated = search.length > 1 && Array.from(search).every((char) => char === search[0]);\n  const normalizedSearch = isRepeated ? search[0] : search;\n  const currentMatchIndex = currentMatch ? values.indexOf(currentMatch) : -1;\n  let wrappedValues = wrapArray(values, Math.max(currentMatchIndex, 0));\n  const excludeCurrentMatch = normalizedSearch.length === 1;\n  if (excludeCurrentMatch) wrappedValues = wrappedValues.filter((v) => v !== currentMatch);\n  const nextMatch = wrappedValues.find(\n    (value) => value.toLowerCase().startsWith(normalizedSearch.toLowerCase())\n  );\n  return nextMatch !== currentMatch ? nextMatch : void 0;\n}\nfunction isPointInPolygon(point, polygon) {\n  const { x, y } = point;\n  let inside = false;\n  for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n    const ii = polygon[i];\n    const jj = polygon[j];\n    const xi = ii.x;\n    const yi = ii.y;\n    const xj = jj.x;\n    const yj = jj.y;\n    const intersect = yi > y !== yj > y && x < (xj - xi) * (y - yi) / (yj - yi) + xi;\n    if (intersect) inside = !inside;\n  }\n  return inside;\n}\nfunction isPointerInGraceArea(event, area) {\n  if (!area) return false;\n  const cursorPos = { x: event.clientX, y: event.clientY };\n  return isPointInPolygon(cursorPos, area);\n}\nfunction whenMouse(handler) {\n  return (event) => event.pointerType === \"mouse\" ? handler(event) : void 0;\n}\nvar Root3 = Menu;\nvar Anchor2 = MenuAnchor;\nvar Portal = MenuPortal;\nvar Content2 = MenuContent;\nvar Group = MenuGroup;\nvar Label = MenuLabel;\nvar Item2 = MenuItem;\nvar CheckboxItem = MenuCheckboxItem;\nvar RadioGroup = MenuRadioGroup;\nvar RadioItem = MenuRadioItem;\nvar ItemIndicator = MenuItemIndicator;\nvar Separator = MenuSeparator;\nvar Arrow2 = MenuArrow;\nvar Sub = MenuSub;\nvar SubTrigger = MenuSubTrigger;\nvar SubContent = MenuSubContent;\nexport {\n  Anchor2 as Anchor,\n  Arrow2 as Arrow,\n  CheckboxItem,\n  Content2 as Content,\n  Group,\n  Item2 as Item,\n  ItemIndicator,\n  Label,\n  Menu,\n  MenuAnchor,\n  MenuArrow,\n  MenuCheckboxItem,\n  MenuContent,\n  MenuGroup,\n  MenuItem,\n  MenuItemIndicator,\n  MenuLabel,\n  MenuPortal,\n  MenuRadioGroup,\n  MenuRadioItem,\n  MenuSeparator,\n  MenuSub,\n  MenuSubContent,\n  MenuSubTrigger,\n  Portal,\n  RadioGroup,\n  RadioItem,\n  Root3 as Root,\n  Separator,\n  Sub,\n  SubContent,\n  SubTrigger,\n  createMenuScope\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/dropdown-menu.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { composeRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport * as MenuPrimitive from \"@radix-ui/react-menu\";\nimport { createMenuScope } from \"@radix-ui/react-menu\";\nimport { useId } from \"@radix-ui/react-id\";\nimport { jsx } from \"react/jsx-runtime\";\nvar DROPDOWN_MENU_NAME = \"DropdownMenu\";\nvar [createDropdownMenuContext, createDropdownMenuScope] = createContextScope(\n  DROPDOWN_MENU_NAME,\n  [createMenuScope]\n);\nvar useMenuScope = createMenuScope();\nvar [DropdownMenuProvider, useDropdownMenuContext] = createDropdownMenuContext(DROPDOWN_MENU_NAME);\nvar DropdownMenu = (props) => {\n  const {\n    __scopeDropdownMenu,\n    children,\n    dir,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    modal = true\n  } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  const triggerRef = React.useRef(null);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: onOpenChange,\n    caller: DROPDOWN_MENU_NAME\n  });\n  return /* @__PURE__ */ jsx(\n    DropdownMenuProvider,\n    {\n      scope: __scopeDropdownMenu,\n      triggerId: useId(),\n      triggerRef,\n      contentId: useId(),\n      open,\n      onOpenChange: setOpen,\n      onOpenToggle: React.useCallback(() => setOpen((prevOpen) => !prevOpen), [setOpen]),\n      modal,\n      children: /* @__PURE__ */ jsx(MenuPrimitive.Root, { ...menuScope, open, onOpenChange: setOpen, dir, modal, children })\n    }\n  );\n};\nDropdownMenu.displayName = DROPDOWN_MENU_NAME;\nvar TRIGGER_NAME = \"DropdownMenuTrigger\";\nvar DropdownMenuTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDropdownMenu, disabled = false, ...triggerProps } = props;\n    const context = useDropdownMenuContext(TRIGGER_NAME, __scopeDropdownMenu);\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return /* @__PURE__ */ jsx(MenuPrimitive.Anchor, { asChild: true, ...menuScope, children: /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        type: \"button\",\n        id: context.triggerId,\n        \"aria-haspopup\": \"menu\",\n        \"aria-expanded\": context.open,\n        \"aria-controls\": context.open ? context.contentId : void 0,\n        \"data-state\": context.open ? \"open\" : \"closed\",\n        \"data-disabled\": disabled ? \"\" : void 0,\n        disabled,\n        ...triggerProps,\n        ref: composeRefs(forwardedRef, context.triggerRef),\n        onPointerDown: composeEventHandlers(props.onPointerDown, (event) => {\n          if (!disabled && event.button === 0 && event.ctrlKey === false) {\n            context.onOpenToggle();\n            if (!context.open) event.preventDefault();\n          }\n        }),\n        onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n          if (disabled) return;\n          if ([\"Enter\", \" \"].includes(event.key)) context.onOpenToggle();\n          if (event.key === \"ArrowDown\") context.onOpenChange(true);\n          if ([\"Enter\", \" \", \"ArrowDown\"].includes(event.key)) event.preventDefault();\n        })\n      }\n    ) });\n  }\n);\nDropdownMenuTrigger.displayName = TRIGGER_NAME;\nvar PORTAL_NAME = \"DropdownMenuPortal\";\nvar DropdownMenuPortal = (props) => {\n  const { __scopeDropdownMenu, ...portalProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.Portal, { ...menuScope, ...portalProps });\n};\nDropdownMenuPortal.displayName = PORTAL_NAME;\nvar CONTENT_NAME = \"DropdownMenuContent\";\nvar DropdownMenuContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDropdownMenu, ...contentProps } = props;\n    const context = useDropdownMenuContext(CONTENT_NAME, __scopeDropdownMenu);\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    const hasInteractedOutsideRef = React.useRef(false);\n    return /* @__PURE__ */ jsx(\n      MenuPrimitive.Content,\n      {\n        id: context.contentId,\n        \"aria-labelledby\": context.triggerId,\n        ...menuScope,\n        ...contentProps,\n        ref: forwardedRef,\n        onCloseAutoFocus: composeEventHandlers(props.onCloseAutoFocus, (event) => {\n          if (!hasInteractedOutsideRef.current) context.triggerRef.current?.focus();\n          hasInteractedOutsideRef.current = false;\n          event.preventDefault();\n        }),\n        onInteractOutside: composeEventHandlers(props.onInteractOutside, (event) => {\n          const originalEvent = event.detail.originalEvent;\n          const ctrlLeftClick = originalEvent.button === 0 && originalEvent.ctrlKey === true;\n          const isRightClick = originalEvent.button === 2 || ctrlLeftClick;\n          if (!context.modal || isRightClick) hasInteractedOutsideRef.current = true;\n        }),\n        style: {\n          ...props.style,\n          // re-namespace exposed content custom properties\n          ...{\n            \"--radix-dropdown-menu-content-transform-origin\": \"var(--radix-popper-transform-origin)\",\n            \"--radix-dropdown-menu-content-available-width\": \"var(--radix-popper-available-width)\",\n            \"--radix-dropdown-menu-content-available-height\": \"var(--radix-popper-available-height)\",\n            \"--radix-dropdown-menu-trigger-width\": \"var(--radix-popper-anchor-width)\",\n            \"--radix-dropdown-menu-trigger-height\": \"var(--radix-popper-anchor-height)\"\n          }\n        }\n      }\n    );\n  }\n);\nDropdownMenuContent.displayName = CONTENT_NAME;\nvar GROUP_NAME = \"DropdownMenuGroup\";\nvar DropdownMenuGroup = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDropdownMenu, ...groupProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return /* @__PURE__ */ jsx(MenuPrimitive.Group, { ...menuScope, ...groupProps, ref: forwardedRef });\n  }\n);\nDropdownMenuGroup.displayName = GROUP_NAME;\nvar LABEL_NAME = \"DropdownMenuLabel\";\nvar DropdownMenuLabel = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDropdownMenu, ...labelProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return /* @__PURE__ */ jsx(MenuPrimitive.Label, { ...menuScope, ...labelProps, ref: forwardedRef });\n  }\n);\nDropdownMenuLabel.displayName = LABEL_NAME;\nvar ITEM_NAME = \"DropdownMenuItem\";\nvar DropdownMenuItem = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDropdownMenu, ...itemProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return /* @__PURE__ */ jsx(MenuPrimitive.Item, { ...menuScope, ...itemProps, ref: forwardedRef });\n  }\n);\nDropdownMenuItem.displayName = ITEM_NAME;\nvar CHECKBOX_ITEM_NAME = \"DropdownMenuCheckboxItem\";\nvar DropdownMenuCheckboxItem = React.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...checkboxItemProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.CheckboxItem, { ...menuScope, ...checkboxItemProps, ref: forwardedRef });\n});\nDropdownMenuCheckboxItem.displayName = CHECKBOX_ITEM_NAME;\nvar RADIO_GROUP_NAME = \"DropdownMenuRadioGroup\";\nvar DropdownMenuRadioGroup = React.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...radioGroupProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.RadioGroup, { ...menuScope, ...radioGroupProps, ref: forwardedRef });\n});\nDropdownMenuRadioGroup.displayName = RADIO_GROUP_NAME;\nvar RADIO_ITEM_NAME = \"DropdownMenuRadioItem\";\nvar DropdownMenuRadioItem = React.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...radioItemProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.RadioItem, { ...menuScope, ...radioItemProps, ref: forwardedRef });\n});\nDropdownMenuRadioItem.displayName = RADIO_ITEM_NAME;\nvar INDICATOR_NAME = \"DropdownMenuItemIndicator\";\nvar DropdownMenuItemIndicator = React.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...itemIndicatorProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.ItemIndicator, { ...menuScope, ...itemIndicatorProps, ref: forwardedRef });\n});\nDropdownMenuItemIndicator.displayName = INDICATOR_NAME;\nvar SEPARATOR_NAME = \"DropdownMenuSeparator\";\nvar DropdownMenuSeparator = React.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...separatorProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.Separator, { ...menuScope, ...separatorProps, ref: forwardedRef });\n});\nDropdownMenuSeparator.displayName = SEPARATOR_NAME;\nvar ARROW_NAME = \"DropdownMenuArrow\";\nvar DropdownMenuArrow = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDropdownMenu, ...arrowProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return /* @__PURE__ */ jsx(MenuPrimitive.Arrow, { ...menuScope, ...arrowProps, ref: forwardedRef });\n  }\n);\nDropdownMenuArrow.displayName = ARROW_NAME;\nvar DropdownMenuSub = (props) => {\n  const { __scopeDropdownMenu, children, open: openProp, onOpenChange, defaultOpen } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: onOpenChange,\n    caller: \"DropdownMenuSub\"\n  });\n  return /* @__PURE__ */ jsx(MenuPrimitive.Sub, { ...menuScope, open, onOpenChange: setOpen, children });\n};\nvar SUB_TRIGGER_NAME = \"DropdownMenuSubTrigger\";\nvar DropdownMenuSubTrigger = React.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...subTriggerProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.SubTrigger, { ...menuScope, ...subTriggerProps, ref: forwardedRef });\n});\nDropdownMenuSubTrigger.displayName = SUB_TRIGGER_NAME;\nvar SUB_CONTENT_NAME = \"DropdownMenuSubContent\";\nvar DropdownMenuSubContent = React.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...subContentProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return /* @__PURE__ */ jsx(\n    MenuPrimitive.SubContent,\n    {\n      ...menuScope,\n      ...subContentProps,\n      ref: forwardedRef,\n      style: {\n        ...props.style,\n        // re-namespace exposed content custom properties\n        ...{\n          \"--radix-dropdown-menu-content-transform-origin\": \"var(--radix-popper-transform-origin)\",\n          \"--radix-dropdown-menu-content-available-width\": \"var(--radix-popper-available-width)\",\n          \"--radix-dropdown-menu-content-available-height\": \"var(--radix-popper-available-height)\",\n          \"--radix-dropdown-menu-trigger-width\": \"var(--radix-popper-anchor-width)\",\n          \"--radix-dropdown-menu-trigger-height\": \"var(--radix-popper-anchor-height)\"\n        }\n      }\n    }\n  );\n});\nDropdownMenuSubContent.displayName = SUB_CONTENT_NAME;\nvar Root2 = DropdownMenu;\nvar Trigger = DropdownMenuTrigger;\nvar Portal2 = DropdownMenuPortal;\nvar Content2 = DropdownMenuContent;\nvar Group2 = DropdownMenuGroup;\nvar Label2 = DropdownMenuLabel;\nvar Item2 = DropdownMenuItem;\nvar CheckboxItem2 = DropdownMenuCheckboxItem;\nvar RadioGroup2 = DropdownMenuRadioGroup;\nvar RadioItem2 = DropdownMenuRadioItem;\nvar ItemIndicator2 = DropdownMenuItemIndicator;\nvar Separator2 = DropdownMenuSeparator;\nvar Arrow2 = DropdownMenuArrow;\nvar Sub2 = DropdownMenuSub;\nvar SubTrigger2 = DropdownMenuSubTrigger;\nvar SubContent2 = DropdownMenuSubContent;\nexport {\n  Arrow2 as Arrow,\n  CheckboxItem2 as CheckboxItem,\n  Content2 as Content,\n  DropdownMenu,\n  DropdownMenuArrow,\n  DropdownMenuCheckboxItem,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuItemIndicator,\n  DropdownMenuLabel,\n  DropdownMenuPortal,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuTrigger,\n  Group2 as Group,\n  Item2 as Item,\n  ItemIndicator2 as ItemIndicator,\n  Label2 as Label,\n  Portal2 as Portal,\n  RadioGroup2 as RadioGroup,\n  RadioItem2 as RadioItem,\n  Root2 as Root,\n  Separator2 as Separator,\n  Sub2 as Sub,\n  SubContent2 as SubContent,\n  SubTrigger2 as SubTrigger,\n  Trigger,\n  createDropdownMenuScope\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\n//  dropdown .\nfunction DropdownMenu({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\n  return <DropdownMenuPrimitive.Root data-slot=\"dropdown-menu\" {...props} />\n}\n\n//       DOM.\nfunction DropdownMenuPortal({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\n  return (\n    <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />\n  )\n}\n\n// ,  .\nfunction DropdownMenuTrigger({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\n  return (\n    <DropdownMenuPrimitive.Trigger\n      data-slot=\"dropdown-menu-trigger\"\n      {...props}\n    />\n  )\n}\n\n//    .\nfunction DropdownMenuContent({\n  className,\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {\n  return (\n    <DropdownMenuPrimitive.Portal>\n      <DropdownMenuPrimitive.Content\n        data-slot=\"dropdown-menu-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          \"bg-white text-neutral-950 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border border-neutral-200 p-1 shadow-md dark:bg-neutral-950 dark:text-neutral-50 dark:border-neutral-800\",\n          className\n        )}\n        {...props}\n      />\n    </DropdownMenuPrimitive.Portal>\n  )\n}\n\n//   .\nfunction DropdownMenuGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\n  return (\n    <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />\n  )\n}\n\n//    (  destructive  ).\nfunction DropdownMenuItem({\n  className,\n  inset,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\n  inset?: boolean\n  variant?: \"default\" | \"destructive\"\n}) {\n  return (\n    <DropdownMenuPrimitive.Item\n      data-slot=\"dropdown-menu-item\"\n      data-inset={inset}\n      data-variant={variant}\n      className={cn(\n        \"focus:bg-neutral-100 focus:text-neutral-900 data-[variant=destructive]:text-red-500 data-[variant=destructive]:focus:bg-red-500/10 dark:data-[variant=destructive]:focus:bg-red-500/20 data-[variant=destructive]:focus:text-red-500 data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-neutral-500 relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 dark:focus:bg-neutral-800 dark:focus:text-neutral-50 dark:data-[variant=destructive]:text-red-900 dark:data-[variant=destructive]:focus:bg-red-900/10 dark:dark:data-[variant=destructive]:focus:bg-red-900/20 dark:data-[variant=destructive]:focus:text-red-900 dark:[&_svg:not([class*='text-'])]:text-neutral-400\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\n//   .\nfunction DropdownMenuCheckboxItem({\n  className,\n  children,\n  checked,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {\n  return (\n    <DropdownMenuPrimitive.CheckboxItem\n      data-slot=\"dropdown-menu-checkbox-item\"\n      className={cn(\n        \"focus:bg-neutral-100 focus:text-neutral-900 relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 dark:focus:bg-neutral-800 dark:focus:text-neutral-50\",\n        className\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.CheckboxItem>\n  )\n}\n\n//  .\nfunction DropdownMenuRadioGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\n  return (\n    <DropdownMenuPrimitive.RadioGroup\n      data-slot=\"dropdown-menu-radio-group\"\n      {...props}\n    />\n  )\n}\n\n//   .\nfunction DropdownMenuRadioItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {\n  return (\n    <DropdownMenuPrimitive.RadioItem\n      data-slot=\"dropdown-menu-radio-item\"\n      className={cn(\n        \"focus:bg-neutral-100 focus:text-neutral-900 relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 dark:focus:bg-neutral-800 dark:focus:text-neutral-50\",\n        className\n      )}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CircleIcon className=\"size-2 fill-current\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.RadioItem>\n  )\n}\n\n// /label  .\nfunction DropdownMenuLabel({\n  className,\n  inset,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.Label\n      data-slot=\"dropdown-menu-label\"\n      data-inset={inset}\n      className={cn(\n        \"px-2 py-1.5 text-sm font-medium data-[inset]:pl-8\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\n// .\nfunction DropdownMenuSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\n  return (\n    <DropdownMenuPrimitive.Separator\n      data-slot=\"dropdown-menu-separator\"\n      className={cn(\"bg-neutral-200 -mx-1 my-1 h-px dark:bg-neutral-800\", className)}\n      {...props}\n    />\n  )\n}\n\n//    .\nfunction DropdownMenuShortcut({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      data-slot=\"dropdown-menu-shortcut\"\n      className={cn(\n        \"text-neutral-500 ml-auto text-xs tracking-widest dark:text-neutral-400\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\n// .\nfunction DropdownMenuSub({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />\n}\n\n//    .\nfunction DropdownMenuSubTrigger({\n  className,\n  inset,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.SubTrigger\n      data-slot=\"dropdown-menu-sub-trigger\"\n      data-inset={inset}\n      className={cn(\n        \"focus:bg-neutral-100 focus:text-neutral-900 data-[state=open]:bg-neutral-100 data-[state=open]:text-neutral-900 [&_svg:not([class*='text-'])]:text-neutral-500 flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 dark:focus:bg-neutral-800 dark:focus:text-neutral-50 dark:data-[state=open]:bg-neutral-800 dark:data-[state=open]:text-neutral-50 dark:[&_svg:not([class*='text-'])]:text-neutral-400\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronRightIcon className=\"ml-auto size-4\" />\n    </DropdownMenuPrimitive.SubTrigger>\n  )\n}\n\n//  .\nfunction DropdownMenuSubContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {\n  return (\n    <DropdownMenuPrimitive.SubContent\n      data-slot=\"dropdown-menu-sub-content\"\n      className={cn(\n        \"bg-white text-neutral-950 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border border-neutral-200 p-1 shadow-lg dark:bg-neutral-950 dark:text-neutral-50 dark:border-neutral-800\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  DropdownMenu,\n  DropdownMenuPortal,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuLabel,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuSub,\n  DropdownMenuSubTrigger,\n  DropdownMenuSubContent,\n}\n","'use client';\n\nimport { useCallback, useEffect, useMemo, useState, type CSSProperties, type ReactNode } from 'react';\nimport type {\n  ProductVariant,\n  ProductVariantItemRow,\n  ProductVariantRow,\n  Proposal,\n  ProposalItem,\n} from '@/lib/types/proposal';\nimport { calculateItemTotal, calculateProposalSubtotal, calculateProposalTotal, calculateVatAmount } from '@/lib/types/proposal';\nimport {\n  DndContext,\n  PointerSensor,\n  KeyboardSensor,\n  closestCenter,\n  type DragEndEvent,\n  useSensor,\n  useSensors,\n} from '@dnd-kit/core';\nimport {\n  SortableContext,\n  arrayMove,\n  sortableKeyboardCoordinates,\n  useSortable,\n  verticalListSortingStrategy,\n} from '@dnd-kit/sortable';\nimport { CSS } from '@dnd-kit/utilities';\nimport {\n  Check,\n  FolderPlus,\n  GripVertical,\n  Loader2,\n  Package,\n  Percent,\n  Plus,\n  Search,\n  Star,\n  Trash2,\n} from 'lucide-react';\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from '@/components/ui/sheet';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu';\n\ninterface CatalogProduct {\n  id: string;\n  name: string;\n  sku: string | null;\n  description: string | null;\n  currency: string;\n  basePrice: number;\n}\n\ninterface ProductsSectionProps {\n  proposal: Proposal;\n  onUpdate: <K extends keyof Proposal>(field: K, value: Proposal[K]) => void;\n}\n\nconst FIELD_BORDER_COLOR = 'var(--field-border)';\nconst TEXT_PRIMARY = '#3d3d3a';\nconst TEXT_MUTED = '#73726c';\n\nconst createId = (prefix: string) => `${prefix}-${Date.now()}-${Math.random().toString(36).slice(2, 9)}`;\n\nconst isItemRow = (row: ProductVariantRow): row is ProductVariantItemRow => row.type === 'item';\n\nconst toLegacyItem = (row: ProductVariantItemRow): ProposalItem => ({\n  id: row.id,\n  productId: row.productId,\n  name: row.name,\n  description: row.description,\n  qty: row.qty,\n  price: row.price,\n  discount: row.discount,\n  unit: row.unit,\n});\n\nconst createVariant = (name: string, isRecommended = false): ProductVariant => ({\n  id: createId('variant'),\n  name,\n  description: '',\n  isRecommended,\n  rows: [],\n});\n\nconst createItemRow = (patch: Partial<ProductVariantItemRow> = {}): ProductVariantItemRow => ({\n  type: 'item',\n  id: createId('item'),\n  name: patch.name ?? '',\n  description: patch.description ?? '',\n  qty: Number.isFinite(patch.qty) ? Number(patch.qty) : 1,\n  price: Number.isFinite(patch.price) ? Number(patch.price) : 0,\n  discount: Number.isFinite(patch.discount) ? Number(patch.discount) : 0,\n  unit: patch.unit ?? '',\n  productId: patch.productId,\n  groupId: patch.groupId,\n});\n\nconst toVariantRowsFromItems = (items: ProposalItem[]): ProductVariantRow[] =>\n  items.map((item) =>\n    createItemRow({\n      id: item.id || createId('item'),\n      productId: item.productId,\n      name: item.name,\n      description: item.description,\n      qty: item.qty,\n      price: item.price,\n      discount: item.discount,\n      unit: item.unit,\n    }),\n  );\n\nconst normalizeVariants = (proposal: Proposal): ProductVariant[] => {\n  if (proposal.pricingMode === 'variants' && Array.isArray(proposal.productVariants) && proposal.productVariants.length > 0) {\n    return proposal.productVariants;\n  }\n\n  const legacyItems = Array.isArray(proposal.items) ? proposal.items : [];\n  return [{ ...createVariant(' 1', true), rows: toVariantRowsFromItems(legacyItems) }];\n};\n\nconst formatPrice = (price: number, currency: string) =>\n  new Intl.NumberFormat('ru-RU', {\n    style: 'currency',\n    currency,\n    maximumFractionDigits: 2,\n  }).format(price);\n\nconst formatAmount = (amount: number) =>\n  new Intl.NumberFormat('ru-RU', {\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2,\n  }).format(amount);\n\nconst getCurrencySymbol = (currency: string) => {\n  const symbols: Record<string, string> = {\n    RUB: '',\n    USD: '$',\n    EUR: '',\n  };\n  return symbols[currency] ?? currency;\n};\n\ninterface SortableTableRowRenderProps {\n  attributes: ReturnType<typeof useSortable>['attributes'];\n  listeners: ReturnType<typeof useSortable>['listeners'];\n  setActivatorNodeRef: ReturnType<typeof useSortable>['setActivatorNodeRef'];\n}\n\ninterface SortableTableRowProps {\n  id: string;\n  className?: string;\n  style?: CSSProperties;\n  children: (props: SortableTableRowRenderProps) => ReactNode;\n}\n\nfunction SortableTableRow({ id, className, style, children }: SortableTableRowProps) {\n  const { attributes, listeners, setActivatorNodeRef, setNodeRef, transform, transition, isDragging } = useSortable({ id });\n\n  const rowStyle: CSSProperties = {\n    ...style,\n    transform: CSS.Transform.toString(transform),\n    transition,\n    opacity: isDragging ? 0.9 : 1,\n    zIndex: isDragging ? 2 : 1,\n    position: 'relative',\n  };\n\n  return (\n    <tr ref={setNodeRef} className={className} style={rowStyle}>\n      {children({ attributes, listeners, setActivatorNodeRef })}\n    </tr>\n  );\n}\n\nexport default function ProductsSection({\n  proposal,\n  onUpdate,\n}: ProductsSectionProps) {\n  const [showCatalogPicker, setShowCatalogPicker] = useState(false);\n  const [catalogProducts, setCatalogProducts] = useState<CatalogProduct[]>([]);\n  const [filteredProducts, setFilteredProducts] = useState<CatalogProduct[]>([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [isLoadingCatalog, setIsLoadingCatalog] = useState(false);\n  const [selectedProducts, setSelectedProducts] = useState<Set<string>>(new Set());\n\n  const variants = useMemo(() => normalizeVariants(proposal), [proposal]);\n  const productsView = useMemo(\n    () => ({\n      showDiscountColumn: proposal.productsView?.showDiscountColumn ?? true,\n      showUnitColumn: proposal.productsView?.showUnitColumn ?? true,\n    }),\n    [proposal.productsView],\n  );\n\n  const resolvedActiveVariantId =\n    variants.some((variant) => variant.id === proposal.activeVariantId)\n      ? proposal.activeVariantId\n      : variants[0]?.id;\n\n  const activeVariant = useMemo(\n    () => variants.find((variant) => variant.id === resolvedActiveVariantId) ?? variants[0] ?? null,\n    [variants, resolvedActiveVariantId],\n  );\n\n  const syncProposalProducts = useCallback(\n    (nextVariants: ProductVariant[], nextActiveVariantId?: string) => {\n      const activeVariantId =\n        nextVariants.some((variant) => variant.id === nextActiveVariantId)\n          ? nextActiveVariantId\n          : nextVariants[0]?.id;\n\n      const active = nextVariants.find((variant) => variant.id === activeVariantId) ?? nextVariants[0];\n      const legacyItems = (active?.rows ?? []).filter(isItemRow).map(toLegacyItem);\n\n      onUpdate('pricingMode', 'variants');\n      onUpdate('productVariants', nextVariants);\n      onUpdate('activeVariantId', activeVariantId);\n      onUpdate('productsView', productsView);\n      onUpdate('items', legacyItems);\n    },\n    [onUpdate, productsView],\n  );\n\n  useEffect(() => {\n    const needsInit =\n      proposal.pricingMode !== 'variants' ||\n      !Array.isArray(proposal.productVariants) ||\n      proposal.productVariants.length === 0 ||\n      !proposal.activeVariantId ||\n      !proposal.productsView;\n\n    if (!needsInit) return;\n    syncProposalProducts(variants, resolvedActiveVariantId);\n  }, [proposal.pricingMode, proposal.productVariants, proposal.activeVariantId, proposal.productsView, resolvedActiveVariantId, syncProposalProducts, variants]);\n\n  const updateActiveVariantRows = useCallback(\n    (updater: (rows: ProductVariantRow[]) => ProductVariantRow[]) => {\n      if (!activeVariant || !resolvedActiveVariantId) return;\n      const nextVariants = variants.map((variant) =>\n        variant.id === resolvedActiveVariantId\n          ? { ...variant, rows: updater(variant.rows) }\n          : variant,\n      );\n      syncProposalProducts(nextVariants, resolvedActiveVariantId);\n    },\n    [activeVariant, resolvedActiveVariantId, syncProposalProducts, variants],\n  );\n\n  const fetchCatalogProducts = useCallback(async () => {\n    setIsLoadingCatalog(true);\n    try {\n      const res = await fetch('/api/products');\n      if (res.ok) {\n        const data = await res.json();\n        const products = Array.isArray(data.products) ? data.products : [];\n        setCatalogProducts(products);\n        setFilteredProducts(products);\n      }\n    } catch (error) {\n      console.error('Failed to fetch catalog products:', error);\n    } finally {\n      setIsLoadingCatalog(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (showCatalogPicker && catalogProducts.length === 0) {\n      fetchCatalogProducts();\n    }\n  }, [catalogProducts.length, fetchCatalogProducts, showCatalogPicker]);\n\n  useEffect(() => {\n    if (!searchQuery.trim()) {\n      setFilteredProducts(catalogProducts);\n      return;\n    }\n\n    const query = searchQuery.toLowerCase();\n    setFilteredProducts(\n      catalogProducts.filter(\n        (product) =>\n          product.name.toLowerCase().includes(query) ||\n          product.sku?.toLowerCase().includes(query) ||\n          product.description?.toLowerCase().includes(query),\n      ),\n    );\n  }, [catalogProducts, searchQuery]);\n\n  const itemRows = useMemo(() => {\n    if (!activeVariant) return [];\n    return activeVariant.rows.filter(isItemRow);\n  }, [activeVariant]);\n\n  const subtotal = calculateProposalSubtotal(itemRows);\n  const vatAmount = calculateVatAmount({ ...proposal, items: itemRows });\n  const total = calculateProposalTotal({ ...proposal, items: itemRows });\n  const currencySymbol = getCurrencySymbol(proposal.currency);\n  const groupTrailingCols = 3 + (productsView.showUnitColumn ? 1 : 0) + (productsView.showDiscountColumn ? 1 : 0);\n\n  const setActiveVariant = (variantId: string) => {\n    syncProposalProducts(variants, variantId);\n  };\n\n  const addVariant = () => {\n    if (variants.length >= 3) return;\n    const nextVariant = createVariant(` ${variants.length + 1}`);\n    const nextVariants = variants.map((variant) => ({ ...variant, isRecommended: !!variant.isRecommended }));\n    if (!nextVariants.some((variant) => variant.isRecommended)) {\n      nextVariants[0] = { ...nextVariants[0], isRecommended: true };\n    }\n    syncProposalProducts([...nextVariants, nextVariant], nextVariant.id);\n  };\n\n  const removeActiveVariant = () => {\n    if (!activeVariant || variants.length <= 1) return;\n    const remaining = variants.filter((variant) => variant.id !== activeVariant.id);\n    if (!remaining.some((variant) => variant.isRecommended)) {\n      remaining[0] = { ...remaining[0], isRecommended: true };\n    }\n    syncProposalProducts(remaining, remaining[0]?.id);\n  };\n\n  const updateActiveVariant = (patch: Partial<ProductVariant>) => {\n    if (!activeVariant || !resolvedActiveVariantId) return;\n    const nextVariants = variants.map((variant) =>\n      variant.id === resolvedActiveVariantId ? { ...variant, ...patch } : variant,\n    );\n    syncProposalProducts(nextVariants, resolvedActiveVariantId);\n  };\n\n  const setRecommendedVariant = (variantId: string) => {\n    const nextVariants = variants.map((variant) => ({\n      ...variant,\n      isRecommended: variant.id === variantId,\n    }));\n    syncProposalProducts(nextVariants, resolvedActiveVariantId);\n  };\n\n  const updateProductsView = (patch: Partial<NonNullable<Proposal['productsView']>>) => {\n    onUpdate('productsView', { ...productsView, ...patch });\n  };\n\n  const addGroupRow = () => {\n    updateActiveVariantRows((rows) => [\n      ...rows,\n      {\n        id: createId('group'),\n        type: 'group',\n        title: ` ${rows.filter((row) => row.type === 'group').length + 1}`,\n      },\n    ]);\n  };\n\n  const addItemRow = () => {\n    updateActiveVariantRows((rows) => {\n      const lastGroup = [...rows].reverse().find((row) => row.type === 'group');\n      return [...rows, createItemRow({ groupId: lastGroup?.id })];\n    });\n  };\n\n  const handleToggleProduct = (productId: string) => {\n    setSelectedProducts((prev) => {\n      const next = new Set(prev);\n      if (next.has(productId)) {\n        next.delete(productId);\n      } else {\n        next.add(productId);\n      }\n      return next;\n    });\n  };\n\n  const handleAddSelectedProducts = () => {\n    if (!activeVariant) return;\n\n    updateActiveVariantRows((rows) => {\n      const lastGroup = [...rows].reverse().find((row) => row.type === 'group');\n      const additions: ProductVariantItemRow[] = [];\n\n      selectedProducts.forEach((productId) => {\n        const product = catalogProducts.find((entry) => entry.id === productId);\n        if (!product) return;\n        additions.push(\n          createItemRow({\n            productId: product.id,\n            name: product.name,\n            description: product.description ?? '',\n            qty: 1,\n            price: Number(product.basePrice) || 0,\n            unit: '',\n            discount: 0,\n            groupId: lastGroup?.id,\n          }),\n        );\n      });\n\n      return [...rows, ...additions];\n    });\n\n    setSelectedProducts(new Set());\n    setShowCatalogPicker(false);\n    setSearchQuery('');\n  };\n\n  const updateGroupRowTitle = (rowId: string, title: string) => {\n    updateActiveVariantRows((rows) =>\n      rows.map((row) => (row.id === rowId && row.type === 'group' ? { ...row, title } : row)),\n    );\n  };\n\n  const updateItemRow = (rowId: string, patch: Partial<ProductVariantItemRow>) => {\n    updateActiveVariantRows((rows) =>\n      rows.map((row) =>\n        row.id === rowId && row.type === 'item'\n          ? { ...row, ...patch }\n          : row,\n      ),\n    );\n  };\n\n  const removeRow = (rowId: string) => {\n    updateActiveVariantRows((rows) => rows.filter((row) => row.id !== rowId));\n  };\n\n  const rowIds = useMemo(() => (activeVariant ? activeVariant.rows.map((row) => row.id) : []), [activeVariant]);\n  const sensors = useSensors(\n    useSensor(PointerSensor, {\n      activationConstraint: {\n        distance: 6,\n      },\n    }),\n    useSensor(KeyboardSensor, {\n      coordinateGetter: sortableKeyboardCoordinates,\n    }),\n  );\n\n  const handleDragEnd = useCallback((event: DragEndEvent) => {\n    const { active, over } = event;\n    if (!over) return;\n    if (active.id === over.id) return;\n\n    updateActiveVariantRows((rows) => {\n      const oldIndex = rows.findIndex((row) => row.id === String(active.id));\n      const newIndex = rows.findIndex((row) => row.id === String(over.id));\n      if (oldIndex < 0 || newIndex < 0 || oldIndex === newIndex) return rows;\n      return arrayMove(rows, oldIndex, newIndex);\n    });\n  }, [updateActiveVariantRows]);\n\n  const isProductAlreadyAdded = (productId: string) =>\n    itemRows.some((row) => row.productId === productId);\n\n  const variantSubtotal = (variant: ProductVariant) =>\n    calculateProposalSubtotal(variant.rows.filter(isItemRow));\n\n  const productsActionButtonClass =\n    'inline-flex items-center gap-1.5 rounded-md border bg-white px-2.5 py-1.5 text-[13px] font-medium transition-colors hover:bg-[#fafaf7] focus:outline-none focus:ring-2 focus:ring-[var(--field-ring)]';\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"space-y-0\">\n        <div className=\"relative z-[1] -mb-px flex flex-wrap items-end gap-2\">\n          {variants.map((variant) => {\n            const isActive = variant.id === resolvedActiveVariantId;\n            return (\n              <button\n                key={variant.id}\n                type=\"button\"\n                onClick={() => setActiveVariant(variant.id)}\n                className=\"rounded-t-xl border px-4 py-2 text-left transition-colors\"\n                style={{\n                  borderColor: FIELD_BORDER_COLOR,\n                  borderBottomColor: isActive ? '#ffffff' : FIELD_BORDER_COLOR,\n                  backgroundColor: isActive ? '#ffffff' : 'rgb(243, 242, 240)',\n                  color: TEXT_PRIMARY,\n                  minWidth: 180,\n                  zIndex: isActive ? 2 : 1,\n                }}\n              >\n                <div className=\"flex items-center justify-between gap-2\">\n                  <span className=\"text-sm font-semibold\">{variant.name}</span>\n                  {variant.isRecommended ? (\n                    <span className=\"rounded-full bg-[#3CB371] px-2 py-0.5 text-[10px] font-semibold text-white\">\n                      \n                    </span>\n                  ) : null}\n                </div>\n                <p className=\"mt-1 text-xs\" style={{ color: TEXT_MUTED }}>\n                  {formatPrice(variantSubtotal(variant), proposal.currency)}\n                </p>\n              </button>\n            );\n          })}\n\n          {variants.length < 3 ? (\n            <button\n              type=\"button\"\n              onClick={addVariant}\n              className=\"inline-flex min-w-[180px] items-center rounded-t-xl border px-4 py-2 text-left transition-colors hover:bg-[#eceae3] focus:outline-none focus:ring-2 focus:ring-[var(--field-ring)]\"\n              style={{\n                color: TEXT_PRIMARY,\n                borderColor: FIELD_BORDER_COLOR,\n                backgroundColor: 'rgb(243, 242, 240)',\n              }}\n            >\n              <span className=\"text-sm font-semibold\">+ </span>\n            </button>\n          ) : null}\n        </div>\n\n        {activeVariant ? (\n          <div className=\"rounded-b-xl rounded-tr-xl border bg-white p-4\" style={{ borderColor: FIELD_BORDER_COLOR }}>\n            <div className=\"grid gap-4 md:grid-cols-[1.4fr_1fr]\">\n              <div>\n                <div className=\"mb-2 flex h-7 items-center gap-2\">\n                  <label className=\"text-sm font-medium\" style={{ color: TEXT_PRIMARY }}>\n                     \n                  </label>\n                  <button\n                    type=\"button\"\n                    onClick={() => setRecommendedVariant(activeVariant.id)}\n                    className=\"inline-flex items-center gap-1 rounded-md px-1.5 py-0.5 text-xs font-medium transition-colors hover:bg-[#f4f2ec] focus:outline-none focus:ring-2 focus:ring-[var(--field-ring)]\"\n                    style={{ color: TEXT_PRIMARY }}\n                    aria-label=\"   \"\n                    title=\"   \"\n                  >\n                    <Star\n                      className={`h-3.5 w-3.5 ${activeVariant.isRecommended ? 'fill-current' : ''}`}\n                      style={{ color: activeVariant.isRecommended ? '#3CB371' : TEXT_MUTED }}\n                    />\n                    \n                  </button>\n                </div>\n                <input\n                  type=\"text\"\n                  value={activeVariant.name}\n                  onChange={(event) => updateActiveVariant({ name: event.target.value })}\n                  className=\"w-full rounded-lg border border-[var(--field-border)] bg-white px-4 py-2.5 text-sm text-slate-900 placeholder:text-[var(--field-placeholder)] transition-[color,box-shadow,border-color] focus:border-[var(--field-focus)] focus:outline-none focus:ring-[3px] focus:ring-[var(--field-ring)]\"\n                  placeholder=\" \"\n                />\n              </div>\n              <div>\n                <div className=\"mb-2 flex h-7 items-center\">\n                  <label className=\"text-sm font-medium\" style={{ color: TEXT_PRIMARY }}>\n                     \n                  </label>\n                </div>\n                <input\n                  type=\"text\"\n                  value={activeVariant.description ?? ''}\n                  onChange={(event) => updateActiveVariant({ description: event.target.value })}\n                  className=\"w-full rounded-lg border border-[var(--field-border)] bg-white px-4 py-2.5 text-sm text-slate-900 placeholder:text-[var(--field-placeholder)] transition-[color,box-shadow,border-color] focus:border-[var(--field-focus)] focus:outline-none focus:ring-[3px] focus:ring-[var(--field-ring)]\"\n                  placeholder=\" \"\n                />\n              </div>\n            </div>\n\n            <div className=\"mt-4 flex flex-wrap items-center justify-between gap-2\">\n              <div className=\"flex flex-wrap items-center gap-2\">\n                <button\n                  type=\"button\"\n                  onClick={addItemRow}\n                  className={productsActionButtonClass}\n                  style={{ color: TEXT_PRIMARY, borderColor: FIELD_BORDER_COLOR }}\n                >\n                  <Plus className=\"h-3.5 w-3.5\" />\n                  \n                </button>\n                <button\n                  type=\"button\"\n                  onClick={addGroupRow}\n                  className={productsActionButtonClass}\n                  style={{ color: TEXT_PRIMARY, borderColor: FIELD_BORDER_COLOR }}\n                >\n                  <FolderPlus className=\"h-3.5 w-3.5\" />\n                  \n                </button>\n                <button\n                  type=\"button\"\n                  onClick={() => setShowCatalogPicker(true)}\n                  className={productsActionButtonClass}\n                  style={{ color: TEXT_PRIMARY, borderColor: FIELD_BORDER_COLOR }}\n                >\n                  <Package className=\"h-3.5 w-3.5\" />\n                   \n                </button>\n                <button\n                  type=\"button\"\n                  onClick={() => updateProductsView({ showDiscountColumn: !productsView.showDiscountColumn })}\n                  className={productsActionButtonClass}\n                  style={{ color: TEXT_PRIMARY, borderColor: FIELD_BORDER_COLOR }}\n                >\n                  <Percent className=\"h-3.5 w-3.5\" />\n                  {productsView.showDiscountColumn ? ' ' : ' '}\n                </button>\n              </div>\n\n              {variants.length > 1 ? (\n                <button\n                  type=\"button\"\n                  onClick={removeActiveVariant}\n                  className=\"inline-flex h-8 w-8 items-center justify-center rounded-md border bg-white transition-colors hover:bg-rose-50 focus:outline-none focus:ring-2 focus:ring-[var(--field-ring)]\"\n                  style={{ color: '#b91c1c', borderColor: FIELD_BORDER_COLOR }}\n                  aria-label=\" \"\n                  title=\" \"\n                >\n                  <Trash2 className=\"h-4 w-4\" />\n                </button>\n              ) : null}\n            </div>\n          </div>\n        ) : null}\n      </div>\n\n      <Sheet open={showCatalogPicker} onOpenChange={setShowCatalogPicker}>\n        <SheetContent\n          side=\"right\"\n          className=\"w-full gap-0 border-l bg-[#F3F2F0] p-0 sm:max-w-xl\"\n          style={{ borderColor: FIELD_BORDER_COLOR }}\n        >\n          <SheetHeader className=\"border-b px-5 py-4\" style={{ borderColor: FIELD_BORDER_COLOR }}>\n            <SheetTitle className=\"text-[15px] font-semibold tracking-[-0.2px]\" style={{ color: TEXT_PRIMARY }}>\n                \n            </SheetTitle>\n            <SheetDescription className=\"text-[13px] leading-5\" style={{ color: TEXT_MUTED }}>\n                    \n            </SheetDescription>\n          </SheetHeader>\n\n          <div className=\"flex min-h-0 flex-1 flex-col gap-3 p-4\">\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2\" style={{ color: TEXT_MUTED }} />\n              <input\n                type=\"text\"\n                value={searchQuery}\n                onChange={(event) => setSearchQuery(event.target.value)}\n                placeholder=\"    ...\"\n                className=\"w-full rounded-lg border border-[var(--field-border)] bg-white py-2.5 pl-10 pr-4 text-sm placeholder:text-[var(--field-placeholder)] transition-[color,box-shadow,border-color] focus:border-[var(--field-focus)] focus:outline-none focus:ring-[3px] focus:ring-[var(--field-ring)]\"\n              />\n            </div>\n\n            <div className=\"min-h-0 flex-1 overflow-y-auto rounded-lg border bg-white p-2\" style={{ borderColor: FIELD_BORDER_COLOR }}>\n              {isLoadingCatalog ? (\n                <div className=\"flex items-center justify-center py-12\">\n                  <Loader2 className=\"h-6 w-6 animate-spin text-[var(--field-focus)]\" />\n                  <span className=\"ml-2 text-sm\" style={{ color: TEXT_MUTED }}> ...</span>\n                </div>\n              ) : filteredProducts.length === 0 ? (\n                <div className=\"py-12 text-center\">\n                  <Package className=\"mx-auto h-10 w-10\" style={{ color: '#c8c6be' }} />\n                  <p className=\"mt-2 text-sm\" style={{ color: TEXT_MUTED }}>\n                    {searchQuery ? '  ' : ' '}\n                  </p>\n                </div>\n              ) : (\n                <div className=\"space-y-2\">\n                  {filteredProducts.map((product) => {\n                    const isSelected = selectedProducts.has(product.id);\n                    const isAdded = isProductAlreadyAdded(product.id);\n\n                    return (\n                      <button\n                        key={product.id}\n                        type=\"button\"\n                        disabled={isAdded}\n                        onClick={() => handleToggleProduct(product.id)}\n                        className={`w-full rounded-lg border p-3 text-left transition-colors ${\n                          isAdded\n                            ? 'cursor-not-allowed opacity-70'\n                            : 'hover:bg-[#fafaf7]'\n                        }`}\n                        style={{\n                          borderColor: isSelected ? '#C6613F' : isAdded ? '#d7d3c7' : FIELD_BORDER_COLOR,\n                          backgroundColor: isAdded ? '#f5f4ef' : isSelected ? '#FAEFEB' : '#ffffff',\n                          ...(isSelected ? { boxShadow: '0 0 0 1px rgba(198, 97, 63, 0.18)' } : {}),\n                        }}\n                      >\n                        <div className=\"flex items-start gap-3\">\n                          <div\n                            className=\"mt-0.5 flex h-5 w-5 shrink-0 items-center justify-center rounded border\"\n                            style={{\n                              borderColor: isSelected ? '#C6613F' : FIELD_BORDER_COLOR,\n                              backgroundColor: isAdded ? '#d9d7cc' : isSelected ? '#C6613F' : '#ffffff',\n                            }}\n                          >\n                            {(isSelected || isAdded) && (\n                              <Check className=\"h-3.5 w-3.5\" style={{ color: isAdded ? '#73726c' : '#ffffff' }} />\n                            )}\n                          </div>\n                          <div className=\"flex min-w-0 flex-1 items-center gap-3\">\n                            <span className=\"truncate text-sm font-medium\" style={{ color: TEXT_PRIMARY }}>\n                              {product.name}\n                            </span>\n                            {product.sku ? (\n                              <span className=\"shrink-0 whitespace-nowrap text-xs\" style={{ color: TEXT_MUTED }}>\n                                {product.sku}\n                              </span>\n                            ) : null}\n                            <span className=\"ml-auto shrink-0 whitespace-nowrap text-sm font-semibold\" style={{ color: TEXT_PRIMARY }}>\n                              {formatPrice(product.basePrice, proposal.currency)}\n                            </span>\n                            {isAdded ? (\n                              <span className=\"shrink-0 whitespace-nowrap text-xs\" style={{ color: TEXT_MUTED }}>\n                                 \n                              </span>\n                            ) : null}\n                          </div>\n                        </div>\n                      </button>\n                    );\n                  })}\n                </div>\n              )}\n            </div>\n\n            {selectedProducts.size > 0 ? (\n              <div className=\"rounded-lg border bg-white p-3\" style={{ borderColor: FIELD_BORDER_COLOR }}>\n                <p className=\"mb-2 text-xs\" style={{ color: TEXT_MUTED }}>\n                   : {selectedProducts.size}\n                </p>\n                <button\n                  type=\"button\"\n                  onClick={handleAddSelectedProducts}\n                  className=\"w-full rounded-lg bg-[#C6613F] px-4 py-2.5 text-sm font-medium text-white transition-colors hover:bg-[#b95738] focus:outline-none focus:ring-2 focus:ring-[var(--field-ring)]\"\n                >\n                    ({selectedProducts.size})\n                </button>\n              </div>\n            ) : null}\n          </div>\n        </SheetContent>\n      </Sheet>\n\n      {!activeVariant || activeVariant.rows.length === 0 ? (\n        <div className=\"rounded-lg border border-dashed bg-[#FAFAFA] px-6 py-12 text-center\" style={{ borderColor: FIELD_BORDER_COLOR }}>\n          <Package className=\"mx-auto h-12 w-12 text-slate-400\" />\n          <p className=\"mt-3 text-sm font-medium\" style={{ color: TEXT_PRIMARY }}>\n               \n          </p>\n          <p className=\"mt-1 text-xs\" style={{ color: TEXT_MUTED }}>\n              ,    \n          </p>\n        </div>\n      ) : (\n        <div className=\"overflow-hidden rounded-lg border text-[12px]\" style={{ borderColor: FIELD_BORDER_COLOR }}>\n          <DndContext sensors={sensors} collisionDetection={closestCenter} onDragEnd={handleDragEnd}>\n            <SortableContext items={rowIds} strategy={verticalListSortingStrategy}>\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full min-w-[980px] table-fixed border-collapse\">\n                  <thead style={{ backgroundColor: '#FAFAFA' }}>\n                    <tr>\n                      <th className=\"w-[44px] border-b border-r border-[#E3E1D9] px-1 py-2 text-center text-[11px] font-semibold uppercase tracking-wide\" style={{ color: TEXT_MUTED }}>\n                        <DropdownMenu>\n                          <DropdownMenuTrigger asChild>\n                            <button\n                              type=\"button\"\n                              className=\"inline-flex h-7 w-7 items-center justify-center rounded-md border bg-white text-[#3d3d3a] hover:bg-[#f4f2ec] focus:outline-none focus:ring-1 focus:ring-[var(--field-ring)]\"\n                              style={{ borderColor: FIELD_BORDER_COLOR }}\n                              aria-label=\" \"\n                            >\n                              <Plus className=\"h-4 w-4\" />\n                            </button>\n                          </DropdownMenuTrigger>\n                          <DropdownMenuContent align=\"start\" sideOffset={6} className=\"w-56 border-[#E3E1D9]\">\n                            <DropdownMenuItem onSelect={() => addItemRow()}>\n                              <Plus className=\"h-4 w-4\" />\n                               \n                            </DropdownMenuItem>\n                            <DropdownMenuItem onSelect={() => addGroupRow()}>\n                              <FolderPlus className=\"h-4 w-4\" />\n                                \n                            </DropdownMenuItem>\n                          </DropdownMenuContent>\n                        </DropdownMenu>\n                      </th>\n                      <th className=\"border-b border-r border-[#E3E1D9] px-2 py-2 text-left text-[11px] font-semibold uppercase tracking-wide\" style={{ color: TEXT_MUTED }}></th>\n                      <th className=\"w-[90px] border-b border-r border-[#E3E1D9] px-2 py-2 text-right text-[11px] font-semibold uppercase tracking-wide\" style={{ color: TEXT_MUTED }}>-</th>\n                      {productsView.showUnitColumn ? (\n                        <th className=\"w-[72px] border-b border-r border-[#E3E1D9] px-2 py-2 text-left text-[11px] font-semibold uppercase tracking-wide\" style={{ color: TEXT_MUTED }}>.</th>\n                      ) : null}\n                      <th className=\"w-[120px] border-b border-r border-[#E3E1D9] px-2 py-2 text-right text-[11px] font-semibold uppercase tracking-wide\" style={{ color: TEXT_MUTED }}>\n                        , {currencySymbol}\n                      </th>\n                      {productsView.showDiscountColumn ? (\n                        <th className=\"w-[76px] border-b border-r border-[#E3E1D9] px-2 py-2 text-right text-[11px] font-semibold uppercase tracking-wide\" style={{ color: TEXT_MUTED }}></th>\n                      ) : null}\n                      <th className=\"w-[140px] border-b border-r border-[#E3E1D9] px-2 py-2 text-right text-[11px] font-semibold uppercase tracking-wide\" style={{ color: TEXT_MUTED }}>\n                        , {currencySymbol}\n                      </th>\n                      <th className=\"w-[44px] border-b border-[#E3E1D9] px-1 py-2 text-right text-[11px] font-semibold uppercase tracking-wide\" style={{ color: TEXT_MUTED }} />\n                    </tr>\n                  </thead>\n                  <tbody className=\"bg-white\" style={{ borderTop: `1px solid ${FIELD_BORDER_COLOR}` }}>\n                    {activeVariant.rows.map((row) => {\n                  if (row.type === 'group') {\n                    return (\n                      <SortableTableRow\n                        key={row.id}\n                        id={row.id}\n                        style={{ borderTop: `1px solid ${FIELD_BORDER_COLOR}`, backgroundColor: 'rgb(243, 242, 240)' }}\n                      >\n                        {({ attributes, listeners, setActivatorNodeRef }) => (\n                          <>\n                            <td className=\"border-r border-[#E3E1D9] px-1 py-1.5 text-center\">\n                              <button\n                                type=\"button\"\n                                ref={setActivatorNodeRef}\n                                {...attributes}\n                                {...listeners}\n                                className=\"inline-flex h-7 w-7 cursor-grab items-center justify-center rounded-md text-[#73726c] hover:bg-[#e8e6de] active:cursor-grabbing\"\n                                aria-label=\"  \"\n                              >\n                                <GripVertical className=\"h-4 w-4\" />\n                              </button>\n                            </td>\n                            <td className=\"border-r border-[#E3E1D9] px-2 py-1.5\">\n                              <input\n                                type=\"text\"\n                                value={row.title}\n                                onChange={(event) => updateGroupRowTitle(row.id, event.target.value)}\n                                className=\"h-8 w-full rounded-md border border-[var(--field-border)] bg-white px-2 text-[12px] font-semibold text-slate-900 placeholder:text-[var(--field-placeholder)] transition-[color,box-shadow,border-color] focus:border-[var(--field-focus)] focus:outline-none focus:ring-[3px] focus:ring-[var(--field-ring)]\"\n                                placeholder=\" \"\n                              />\n                            </td>\n                            <td colSpan={groupTrailingCols} className=\"border-r border-[#E3E1D9] px-2 py-1.5\" />\n                            <td className=\"px-1 py-1.5 text-center\">\n                              <button type=\"button\" onClick={() => removeRow(row.id)} className=\"inline-flex h-7 w-7 items-center justify-center rounded-md hover:bg-rose-50\" style={{ color: '#b91c1c' }}>\n                                <Trash2 className=\"h-4 w-4\" />\n                              </button>\n                            </td>\n                          </>\n                        )}\n                      </SortableTableRow>\n                    );\n                  }\n\n                  const rowTotal = calculateItemTotal(row);\n                  return (\n                    <SortableTableRow key={row.id} id={row.id} style={{ borderTop: `1px solid ${FIELD_BORDER_COLOR}` }} className=\"hover:bg-[#fafaf7]\">\n                      {({ attributes, listeners, setActivatorNodeRef }) => (\n                        <>\n                          <td className=\"border-r border-[#E3E1D9] px-1 py-1.5 text-center\">\n                            <button\n                              type=\"button\"\n                              ref={setActivatorNodeRef}\n                              {...attributes}\n                              {...listeners}\n                              className=\"inline-flex h-7 w-7 cursor-grab items-center justify-center rounded-md text-[#73726c] hover:bg-[#f1f0eb] active:cursor-grabbing\"\n                              aria-label=\"  \"\n                            >\n                              <GripVertical className=\"h-4 w-4\" />\n                            </button>\n                          </td>\n                          <td className=\"border-r border-[#E3E1D9] px-2 py-1.5\">\n                            <input\n                              type=\"text\"\n                              value={row.name}\n                              onChange={(event) => updateItemRow(row.id, { name: event.target.value })}\n                              className=\"h-8 w-full rounded-md border border-[var(--field-border)] bg-white px-2 text-[12px] text-slate-900 placeholder:text-[var(--field-placeholder)] transition-[color,box-shadow,border-color] focus:border-[var(--field-focus)] focus:outline-none focus:ring-[3px] focus:ring-[var(--field-ring)]\"\n                              placeholder=\" \"\n                            />\n                          </td>\n                          <td className=\"border-r border-[#E3E1D9] px-2 py-1.5\">\n                            <input\n                              type=\"number\"\n                              min=\"0\"\n                              step=\"0.01\"\n                              value={row.qty}\n                              onChange={(event) => updateItemRow(row.id, { qty: Number(event.target.value) || 0 })}\n                              className=\"h-8 w-full rounded-md border border-[var(--field-border)] bg-white px-2 text-right text-[12px] text-slate-900 transition-[color,box-shadow,border-color] focus:border-[var(--field-focus)] focus:outline-none focus:ring-[3px] focus:ring-[var(--field-ring)]\"\n                            />\n                          </td>\n                          {productsView.showUnitColumn ? (\n                            <td className=\"border-r border-[#E3E1D9] px-2 py-1.5\">\n                              <input\n                                type=\"text\"\n                                value={row.unit ?? ''}\n                                onChange={(event) => updateItemRow(row.id, { unit: event.target.value })}\n                                className=\"h-8 w-full rounded-md border border-[var(--field-border)] bg-white px-2 text-[12px] text-slate-900 transition-[color,box-shadow,border-color] focus:border-[var(--field-focus)] focus:outline-none focus:ring-[3px] focus:ring-[var(--field-ring)]\"\n                              />\n                            </td>\n                          ) : null}\n                          <td className=\"border-r border-[#E3E1D9] px-2 py-1.5\">\n                            <input\n                              type=\"number\"\n                              min=\"0\"\n                              step=\"0.01\"\n                              value={row.price}\n                              onChange={(event) => updateItemRow(row.id, { price: Number(event.target.value) || 0 })}\n                              className=\"h-8 w-full rounded-md border border-[var(--field-border)] bg-white px-2 text-right text-[12px] text-slate-900 transition-[color,box-shadow,border-color] focus:border-[var(--field-focus)] focus:outline-none focus:ring-[3px] focus:ring-[var(--field-ring)]\"\n                            />\n                          </td>\n                          {productsView.showDiscountColumn ? (\n                            <td className=\"border-r border-[#E3E1D9] px-2 py-1.5\">\n                              <input\n                                type=\"number\"\n                                min=\"0\"\n                                max=\"100\"\n                                step=\"0.1\"\n                                value={row.discount ?? 0}\n                                onChange={(event) => updateItemRow(row.id, { discount: Number(event.target.value) || 0 })}\n                                className=\"h-8 w-full rounded-md border border-[var(--field-border)] bg-white px-1.5 text-right text-[12px] text-slate-900 transition-[color,box-shadow,border-color] focus:border-[var(--field-focus)] focus:outline-none focus:ring-[3px] focus:ring-[var(--field-ring)]\"\n                              />\n                            </td>\n                          ) : null}\n                          <td className=\"border-r border-[#E3E1D9] px-2 py-1.5 text-right text-[12px] font-semibold tabular-nums\" style={{ color: TEXT_PRIMARY }}>\n                            {formatAmount(rowTotal)}\n                          </td>\n                          <td className=\"px-1 py-1.5 text-center\">\n                            <button type=\"button\" onClick={() => removeRow(row.id)} className=\"inline-flex h-7 w-7 items-center justify-center rounded-md hover:bg-rose-50\" style={{ color: '#b91c1c' }}>\n                              <Trash2 className=\"h-4 w-4\" />\n                            </button>\n                          </td>\n                        </>\n                      )}\n                    </SortableTableRow>\n                  );\n                })}\n                  </tbody>\n                </table>\n              </div>\n            </SortableContext>\n          </DndContext>\n\n          <div className=\"border-t px-2 py-2\" style={{ borderColor: FIELD_BORDER_COLOR, backgroundColor: '#FAFAFA' }}>\n            <div className=\"ml-auto w-full max-w-[320px] space-y-1 text-[12px]\" style={{ color: TEXT_PRIMARY }}>\n              <div className=\"flex items-center justify-between\">\n                <span>  </span>\n                <span className=\"font-medium\">{formatPrice(subtotal, proposal.currency)}</span>\n              </div>\n              {proposal.includeVat ? (\n                <div className=\"flex items-center justify-between\">\n                  <span> ({proposal.vatRate}%)</span>\n                  <span className=\"font-medium\">{formatPrice(vatAmount, proposal.currency)}</span>\n                </div>\n              ) : null}\n              <div className=\"flex items-center justify-between border-t pt-2 text-[12px] font-semibold\" style={{ borderColor: FIELD_BORDER_COLOR }}>\n                <span></span>\n                <span>{formatPrice(total, proposal.currency)}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","'use client';\n\nimport type { Proposal } from '@/lib/types/proposal';\nimport { PAYMENT_TERMS_OPTIONS } from '@/lib/types/proposal';\n\ninterface TermsSectionProps {\n  proposal: Proposal;\n  onUpdate: <K extends keyof Proposal>(field: K, value: Proposal[K]) => void;\n}\n\nexport default function TermsSection({ proposal, onUpdate }: TermsSectionProps) {\n  const showCustomPaymentField = proposal.paymentTerms === 'custom';\n\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <label htmlFor=\"deadline\" className=\"block text-sm font-medium mb-2\" style={{ color: '#3d3d3a' }}>\n           \n        </label>\n        <input\n          id=\"deadline\"\n          type=\"text\"\n          value={proposal.deadline || ''}\n          onChange={(e) => onUpdate('deadline', e.target.value)}\n          placeholder=\": 2 ,  31.12.2024\"\n          className=\"w-full rounded-lg border border-[var(--field-border)] bg-white px-4 py-2.5 text-sm text-slate-900 placeholder:text-[var(--field-placeholder)] transition-[color,box-shadow,border-color] focus:border-[var(--field-focus)] focus:outline-none focus:ring-[3px] focus:ring-[var(--field-ring)]\"\n        />\n        <p className=\"mt-1.5 text-xs\" style={{ color: '#73726c' }}>\n              \n        </p>\n      </div>\n\n      <div>\n        <label htmlFor=\"payment-terms\" className=\"block text-sm font-medium mb-2\" style={{ color: '#3d3d3a' }}>\n           \n        </label>\n        <select\n          id=\"payment-terms\"\n          value={proposal.paymentTerms || 'prepaid'}\n          onChange={(e) => onUpdate('paymentTerms', e.target.value)}\n          className=\"w-full rounded-lg border border-[var(--field-border)] bg-white px-4 py-2.5 text-sm text-slate-900 transition-[color,box-shadow,border-color] focus:border-[var(--field-focus)] focus:outline-none focus:ring-[3px] focus:ring-[var(--field-ring)]\"\n        >\n          {PAYMENT_TERMS_OPTIONS.map((option) => (\n            <option key={option.value} value={option.value}>\n              {option.label}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      {showCustomPaymentField && (\n        <div>\n          <label htmlFor=\"payment-custom\" className=\"block text-sm font-medium mb-2\" style={{ color: '#3d3d3a' }}>\n              \n          </label>\n          <textarea\n            id=\"payment-custom\"\n            value={proposal.paymentCustom || ''}\n            onChange={(e) => onUpdate('paymentCustom', e.target.value)}\n            placeholder=\"   ...\"\n            rows={3}\n            className=\"w-full rounded-lg border border-[var(--field-border)] bg-white px-4 py-2.5 text-sm text-slate-900 placeholder:text-[var(--field-placeholder)] transition-[color,box-shadow,border-color] focus:border-[var(--field-focus)] focus:outline-none focus:ring-[3px] focus:ring-[var(--field-ring)] resize-y\"\n          />\n        </div>\n      )}\n\n      <div>\n        <label htmlFor=\"valid-until\" className=\"block text-sm font-medium mb-2\" style={{ color: '#3d3d3a' }}>\n            \n        </label>\n        <input\n          id=\"valid-until\"\n          type=\"date\"\n          value={\n            proposal.validUntil\n              ? new Date(proposal.validUntil).toISOString().split('T')[0]\n              : ''\n          }\n          onChange={(e) => onUpdate('validUntil', e.target.value ? new Date(e.target.value) : undefined)}\n          className=\"w-full rounded-lg border border-[var(--field-border)] bg-white px-4 py-2.5 text-sm text-slate-900 transition-[color,box-shadow,border-color] focus:border-[var(--field-focus)] focus:outline-none focus:ring-[3px] focus:ring-[var(--field-ring)]\"\n        />\n        <p className=\"mt-1.5 text-xs\" style={{ color: '#73726c' }}>\n            +30    \n        </p>\n      </div>\n\n      <div className=\"flex items-center gap-3 rounded-lg bg-[#FAFAFA] p-4\">\n        <input\n          id=\"include-vat\"\n          type=\"checkbox\"\n          checked={proposal.includeVat}\n          onChange={(e) => onUpdate('includeVat', e.target.checked)}\n          className=\"h-4 w-4 rounded border-[var(--field-border)] text-[var(--field-focus)] focus:ring-[3px] focus:ring-[var(--field-ring)]\"\n        />\n        <label htmlFor=\"include-vat\" className=\"flex-1 text-sm font-medium\" style={{ color: '#3d3d3a' }}>\n           \n        </label>\n        {proposal.includeVat && (\n          <div className=\"flex items-center gap-2\">\n            <label htmlFor=\"vat-rate\" className=\"text-sm\" style={{ color: '#3d3d3a' }}>\n              :\n            </label>\n            <input\n              id=\"vat-rate\"\n              type=\"number\"\n              min=\"0\"\n              max=\"100\"\n              step=\"1\"\n              value={proposal.vatRate}\n              onChange={(e) => onUpdate('vatRate', parseInt(e.target.value) || 0)}\n              className=\"w-16 rounded-lg border border-[var(--field-border)] bg-white px-2 py-1 text-sm text-slate-900 transition-[color,box-shadow,border-color] focus:border-[var(--field-focus)] focus:outline-none focus:ring-[3px] focus:ring-[var(--field-ring)]\"\n            />\n            <span className=\"text-sm\" style={{ color: '#3d3d3a' }}>%</span>\n          </div>\n        )}\n      </div>\n\n      <div>\n        <label htmlFor=\"notes\" className=\"block text-sm font-medium mb-2\" style={{ color: '#3d3d3a' }}>\n          \n        </label>\n        <textarea\n          id=\"notes\"\n          value={proposal.notes || ''}\n          onChange={(e) => onUpdate('notes', e.target.value)}\n          placeholder=\" , ...\"\n          rows={3}\n          className=\"w-full rounded-lg border border-[var(--field-border)] bg-white px-4 py-2.5 text-sm text-slate-900 placeholder:text-[var(--field-placeholder)] transition-[color,box-shadow,border-color] focus:border-[var(--field-focus)] focus:outline-none focus:ring-[3px] focus:ring-[var(--field-ring)] resize-y\"\n        />\n        <p className=\"mt-1.5 text-xs\" style={{ color: '#73726c' }}>\n              \n        </p>\n      </div>\n    </div>\n  );\n}\n","'use client';\n\nimport { useCallback, useState } from 'react';\nimport type { Proposal } from '@/lib/types/proposal';\nimport { Upload, X, Image as ImageIcon } from 'lucide-react';\n\ninterface GallerySectionProps {\n  proposal: Proposal;\n  onUpdate: <K extends keyof Proposal>(field: K, value: Proposal[K]) => void;\n}\n\nconst FIELD_BORDER_COLOR = 'hsl(30deg 3.3% 11.8% / 15%)';\nconst TEXT_PRIMARY = '#3d3d3a';\nconst TEXT_MUTED = '#73726c';\n\nexport default function GallerySection({ proposal, onUpdate }: GallerySectionProps) {\n  const [isUploading, setIsUploading] = useState(false);\n  const galleryImages = proposal.galleryImages || [];\n\n  const handleFileSelect = useCallback(\n    async (files: FileList | null) => {\n      if (!files || files.length === 0) return;\n\n      const currentCount = galleryImages.length;\n      const maxImages = 6;\n      const remainingSlots = maxImages - currentCount;\n\n      if (remainingSlots <= 0) {\n        alert(' 6   ');\n        return;\n      }\n\n      const filesToUpload = Array.from(files).slice(0, remainingSlots);\n\n      setIsUploading(true);\n      try {\n        const uploadPromises = filesToUpload.map(async (file) => {\n          const formData = new FormData();\n          formData.append('file', file);\n\n          const response = await fetch('/api/upload', {\n            method: 'POST',\n            body: formData,\n          });\n\n          if (!response.ok) {\n            throw new Error('Upload failed');\n          }\n\n          const data = await response.json();\n          return data.url as string;\n        });\n\n        const newUrls = await Promise.all(uploadPromises);\n        onUpdate('galleryImages', [...galleryImages, ...newUrls]);\n      } catch (error) {\n        console.error('Failed to upload images:', error);\n        alert('   ');\n      } finally {\n        setIsUploading(false);\n      }\n    },\n    [galleryImages, onUpdate]\n  );\n\n  const handleRemoveImage = useCallback(\n    (index: number) => {\n      const newImages = galleryImages.filter((_, i) => i !== index);\n      onUpdate('galleryImages', newImages);\n    },\n    [galleryImages, onUpdate]\n  );\n\n  const handleDragOver = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n  }, []);\n\n  const handleDrop = useCallback(\n    (e: React.DragEvent) => {\n      e.preventDefault();\n      e.stopPropagation();\n      handleFileSelect(e.dataTransfer.files);\n    },\n    [handleFileSelect]\n  );\n\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <h3 className=\"mb-2 text-sm font-medium\" style={{ color: TEXT_PRIMARY }}> </h3>\n        <p className=\"text-xs\" style={{ color: TEXT_MUTED }}>\n            6       \n        </p>\n      </div>\n\n      {galleryImages.length < 6 && (\n        <div\n          onDragOver={handleDragOver}\n          onDrop={handleDrop}\n          className=\"relative rounded-lg border border-dashed bg-[#FAFAFA] px-6 py-8 text-center transition-colors\"\n          style={{ borderColor: FIELD_BORDER_COLOR }}\n        >\n          <input\n            type=\"file\"\n            accept=\"image/*\"\n            multiple\n            onChange={(e) => handleFileSelect(e.target.files)}\n            disabled={isUploading}\n            className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer disabled:cursor-not-allowed\"\n          />\n          <Upload className=\"mx-auto h-12 w-12\" style={{ color: TEXT_MUTED }} />\n          <p className=\"mt-2 text-sm font-medium\" style={{ color: TEXT_PRIMARY }}>\n            {isUploading ? '...' : '     '}\n          </p>\n          <p className=\"mt-1 text-xs\" style={{ color: TEXT_MUTED }}>\n            PNG, JPG  5MB.  : {6 - galleryImages.length}\n          </p>\n        </div>\n      )}\n\n      {galleryImages.length > 0 && (\n        <div className=\"grid grid-cols-2 gap-4\">\n          {galleryImages.map((url, index) => (\n            <div\n              key={index}\n              className=\"group relative aspect-video overflow-hidden rounded-lg border bg-white\"\n              style={{ borderColor: FIELD_BORDER_COLOR }}\n            >\n              <img\n                src={url}\n                alt={`Gallery image ${index + 1}`}\n                className=\"h-full w-full object-cover\"\n              />\n              <button\n                type=\"button\"\n                onClick={() => handleRemoveImage(index)}\n                className=\"absolute right-2 top-2 rounded-full bg-[#3d3d3a] p-1.5 text-white opacity-0 transition-opacity group-hover:opacity-100 hover:bg-red-600\"\n                title=\" \"\n              >\n                <X className=\"h-4 w-4\" />\n              </button>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {galleryImages.length === 0 && (\n        <div className=\"rounded-lg border bg-[#FAFAFA] px-6 py-8 text-center\" style={{ borderColor: FIELD_BORDER_COLOR }}>\n          <ImageIcon className=\"mx-auto h-12 w-12\" style={{ color: TEXT_MUTED, opacity: 0.55 }} />\n          <p className=\"mt-3 text-sm font-medium\" style={{ color: TEXT_PRIMARY }}>\n             \n          </p>\n          <p className=\"mt-1 text-xs\" style={{ color: TEXT_MUTED }}>\n             ,     \n          </p>\n        </div>\n      )}\n    </div>\n  );\n}\n","'use client';\n\nimport type { Proposal } from '@/lib/types/proposal';\n\ninterface ContactsSectionProps {\n  proposal: Proposal;\n  onUpdate: <K extends keyof Proposal>(field: K, value: Proposal[K]) => void;\n}\n\nexport default function ContactsSection({ proposal, onUpdate }: ContactsSectionProps) {\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <label htmlFor=\"cta-text\" className=\"block text-sm font-medium mb-2\" style={{ color: '#3d3d3a' }}>\n             (CTA)\n        </label>\n        <textarea\n          id=\"cta-text\"\n          value={proposal.ctaText || ''}\n          onChange={(e) => onUpdate('ctaText', e.target.value)}\n          placeholder=\"        ...\"\n          rows={3}\n          className=\"w-full rounded-lg border border-[var(--field-border)] bg-white px-4 py-2.5 text-sm text-slate-900 placeholder:text-[var(--field-placeholder)] transition-[color,box-shadow,border-color] focus:border-[var(--field-focus)] focus:outline-none focus:ring-[3px] focus:ring-[var(--field-ring)] resize-y\"\n        />\n        <p className=\"mt-1.5 text-xs\" style={{ color: '#73726c' }}>\n               (,   ...)\n        </p>\n      </div>\n\n      <div>\n        <label htmlFor=\"cta-phone\" className=\"block text-sm font-medium mb-2\" style={{ color: '#3d3d3a' }}>\n            \n        </label>\n        <input\n          id=\"cta-phone\"\n          type=\"tel\"\n          value={proposal.ctaPhone || ''}\n          onChange={(e) => onUpdate('ctaPhone', e.target.value)}\n          placeholder=\"+7 (999) 123-45-67\"\n          className=\"w-full rounded-lg border border-[var(--field-border)] bg-white px-4 py-2.5 text-sm text-slate-900 placeholder:text-[var(--field-placeholder)] transition-[color,box-shadow,border-color] focus:border-[var(--field-focus)] focus:outline-none focus:ring-[3px] focus:ring-[var(--field-ring)]\"\n        />\n        <p className=\"mt-1.5 text-xs\" style={{ color: '#73726c' }}>\n               \n        </p>\n      </div>\n\n      <div>\n        <label htmlFor=\"cta-email\" className=\"block text-sm font-medium mb-2\" style={{ color: '#3d3d3a' }}>\n          Email  \n        </label>\n        <input\n          id=\"cta-email\"\n          type=\"email\"\n          value={proposal.ctaEmail || ''}\n          onChange={(e) => onUpdate('ctaEmail', e.target.value)}\n          placeholder=\"info@company.ru\"\n          className=\"w-full rounded-lg border border-[var(--field-border)] bg-white px-4 py-2.5 text-sm text-slate-900 placeholder:text-[var(--field-placeholder)] transition-[color,box-shadow,border-color] focus:border-[var(--field-focus)] focus:outline-none focus:ring-[3px] focus:ring-[var(--field-ring)]\"\n        />\n        <p className=\"mt-1.5 text-xs\" style={{ color: '#73726c' }}>\n          Email     \n        </p>\n      </div>\n\n      <div className=\"rounded-lg border bg-[#FAEFEB] p-4\" style={{ borderColor: '#D8A18E' }}>\n        <p className=\"text-sm\" style={{ color: '#A04F33' }}>\n           <strong>:</strong>      ,         .\n        </p>\n      </div>\n    </div>\n  );\n}\n","'use client';\n\nimport { useState, useEffect } from 'react';\nimport { FileText, Sparkles, Image, FileStack, Plus } from 'lucide-react';\nimport type { ProposalTemplate } from '@/lib/types/proposal-template';\n\ninterface TemplateSelectorProps {\n  onSelect: (template: ProposalTemplate | null) => void;\n  onClose: () => void;\n}\n\n//   (,   )\nconst PRESET_TEMPLATES: ProposalTemplate[] = [\n  {\n    id: 'preset-minimal',\n    name: '',\n    description: ' :   ',\n    category: 'minimal',\n    defaults: {},\n    sections: ['basic', 'products', 'terms'],\n    isDefault: false,\n  },\n  {\n    id: 'preset-standard',\n    name: '',\n    description: '    ',\n    category: 'standard',\n    defaults: {},\n    sections: ['basic', 'context', 'advantages', 'products', 'terms', 'contacts'],\n    isDefault: true,\n  },\n  {\n    id: 'preset-portfolio',\n    name: ' ',\n    description: '  ',\n    category: 'with-gallery',\n    defaults: {},\n    sections: ['basic', 'context', 'advantages', 'products', 'terms', 'gallery', 'contacts'],\n    isDefault: false,\n  },\n];\n\nconst CATEGORY_ICONS: Record<string, typeof FileText> = {\n  minimal: FileText,\n  standard: Sparkles,\n  'with-gallery': Image,\n  custom: FileStack,\n};\n\nexport default function TemplateSelector({ onSelect, onClose }: TemplateSelectorProps) {\n  const [userTemplates, setUserTemplates] = useState<ProposalTemplate[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchTemplates = async () => {\n      try {\n        const response = await fetch('/api/proposal-templates');\n        if (response.ok) {\n          const data = await response.json();\n          setUserTemplates(data);\n        }\n      } catch (error) {\n        console.error('Failed to fetch templates:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchTemplates();\n  }, []);\n\n  const hasWorkspaceDefault = userTemplates.some((template) => template.isDefault);\n  const presetTemplates = PRESET_TEMPLATES.map((template) => ({\n    ...template,\n    isDefault: hasWorkspaceDefault ? false : template.isDefault,\n  }));\n  const allTemplates = [...presetTemplates, ...userTemplates];\n\n  const handleSelect = (template: ProposalTemplate | null) => {\n    onSelect(template);\n    onClose();\n  };\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4\">\n      <div className=\"w-full max-w-3xl rounded-2xl bg-white p-6 shadow-2xl\">\n        <div className=\"mb-6\">\n          <h2 className=\"text-2xl font-bold text-slate-900\"> </h2>\n          <p className=\"mt-1 text-sm text-slate-600\">\n                    \n          </p>\n        </div>\n\n        {isLoading ? (\n          <div className=\"flex items-center justify-center py-12\">\n            <div className=\"h-8 w-8 animate-spin rounded-full border-4 border-[#C6613F] border-t-transparent\"></div>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3\">\n            {/*  \" \" */}\n            <button\n              type=\"button\"\n              onClick={() => handleSelect(null)}\n              className=\"group flex flex-col items-center justify-center rounded-xl border-2 border-dashed border-slate-300 p-6 text-center transition-all hover:border-[#C6613F] hover:bg-[#FAEFEB]\"\n            >\n              <div className=\"mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-slate-100 text-slate-500 transition-colors group-hover:bg-[#F3DFD8] group-hover:text-[var(--field-focus)]\">\n                <Plus className=\"h-6 w-6\" />\n              </div>\n              <h3 className=\"font-semibold text-slate-900\"></h3>\n              <p className=\"mt-1 text-xs text-slate-500\">  </p>\n            </button>\n\n            {/*  */}\n            {allTemplates.map((template) => {\n              const Icon = CATEGORY_ICONS[template.category || 'custom'] || FileStack;\n              const isPreset = template.id.startsWith('preset-');\n\n              return (\n                <button\n                  key={template.id}\n                  type=\"button\"\n                  onClick={() => handleSelect(template)}\n                  className={`group flex flex-col items-center rounded-xl border-2 p-6 text-center transition-all hover:border-[#C6613F] hover:bg-[#FAEFEB] ${\n                    template.isDefault\n                      ? 'border-[#D8A18E] bg-[#FAEFEB]'\n                      : 'border-slate-200 bg-white'\n                  }`}\n                >\n                  <div className={`mb-3 flex h-12 w-12 items-center justify-center rounded-full transition-colors ${\n                    template.isDefault\n                      ? 'bg-[#F3DFD8] text-[var(--field-focus)]'\n                      : 'bg-slate-100 text-slate-500 group-hover:bg-[#F3DFD8] group-hover:text-[var(--field-focus)]'\n                  }`}>\n                    <Icon className=\"h-6 w-6\" />\n                  </div>\n                  <h3 className=\"font-semibold text-slate-900\">{template.name}</h3>\n                  {template.description && (\n                    <p className=\"mt-1 text-xs text-slate-500\">{template.description}</p>\n                  )}\n                  <div className=\"mt-3 flex flex-wrap justify-center gap-1\">\n                    {template.sections.slice(0, 4).map((section) => (\n                      <span\n                        key={section}\n                        className=\"rounded-full bg-slate-100 px-2 py-0.5 text-[10px] font-medium text-slate-600\"\n                      >\n                        {section === 'basic' && ''}\n                        {section === 'context' && ''}\n                        {section === 'advantages' && ''}\n                        {section === 'products' && ''}\n                        {section === 'terms' && ''}\n                        {section === 'gallery' && ''}\n                        {section === 'contacts' && ''}\n                      </span>\n                    ))}\n                    {template.sections.length > 4 && (\n                      <span className=\"rounded-full bg-slate-100 px-2 py-0.5 text-[10px] font-medium text-slate-600\">\n                        +{template.sections.length - 4}\n                      </span>\n                    )}\n                  </div>\n                  {template.isDefault && (\n                    <span className=\"mt-2 rounded-full bg-[#C6613F] px-2 py-0.5 text-[10px] font-medium text-white\">\n                       \n                    </span>\n                  )}\n                  {!isPreset && !template.isDefault && (\n                    <span className=\"mt-2 rounded-full bg-slate-200 px-2 py-0.5 text-[10px] font-medium text-slate-600\">\n                      \n                    </span>\n                  )}\n                </button>\n              );\n            })}\n          </div>\n        )}\n\n        <div className=\"mt-6 flex justify-end\">\n          <button\n            type=\"button\"\n            onClick={onClose}\n            className=\"rounded-lg px-4 py-2 text-sm font-medium text-slate-600 transition-colors hover:bg-slate-100\"\n          >\n            \n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n\n\n","'use client';\n\nimport { useState, useMemo, useEffect, useRef } from 'react';\nimport { useSearchParams } from 'next/navigation';\nimport { useSession } from 'next-auth/react';\nimport Link from 'next/link';\nimport { ArrowLeft, Save, FileDown, Eye, EyeOff, FileStack, Layers } from 'lucide-react';\nimport { useProposalForm } from './hooks/useProposalForm';\nimport { renderProposalToHtml } from '@/lib/pdf/renderProposal';\nimport BasicInfoSection from '@/components/proposal-form/BasicInfoSection';\nimport ContextSection from '@/components/proposal-form/ContextSection';\nimport AdvantagesSection from '@/components/proposal-form/AdvantagesSection';\nimport ProductsSection from '@/components/proposal-form/ProductsSection';\nimport TermsSection from '@/components/proposal-form/TermsSection';\nimport GallerySection from '@/components/proposal-form/GallerySection';\nimport ContactsSection from '@/components/proposal-form/ContactsSection';\nimport TemplateSelector from '@/components/proposal-form/TemplateSelector';\nimport TemplateManager from '@/components/proposal-form/TemplateManager';\nimport type { ProposalTemplate } from '@/lib/types/proposal-template';\nimport { rebaseTemplateIds, sanitizeTemplateSections } from '@/lib/proposal-templates/mapping';\n\ntype SectionId = 'basic' | 'context' | 'advantages' | 'products' | 'terms' | 'gallery' | 'contacts';\n\ntype PreviewWorkspace = {\n  logoUrl?: string | null;\n  signatureUrl?: string | null;\n  stampUrl?: string | null;\n  companyName?: string | null;\n  inn?: string | null;\n  ogrn?: string | null;\n  legalAddress?: string | null;\n  bankName?: string | null;\n  bik?: string | null;\n  accountNumber?: string | null;\n};\n\nconst SECTIONS = [\n  { id: 'basic' as const, title: '', icon: '' },\n  { id: 'context' as const, title: '', icon: '' },\n  { id: 'advantages' as const, title: '', icon: '' },\n  { id: 'products' as const, title: '', icon: '' },\n  { id: 'terms' as const, title: '', icon: '' },\n  { id: 'gallery' as const, title: '', icon: '' },\n  { id: 'contacts' as const, title: '', icon: '' },\n];\n\nconst DEFAULT_VISIBLE_SECTIONS: SectionId[] = [\n  'basic',\n  'context',\n  'advantages',\n  'products',\n  'terms',\n  'gallery',\n  'contacts',\n];\n\nconst PREVIEW_A4_WIDTH_PX = 794;\nconst PREVIEW_A4_HEIGHT_PX = 1123;\nconst UI_BORDER_COLOR = 'hsl(30deg 3.3% 11.8% / 15%)';\nconst UI_TEXT_PRIMARY = '#3d3d3a';\nconst UI_TEXT_MUTED = '#73726c';\n\nfunction useDebouncedValue<T>(value: T, delay = 500) {\n  const [debounced, setDebounced] = useState(value);\n\n  useEffect(() => {\n    const handle = setTimeout(() => setDebounced(value), delay);\n    return () => clearTimeout(handle);\n  }, [value, delay]);\n\n  return debounced;\n}\n\nexport default function EditorPage() {\n  const { data: session, status } = useSession();\n  const searchParams = useSearchParams();\n  const proposalId = searchParams.get('proposalId') ?? undefined;\n\n  const workspaceId = session?.user?.workspaceId ?? '';\n  const userId = session?.user?.id ?? '';\n\n  const {\n    proposal,\n    updateField,\n    save,\n    exportPdf,\n    isLoading,\n    isSaving,\n    isDirty,\n    lastSaved,\n  } = useProposalForm({ proposalId, workspaceId, userId });\n\n  const [activeSection, setActiveSection] = useState<SectionId>('basic');\n  const [showTemplateSelector, setShowTemplateSelector] = useState(!proposalId);\n  const [showTemplateManager, setShowTemplateManager] = useState(false);\n  const [visibleSections, setVisibleSections] = useState<SectionId[]>(DEFAULT_VISIBLE_SECTIONS);\n  const [previewWorkspace, setPreviewWorkspace] = useState<PreviewWorkspace | null>(null);\n  const [previewHeight, setPreviewHeight] = useState<number | null>(null);\n  const [previewScale, setPreviewScale] = useState(1);\n  const [isPreviewCollapsed, setIsPreviewCollapsed] = useState(false);\n  const previewContainerRef = useRef<HTMLDivElement | null>(null);\n\n  const debouncedProposal = useDebouncedValue(proposal, 500);\n\n  useEffect(() => {\n    if (proposal.visibleSections && proposal.visibleSections.length > 0) {\n      setVisibleSections(proposal.visibleSections as SectionId[]);\n      return;\n    }\n    setVisibleSections(DEFAULT_VISIBLE_SECTIONS);\n  }, [proposal.visibleSections]);\n\n  useEffect(() => {\n    if (status !== 'authenticated') return;\n    let isActive = true;\n\n    fetch('/api/workspace/settings')\n      .then((res) => (res.ok ? res.json() : null))\n      .then((data) => {\n        if (!isActive || !data) return;\n        setPreviewWorkspace(data);\n      })\n      .catch(() => {\n        if (!isActive) return;\n      });\n\n    return () => {\n      isActive = false;\n    };\n  }, [status]);\n\n  useEffect(() => {\n    const handleMessage = (event: MessageEvent) => {\n      if (!event?.data || event.data.type !== 'resize') return;\n      if (typeof event.data.height !== 'number') return;\n      setPreviewHeight(event.data.height);\n    };\n\n    window.addEventListener('message', handleMessage);\n    return () => window.removeEventListener('message', handleMessage);\n  }, []);\n\n  useEffect(() => {\n    const container = previewContainerRef.current;\n    if (!container) return;\n\n    const updateScale = () => {\n      const width = container.clientWidth;\n      if (!width) return;\n      const nextScale = Math.min(1, width / PREVIEW_A4_WIDTH_PX);\n      setPreviewScale(nextScale);\n    };\n\n    updateScale();\n    const observer = new ResizeObserver(updateScale);\n    observer.observe(container);\n    return () => observer.disconnect();\n  }, []);\n\n  const previewProposal = useMemo(() => {\n    const isVisible = (sectionId: SectionId) => visibleSections.includes(sectionId);\n    const keepBasic = isVisible('basic');\n    const keepContext = isVisible('context');\n    const keepAdvantages = isVisible('advantages');\n    const keepProducts = isVisible('products');\n    const keepTerms = isVisible('terms');\n    const keepGallery = isVisible('gallery');\n    const keepContacts = isVisible('contacts');\n\n    return {\n      ...debouncedProposal,\n      title: keepBasic ? debouncedProposal.title : '',\n      recipientName: keepBasic ? debouncedProposal.recipientName : undefined,\n      problemDesc: keepContext ? debouncedProposal.problemDesc : undefined,\n      solutionDesc: keepContext ? debouncedProposal.solutionDesc : undefined,\n      additionalDesc: keepContext ? debouncedProposal.additionalDesc : undefined,\n      advantages: keepAdvantages ? debouncedProposal.advantages : [],\n      advantagesColumns: keepAdvantages ? debouncedProposal.advantagesColumns : undefined,\n      items: keepProducts ? debouncedProposal.items : [],\n      pricingMode: keepProducts ? debouncedProposal.pricingMode : 'single',\n      productVariants: keepProducts ? debouncedProposal.productVariants : [],\n      activeVariantId: keepProducts ? debouncedProposal.activeVariantId : undefined,\n      productsView: keepProducts ? debouncedProposal.productsView : undefined,\n      deadline: keepTerms ? debouncedProposal.deadline : undefined,\n      paymentTerms: keepTerms ? debouncedProposal.paymentTerms : undefined,\n      paymentCustom: keepTerms ? debouncedProposal.paymentCustom : undefined,\n      validUntil: keepTerms ? debouncedProposal.validUntil : undefined,\n      notes: keepTerms ? debouncedProposal.notes : undefined,\n      galleryImages: keepGallery ? debouncedProposal.galleryImages : [],\n      ctaText: keepContacts ? debouncedProposal.ctaText : undefined,\n      ctaPhone: keepContacts ? debouncedProposal.ctaPhone : undefined,\n      ctaEmail: keepContacts ? debouncedProposal.ctaEmail : undefined,\n    };\n  }, [debouncedProposal, visibleSections]);\n\n  const previewHtml = useMemo(() => {\n    try {\n      return renderProposalToHtml({\n        proposal: previewProposal,\n        workspace: previewWorkspace ?? undefined,\n      });\n    } catch (error) {\n      console.error('Failed to render preview html:', error);\n      return '<!doctype html><html><body style=\"font-family: sans-serif; padding: 24px;\">   .</body></html>';\n    }\n  }, [previewProposal, previewWorkspace]);\n\n  const previewBaseHeight = Math.max(previewHeight ?? 0, PREVIEW_A4_HEIGHT_PX);\n  const scaledPreviewHeight = previewBaseHeight * previewScale;\n  const scaledPreviewWidth = PREVIEW_A4_WIDTH_PX * previewScale;\n\n  const toggleSectionVisibility = (sectionId: SectionId) => {\n    setVisibleSections((prev) => {\n      const isVisible = prev.includes(sectionId);\n      const next = isVisible ? prev.filter((id) => id !== sectionId) : [...prev, sectionId];\n      if (next.length === 0) return prev;\n      updateField('visibleSections', next as typeof proposal.visibleSections);\n      return next;\n    });\n  };\n\n  useEffect(() => {\n    if (visibleSections.includes(activeSection)) return;\n    const fallback = visibleSections[0] ?? 'basic';\n    setActiveSection(fallback);\n  }, [activeSection, visibleSections]);\n\n  const isProductsSection = activeSection === 'products';\n\n  useEffect(() => {\n    setIsPreviewCollapsed(isProductsSection);\n  }, [isProductsSection]);\n\n  //   \n  const handleTemplateSelect = (template: ProposalTemplate | null) => {\n    setShowTemplateSelector(false);\n\n    if (template) {\n      const nextSections = sanitizeTemplateSections(template.sections) as SectionId[];\n      const rebasedDefaults = rebaseTemplateIds(template.defaults);\n\n      //     \n      setVisibleSections(nextSections);\n      updateField('visibleSections', nextSections as typeof proposal.visibleSections);\n\n      //  defaults   proposal\n      Object.entries(rebasedDefaults).forEach(([key, value]) => {\n        updateField(key as keyof typeof proposal, value as typeof proposal[keyof typeof proposal]);\n      });\n    }\n  };\n\n  const handlePreview = async () => {\n    if (!proposal.id) {\n      alert('   ');\n      return;\n    }\n    \n    try {\n      //   share link  \n      const response = await fetch(`/api/proposals/${proposal.id}/share`, {\n        method: 'POST',\n      });\n      \n      if (!response.ok) {\n        throw new Error('     ');\n      }\n      \n      const { token } = await response.json();\n      window.open(`/p/${token}`, '_blank');\n    } catch (error) {\n      console.error('Preview error:', error);\n      alert('   ');\n    }\n  };\n\n  const pillButtonClass =\n    'flex cursor-pointer items-center justify-center gap-2 rounded-xl border bg-white px-4 py-2 text-sm font-medium text-[#0F172B] tracking-[-0.42px] transition hover:bg-slate-50 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#C6613F] disabled:cursor-not-allowed disabled:opacity-50';\n  \n  const pillButtonStyle = {\n    '--tw-shadow': '0 1px 1px 0 var(--tw-shadow-color, rgba(0, 0, 0, .06)), 0 0 1px 0 var(--tw-shadow-color, rgba(0, 0, 0, .3))',\n    '--tw-shadow-color': 'rgba(0, 0, 0, 0.1)',\n    boxShadow: 'var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow)',\n    borderColor: 'hsl(30deg 3.3% 11.8% / 15%)',\n  } as React.CSSProperties;\n\n  const primaryButtonClass =\n    'flex cursor-pointer items-center justify-center gap-2 h-9 rounded-xl bg-[#C6613F] px-4 text-sm font-medium text-[#FAFAFA] shadow-[0px_1px_2px_0px_rgba(10,10,10,0.06)] transition hover:bg-[#A04F33] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#C6613F] disabled:cursor-not-allowed disabled:opacity-60';\n\n  const renderSection = useMemo(() => {\n    switch (activeSection) {\n      case 'basic':\n        return <BasicInfoSection proposal={proposal} onUpdate={updateField} />;\n      case 'context':\n        return <ContextSection proposal={proposal} onUpdate={updateField} />;\n      case 'products':\n        return <ProductsSection proposal={proposal} onUpdate={updateField} />;\n      case 'advantages':\n        return <AdvantagesSection proposal={proposal} onUpdate={updateField} />;\n      case 'terms':\n        return <TermsSection proposal={proposal} onUpdate={updateField} />;\n      case 'gallery':\n        return <GallerySection proposal={proposal} onUpdate={updateField} />;\n      case 'contacts':\n        return <ContactsSection proposal={proposal} onUpdate={updateField} />;\n      default:\n        return null;\n    }\n  }, [activeSection, proposal, updateField]);\n\n  //  ,    \n  if (status === 'loading') {\n    return (\n      <div className=\"flex min-h-screen items-center justify-center bg-[#F3F2F0]\">\n        <div className=\"text-center\">\n          <div className=\"h-12 w-12 animate-spin rounded-full border-4 border-[#C6613F] border-t-transparent mx-auto\"></div>\n          <p className=\"mt-4 text-sm text-slate-600\"> ...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"flex min-h-screen items-center justify-center bg-[#F3F2F0]\">\n        <div className=\"text-center\">\n          <div className=\"h-12 w-12 animate-spin rounded-full border-4 border-[#C6613F] border-t-transparent mx-auto\"></div>\n          <p className=\"mt-4 text-sm text-slate-600\">  ...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen w-full bg-[#F3F2F0] py-6 text-slate-900\">\n      <div className=\"mx-auto flex w-full max-w-[1400px] flex-col gap-6 px-6\">\n        {/* - */}\n        <div className=\"flex flex-wrap items-center justify-between gap-3\">\n          <Link href=\"/\" className={pillButtonClass} style={pillButtonStyle}>\n            <ArrowLeft className=\"h-4 w-4\" />\n             \n          </Link>\n\n          <div className=\"flex flex-1 items-center justify-center\">\n            <h1 className=\"text-xl font-semibold text-slate-800\">\n              {proposal.title || ' '}\n            </h1>\n            {isSaving ? (\n              <span className=\"ml-3 flex items-center gap-1.5 rounded-full bg-[#FAEFEB] px-3 py-1 text-xs font-medium text-[#A04F33]\">\n                <span className=\"h-2 w-2 animate-pulse rounded-full bg-[#C6613F]\"></span>\n                ...\n              </span>\n            ) : isDirty ? (\n              <span className=\"ml-3 rounded-full bg-amber-100 px-3 py-1 text-xs font-medium text-amber-800\">\n                 \n              </span>\n            ) : lastSaved ? (\n              <span className=\"ml-3 rounded-full bg-green-100 px-3 py-1 text-xs font-medium text-green-800\">\n                  {lastSaved.toLocaleTimeString('ru-RU', { hour: '2-digit', minute: '2-digit' })}\n              </span>\n            ) : null}\n          </div>\n\n          <div className=\"flex items-center gap-3\">\n            <button\n              className={pillButtonClass}\n              style={pillButtonStyle}\n              onClick={() => setShowTemplateSelector(true)}\n            >\n              <Layers className=\"h-4 w-4\" />\n               \n            </button>\n            <button\n              className={pillButtonClass}\n              style={pillButtonStyle}\n              onClick={() => setShowTemplateManager(true)}\n            >\n              <FileStack className=\"h-4 w-4\" />\n              \n            </button>\n            <button\n              className={pillButtonClass}\n              style={pillButtonStyle}\n              onClick={handlePreview}\n              disabled={!proposal.id}\n            >\n              <Eye className=\"h-4 w-4\" />\n              \n            </button>\n            <button\n              className={pillButtonClass}\n              style={pillButtonStyle}\n              onClick={exportPdf}\n              disabled={!proposal.id}\n            >\n              <FileDown className=\"h-4 w-4\" />\n              PDF\n            </button>\n            <button\n              className={primaryButtonClass}\n              onClick={save}\n              disabled={isSaving}\n            >\n              <Save className=\"h-4 w-4\" />\n              {isSaving ? '...' : ''}\n            </button>\n          </div>\n        </div>\n\n        {/*   */}\n        <div className=\"flex gap-6\">\n          {/*  */}\n          <aside className=\"w-64 flex-shrink-0\">\n            <div className=\"sticky top-6 rounded-[0.75rem] bg-white p-4\" style={{ '--tw-shadow': '0 1px 1px 0 var(--tw-shadow-color, rgba(0, 0, 0, .06)), 0 0 1px 0 var(--tw-shadow-color, rgba(0, 0, 0, .3))', '--tw-shadow-color': 'rgba(0, 0, 0, 0.1)', boxShadow: 'var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow)' } as React.CSSProperties}>\n              <h2 className=\"mb-3 text-xs font-semibold uppercase tracking-wide\" style={{ color: UI_TEXT_PRIMARY }}>\n                \n              </h2>\n              <nav className=\"space-y-1\">\n                {SECTIONS.map((section) => {\n                  const isVisible = visibleSections.includes(section.id);\n                  const isActive = activeSection === section.id;\n\n                  return (\n                    <div\n                      key={section.id}\n                      role=\"button\"\n                      tabIndex={0}\n                      onClick={() => {\n                        if (!isVisible) return;\n                        setActiveSection(section.id);\n                      }}\n                      onKeyDown={(event) => {\n                        if (event.key === 'Enter' || event.key === ' ') {\n                          event.preventDefault();\n                          if (!isVisible) return;\n                          setActiveSection(section.id);\n                        }\n                      }}\n                      className={`flex w-full items-center gap-3 rounded-lg px-3 py-2 text-left text-sm font-medium tracking-[-0.42px] transition ${\n                        isActive\n                          ? 'bg-[#FAFAFA] text-[#FF5929]'\n                          : 'hover:bg-[#FAFAFA]'\n                      } ${isVisible ? 'cursor-pointer' : 'cursor-default'}`}\n                      style={!isActive ? { color: isVisible ? '#3d3d3a' : '#a8a39a' } : undefined}\n                    >\n                      <span className=\"text-lg\">{section.icon}</span>\n                      <span className=\"flex-1\">{section.title}</span>\n                      <button\n                        type=\"button\"\n                        role=\"switch\"\n                        aria-checked={isVisible}\n                        onClick={(event) => {\n                          event.stopPropagation();\n                          toggleSectionVisibility(section.id);\n                        }}\n                        className={`relative inline-flex h-[12px] w-[22px] shrink-0 items-center rounded-full border transition ${\n                          isVisible\n                            ? 'border-[#C6613F] bg-[#C6613F]'\n                            : 'border-slate-200 bg-slate-200'\n                        }`}\n                      >\n                        <span\n                          className={`inline-block h-[10px] w-[10px] transform rounded-full bg-white shadow transition ${\n                            isVisible ? 'translate-x-[10px]' : 'translate-x-[1px]'\n                          }`}\n                        />\n                      </button>\n                    </div>\n                  );\n                })}\n              </nav>\n            </div>\n          </aside>\n\n          {/*   */}\n          <main className=\"flex-1 min-w-0\">\n            <div className=\"rounded-[0.75rem] bg-white p-6\" style={{ '--tw-shadow': '0 1px 1px 0 var(--tw-shadow-color, rgba(0, 0, 0, .06)), 0 0 1px 0 var(--tw-shadow-color, rgba(0, 0, 0, .3))', '--tw-shadow-color': 'rgba(0, 0, 0, 0.1)', boxShadow: 'var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow)' } as React.CSSProperties}>\n              <div className=\"mb-6\">\n                <div className=\"flex items-center justify-between gap-3\">\n                  <h2 className=\"text-lg font-semibold\" style={{ color: '#3d3d3a' }}>\n                    {SECTIONS.find((s) => s.id === activeSection)?.title}\n                  </h2>\n                  {isProductsSection ? (\n                    <button\n                      type=\"button\"\n                      onClick={() => setIsPreviewCollapsed((prev) => !prev)}\n                      className=\"hidden xl:inline-flex h-8 items-center gap-1.5 rounded-lg border bg-white px-2.5 text-xs font-medium tracking-[-0.2px] text-[#3d3d3a] transition hover:bg-[#FAFAFA] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#C6613F]\"\n                      style={{\n                        borderColor: UI_BORDER_COLOR,\n                        boxShadow: '0 1px 1px 0 rgba(0,0,0,0.06), 0 0 1px 0 rgba(0,0,0,0.3)',\n                      }}\n                      title={isPreviewCollapsed ? ' ' : ' '}\n                      aria-label={isPreviewCollapsed ? ' ' : ' '}\n                    >\n                      {isPreviewCollapsed ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\n                      {isPreviewCollapsed ? ' ' : ' '}\n                    </button>\n                  ) : null}\n                </div>\n                <div className=\"mt-1 h-1 w-12 rounded-full bg-[#C6613F]\"></div>\n              </div>\n\n              <div className={isProductsSection && isPreviewCollapsed ? 'max-w-none' : 'max-w-3xl'}>\n                {renderSection}\n              </div>\n            </div>\n          </main>\n\n          {/*  */}\n          {(!isProductsSection || !isPreviewCollapsed) ? (\n            <aside className=\"hidden xl:block w-[360px] flex-shrink-0\">\n              <div className=\"sticky top-6 rounded-[0.75rem] bg-white p-4\" style={{ '--tw-shadow': '0 1px 1px 0 var(--tw-shadow-color, rgba(0, 0, 0, .06)), 0 0 1px 0 var(--tw-shadow-color, rgba(0, 0, 0, .3))', '--tw-shadow-color': 'rgba(0, 0, 0, 0.1)', boxShadow: 'var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow)' } as React.CSSProperties}>\n                <div className=\"mb-3 flex items-center justify-between\">\n                  <h2 className=\"text-xs font-semibold uppercase tracking-wide\" style={{ color: UI_TEXT_PRIMARY }}>\n                    \n                  </h2>\n                  <span className=\"text-[10px] font-medium uppercase tracking-wide\" style={{ color: UI_TEXT_MUTED }}>\n                    Live\n                  </span>\n                </div>\n                <div className=\"overflow-hidden rounded-lg border bg-white\" style={{ borderColor: UI_BORDER_COLOR }}>\n                  <div\n                    ref={previewContainerRef}\n                    className=\"max-h-[calc(100vh-12rem)] overflow-auto bg-[#f6f5f3]\"\n                  >\n                    <div\n                      style={{\n                        width: `${scaledPreviewWidth}px`,\n                        height: `${scaledPreviewHeight}px`,\n                        margin: '0 auto',\n                        position: 'relative',\n                      }}\n                    >\n                      <div\n                        style={{\n                          width: `${PREVIEW_A4_WIDTH_PX}px`,\n                          height: `${previewBaseHeight}px`,\n                          transform: `scale(${previewScale})`,\n                          transformOrigin: 'top left',\n                          position: 'absolute',\n                          top: 0,\n                          left: 0,\n                        }}\n                      >\n                        <iframe\n                          title=\"  \"\n                          className=\"border-0\"\n                          srcDoc={previewHtml}\n                          style={{\n                            width: `${PREVIEW_A4_WIDTH_PX}px`,\n                            height: `${previewBaseHeight}px`,\n                            display: 'block',\n                          }}\n                        />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </aside>\n          ) : null}\n        </div>\n      </div>\n\n      {/*     */}\n      {showTemplateSelector && (\n        <TemplateSelector\n          onSelect={handleTemplateSelect}\n          onClose={() => setShowTemplateSelector(false)}\n        />\n      )}\n\n      {/*     */}\n      {showTemplateManager && (\n        <TemplateManager\n          isOpen={showTemplateManager}\n          proposal={proposal}\n          visibleSections={visibleSections}\n          onClose={() => setShowTemplateManager(false)}\n        />\n      )}\n    </div>\n  );\n}\n","'use client';\n\nimport { useCallback, useEffect, useMemo, useState } from 'react';\nimport { Loader2, Pencil, Star, Trash2 } from 'lucide-react';\nimport type { Proposal } from '@/lib/types/proposal';\nimport type { ProposalTemplate } from '@/lib/types/proposal-template';\nimport { buildTemplateFromProposal } from '@/lib/proposal-templates/mapping';\n\ninterface TemplateManagerProps {\n  isOpen: boolean;\n  proposal: Proposal;\n  visibleSections: string[];\n  onClose: () => void;\n  onTemplatesChanged?: () => void;\n}\n\nconst getErrorMessage = async (response: Response): Promise<string> => {\n  const raw = await response.text();\n  try {\n    const parsed = JSON.parse(raw) as { error?: string; message?: string };\n    return parsed.message || parsed.error || raw || `HTTP ${response.status}`;\n  } catch {\n    return raw || `HTTP ${response.status}`;\n  }\n};\n\nexport default function TemplateManager({\n  isOpen,\n  proposal,\n  visibleSections,\n  onClose,\n  onTemplatesChanged,\n}: TemplateManagerProps) {\n  const [templates, setTemplates] = useState<ProposalTemplate[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [actionTemplateId, setActionTemplateId] = useState<string | null>(null);\n\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n  const [isDefault, setIsDefault] = useState(false);\n\n  const hasTemplates = templates.length > 0;\n\n  const loadTemplates = useCallback(async () => {\n    setIsLoading(true);\n    try {\n      const response = await fetch('/api/proposal-templates');\n      if (!response.ok) {\n        throw new Error(await getErrorMessage(response));\n      }\n      const data = (await response.json()) as ProposalTemplate[];\n      setTemplates(data);\n    } catch (error) {\n      console.error('Failed to load templates:', error);\n      alert('   ');\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (!isOpen) return;\n    loadTemplates();\n  }, [isOpen, loadTemplates]);\n\n  const sortedTemplates = useMemo(\n    () =>\n      [...templates].sort((a, b) => {\n        if (a.isDefault === b.isDefault) return 0;\n        return a.isDefault ? -1 : 1;\n      }),\n    [templates],\n  );\n\n  const handleCreate = async () => {\n    const normalizedName = name.trim();\n    if (!normalizedName) {\n      alert('  ');\n      return;\n    }\n\n    setIsSubmitting(true);\n    try {\n      const { defaults, sections } = buildTemplateFromProposal(proposal, visibleSections);\n      const response = await fetch('/api/proposal-templates', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          name: normalizedName,\n          description: description.trim() || null,\n          category: 'custom',\n          defaults,\n          sections,\n          isDefault,\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error(await getErrorMessage(response));\n      }\n\n      setName('');\n      setDescription('');\n      setIsDefault(false);\n      await loadTemplates();\n      onTemplatesChanged?.();\n      alert(' ');\n    } catch (error) {\n      console.error('Failed to create template:', error);\n      alert(`   : ${error instanceof Error ? error.message : ''}`);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const patchTemplate = async (id: string, payload: Record<string, unknown>) => {\n    setActionTemplateId(id);\n    try {\n      const response = await fetch('/api/proposal-templates', {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ id, ...payload }),\n      });\n      if (!response.ok) {\n        throw new Error(await getErrorMessage(response));\n      }\n      await loadTemplates();\n      onTemplatesChanged?.();\n    } finally {\n      setActionTemplateId(null);\n    }\n  };\n\n  const handleRename = async (template: ProposalTemplate) => {\n    const rawName = window.prompt('  ', template.name);\n    if (rawName === null) return;\n    const nextName = rawName.trim();\n    if (!nextName) {\n      alert('    ');\n      return;\n    }\n\n    try {\n      await patchTemplate(template.id, { name: nextName });\n    } catch (error) {\n      console.error('Failed to rename template:', error);\n      alert(`   : ${error instanceof Error ? error.message : ''}`);\n    }\n  };\n\n  const handleEditDescription = async (template: ProposalTemplate) => {\n    const nextDescription = window.prompt(\n      '  (  )',\n      template.description ?? '',\n    );\n    if (nextDescription === null) return;\n\n    try {\n      await patchTemplate(template.id, { description: nextDescription });\n    } catch (error) {\n      console.error('Failed to update description:', error);\n      alert(`   : ${error instanceof Error ? error.message : ''}`);\n    }\n  };\n\n  const handleSetDefault = async (template: ProposalTemplate) => {\n    if (template.isDefault) return;\n    try {\n      await patchTemplate(template.id, { isDefault: true });\n    } catch (error) {\n      console.error('Failed to set default template:', error);\n      alert(`     : ${error instanceof Error ? error.message : ''}`);\n    }\n  };\n\n  const handleDelete = async (template: ProposalTemplate) => {\n    const confirmed = window.confirm(`  ${template.name}?`);\n    if (!confirmed) return;\n\n    setActionTemplateId(template.id);\n    try {\n      const response = await fetch('/api/proposal-templates', {\n        method: 'DELETE',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ id: template.id }),\n      });\n      if (!response.ok) {\n        throw new Error(await getErrorMessage(response));\n      }\n      await loadTemplates();\n      onTemplatesChanged?.();\n    } catch (error) {\n      console.error('Failed to delete template:', error);\n      alert(`   : ${error instanceof Error ? error.message : ''}`);\n    } finally {\n      setActionTemplateId(null);\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4\">\n      <div className=\"w-full max-w-4xl rounded-2xl bg-white p-6 shadow-2xl\">\n        <div className=\"mb-6\">\n          <h2 className=\"text-2xl font-bold text-slate-900\"></h2>\n          <p className=\"mt-1 text-sm text-slate-600\">\n                    \n          </p>\n        </div>\n\n        <div className=\"grid gap-6 lg:grid-cols-[1.2fr_1fr]\">\n          <section className=\"rounded-xl border border-slate-200 p-4\">\n            <h3 className=\"mb-3 text-sm font-semibold text-slate-800\">    </h3>\n            <div className=\"space-y-3\">\n              <div>\n                <label htmlFor=\"template-name\" className=\"mb-1 block text-xs font-medium text-slate-600\">\n                  \n                </label>\n                <input\n                  id=\"template-name\"\n                  value={name}\n                  onChange={(event) => setName(event.target.value)}\n                  placeholder=\":   / \"\n                  className=\"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm text-slate-900 outline-none transition focus:border-[#C6613F]\"\n                />\n              </div>\n\n              <div>\n                <label htmlFor=\"template-description\" className=\"mb-1 block text-xs font-medium text-slate-600\">\n                  \n                </label>\n                <textarea\n                  id=\"template-description\"\n                  value={description}\n                  onChange={(event) => setDescription(event.target.value)}\n                  rows={3}\n                  placeholder=\":    \"\n                  className=\"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm text-slate-900 outline-none transition focus:border-[#C6613F]\"\n                />\n              </div>\n\n              <label className=\"flex items-center gap-2 text-sm text-slate-700\">\n                <input\n                  type=\"checkbox\"\n                  checked={isDefault}\n                  onChange={(event) => setIsDefault(event.target.checked)}\n                  className=\"h-4 w-4 rounded border-slate-300 accent-[#C6613F]\"\n                />\n                   \n              </label>\n\n              <button\n                type=\"button\"\n                disabled={isSubmitting}\n                onClick={handleCreate}\n                className=\"inline-flex h-9 items-center gap-2 rounded-xl bg-[#C6613F] px-4 text-sm font-medium text-white transition hover:bg-[#A04F33] disabled:opacity-60\"\n              >\n                {isSubmitting ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : null}\n                  \n              </button>\n            </div>\n          </section>\n\n          <section className=\"rounded-xl border border-slate-200 p-4\">\n            <h3 className=\"mb-3 text-sm font-semibold text-slate-800\"> </h3>\n\n            {isLoading ? (\n              <div className=\"flex items-center justify-center py-12\">\n                <Loader2 className=\"h-6 w-6 animate-spin text-[#C6613F]\" />\n              </div>\n            ) : !hasTemplates ? (\n              <p className=\"text-sm text-slate-500\">   </p>\n            ) : (\n              <div className=\"space-y-2\">\n                {sortedTemplates.map((template) => {\n                  const isBusy = actionTemplateId === template.id;\n                  return (\n                    <div\n                      key={template.id}\n                      className={`rounded-lg border p-3 ${\n                        template.isDefault ? 'border-[#D8A18E] bg-[#FAEFEB]' : 'border-slate-200 bg-white'\n                      }`}\n                    >\n                      <div className=\"flex items-start justify-between gap-2\">\n                        <div>\n                          <p className=\"text-sm font-semibold text-slate-900\">{template.name}</p>\n                          {template.description ? (\n                            <p className=\"mt-0.5 text-xs text-slate-500\">{template.description}</p>\n                          ) : null}\n                        </div>\n                        {template.isDefault ? (\n                          <span className=\"rounded-full bg-[#C6613F] px-2 py-0.5 text-[10px] font-medium text-white\">\n                             \n                          </span>\n                        ) : null}\n                      </div>\n\n                      <div className=\"mt-2 flex flex-wrap gap-2\">\n                        <button\n                          type=\"button\"\n                          disabled={isBusy}\n                          onClick={() => handleRename(template)}\n                          className=\"inline-flex h-7 items-center gap-1 rounded-md border border-slate-300 px-2 text-xs text-slate-700 transition hover:bg-slate-50 disabled:opacity-60\"\n                        >\n                          <Pencil className=\"h-3.5 w-3.5\" />\n                          \n                        </button>\n\n                        <button\n                          type=\"button\"\n                          disabled={isBusy}\n                          onClick={() => handleEditDescription(template)}\n                          className=\"inline-flex h-7 items-center gap-1 rounded-md border border-slate-300 px-2 text-xs text-slate-700 transition hover:bg-slate-50 disabled:opacity-60\"\n                        >\n                          <Pencil className=\"h-3.5 w-3.5\" />\n                          \n                        </button>\n\n                        <button\n                          type=\"button\"\n                          disabled={isBusy || template.isDefault}\n                          onClick={() => handleSetDefault(template)}\n                          className=\"inline-flex h-7 items-center gap-1 rounded-md border border-slate-300 px-2 text-xs text-slate-700 transition hover:bg-slate-50 disabled:opacity-60\"\n                        >\n                          <Star className=\"h-3.5 w-3.5\" />\n                           \n                        </button>\n\n                        <button\n                          type=\"button\"\n                          disabled={isBusy}\n                          onClick={() => handleDelete(template)}\n                          className=\"inline-flex h-7 items-center gap-1 rounded-md border border-red-200 px-2 text-xs text-red-700 transition hover:bg-red-50 disabled:opacity-60\"\n                        >\n                          {isBusy ? <Loader2 className=\"h-3.5 w-3.5 animate-spin\" /> : <Trash2 className=\"h-3.5 w-3.5\" />}\n                          \n                        </button>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            )}\n          </section>\n        </div>\n\n        <div className=\"mt-6 flex justify-end\">\n          <button\n            type=\"button\"\n            onClick={onClose}\n            className=\"rounded-lg px-4 py-2 text-sm font-medium text-slate-600 transition-colors hover:bg-slate-100\"\n          >\n            \n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\n\ninterface Props {\n  id: string;\n  value: string;\n}\n\nconst hiddenStyles: React.CSSProperties = {\n  display: 'none',\n};\n\nexport function HiddenText({id, value}: Props) {\n  return (\n    <div id={id} style={hiddenStyles}>\n      {value}\n    </div>\n  );\n}\n","import type { Proposal } from './proposal';\n\nexport const PROPOSAL_SECTION_IDS = [\n  'basic',\n  'context',\n  'advantages',\n  'products',\n  'terms',\n  'gallery',\n  'contacts',\n] as const;\n\nexport type ProposalSectionId = (typeof PROPOSAL_SECTION_IDS)[number];\n\nexport interface ProposalTemplate {\n  id: string;\n  name: string;\n  description?: string | null;\n  category?: string | null;\n  defaults: Partial<Proposal>;\n  sections: ProposalSectionId[];\n  isDefault: boolean;\n  createdAt?: string;\n  updatedAt?: string;\n}\n\nexport const TEMPLATE_DEFAULT_ALLOWED_KEYS = [\n  'problemDesc',\n  'solutionDesc',\n  'additionalDesc',\n  'items',\n  'currency',\n  'pricingMode',\n  'productVariants',\n  'activeVariantId',\n  'productsView',\n  'deadline',\n  'paymentTerms',\n  'paymentCustom',\n  'includeVat',\n  'vatRate',\n  'galleryImages',\n  'advantages',\n  'advantagesColumns',\n  'ctaText',\n  'notes',\n] as const satisfies ReadonlyArray<keyof Proposal>;\n","import {useMemo} from 'react';\n\nexport function useCombinedRefs<T>(\n  ...refs: ((node: T) => void)[]\n): (node: T) => void {\n  return useMemo(\n    () => (node: T) => {\n      refs.forEach((ref) => ref(node));\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    refs\n  );\n}\n","import {createContext} from 'react';\n\nimport type {RegisterListener} from './types';\n\nexport const DndMonitorContext = createContext<RegisterListener | null>(null);\n","import * as React from 'react';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { composeRefs } from '@radix-ui/react-compose-refs';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport * as MenuPrimitive from '@radix-ui/react-menu';\nimport { createMenuScope } from '@radix-ui/react-menu';\nimport { useId } from '@radix-ui/react-id';\n\nimport type { Scope } from '@radix-ui/react-context';\n\ntype Direction = 'ltr' | 'rtl';\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenu\n * -----------------------------------------------------------------------------------------------*/\n\nconst DROPDOWN_MENU_NAME = 'DropdownMenu';\n\ntype ScopedProps<P> = P & { __scopeDropdownMenu?: Scope };\nconst [createDropdownMenuContext, createDropdownMenuScope] = createContextScope(\n  DROPDOWN_MENU_NAME,\n  [createMenuScope]\n);\nconst useMenuScope = createMenuScope();\n\ntype DropdownMenuContextValue = {\n  triggerId: string;\n  triggerRef: React.RefObject<HTMLButtonElement | null>;\n  contentId: string;\n  open: boolean;\n  onOpenChange(open: boolean): void;\n  onOpenToggle(): void;\n  modal: boolean;\n};\n\nconst [DropdownMenuProvider, useDropdownMenuContext] =\n  createDropdownMenuContext<DropdownMenuContextValue>(DROPDOWN_MENU_NAME);\n\ninterface DropdownMenuProps {\n  children?: React.ReactNode;\n  dir?: Direction;\n  open?: boolean;\n  defaultOpen?: boolean;\n  onOpenChange?(open: boolean): void;\n  modal?: boolean;\n}\n\nconst DropdownMenu: React.FC<DropdownMenuProps> = (props: ScopedProps<DropdownMenuProps>) => {\n  const {\n    __scopeDropdownMenu,\n    children,\n    dir,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    modal = true,\n  } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  const triggerRef = React.useRef<HTMLButtonElement>(null);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: onOpenChange,\n    caller: DROPDOWN_MENU_NAME,\n  });\n\n  return (\n    <DropdownMenuProvider\n      scope={__scopeDropdownMenu}\n      triggerId={useId()}\n      triggerRef={triggerRef}\n      contentId={useId()}\n      open={open}\n      onOpenChange={setOpen}\n      onOpenToggle={React.useCallback(() => setOpen((prevOpen) => !prevOpen), [setOpen])}\n      modal={modal}\n    >\n      <MenuPrimitive.Root {...menuScope} open={open} onOpenChange={setOpen} dir={dir} modal={modal}>\n        {children}\n      </MenuPrimitive.Root>\n    </DropdownMenuProvider>\n  );\n};\n\nDropdownMenu.displayName = DROPDOWN_MENU_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuTrigger\n * -----------------------------------------------------------------------------------------------*/\n\nconst TRIGGER_NAME = 'DropdownMenuTrigger';\n\ntype DropdownMenuTriggerElement = React.ComponentRef<typeof Primitive.button>;\ntype PrimitiveButtonProps = React.ComponentPropsWithoutRef<typeof Primitive.button>;\ninterface DropdownMenuTriggerProps extends PrimitiveButtonProps {}\n\nconst DropdownMenuTrigger = React.forwardRef<DropdownMenuTriggerElement, DropdownMenuTriggerProps>(\n  (props: ScopedProps<DropdownMenuTriggerProps>, forwardedRef) => {\n    const { __scopeDropdownMenu, disabled = false, ...triggerProps } = props;\n    const context = useDropdownMenuContext(TRIGGER_NAME, __scopeDropdownMenu);\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return (\n      <MenuPrimitive.Anchor asChild {...menuScope}>\n        <Primitive.button\n          type=\"button\"\n          id={context.triggerId}\n          aria-haspopup=\"menu\"\n          aria-expanded={context.open}\n          aria-controls={context.open ? context.contentId : undefined}\n          data-state={context.open ? 'open' : 'closed'}\n          data-disabled={disabled ? '' : undefined}\n          disabled={disabled}\n          {...triggerProps}\n          ref={composeRefs(forwardedRef, context.triggerRef)}\n          onPointerDown={composeEventHandlers(props.onPointerDown, (event) => {\n            // only call handler if it's the left button (mousedown gets triggered by all mouse buttons)\n            // but not when the control key is pressed (avoiding MacOS right click)\n            if (!disabled && event.button === 0 && event.ctrlKey === false) {\n              context.onOpenToggle();\n              // prevent trigger focusing when opening\n              // this allows the content to be given focus without competition\n              if (!context.open) event.preventDefault();\n            }\n          })}\n          onKeyDown={composeEventHandlers(props.onKeyDown, (event) => {\n            if (disabled) return;\n            if (['Enter', ' '].includes(event.key)) context.onOpenToggle();\n            if (event.key === 'ArrowDown') context.onOpenChange(true);\n            // prevent keydown from scrolling window / first focused item to execute\n            // that keydown (inadvertently closing the menu)\n            if (['Enter', ' ', 'ArrowDown'].includes(event.key)) event.preventDefault();\n          })}\n        />\n      </MenuPrimitive.Anchor>\n    );\n  }\n);\n\nDropdownMenuTrigger.displayName = TRIGGER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuPortal\n * -----------------------------------------------------------------------------------------------*/\n\nconst PORTAL_NAME = 'DropdownMenuPortal';\n\ntype MenuPortalProps = React.ComponentPropsWithoutRef<typeof MenuPrimitive.Portal>;\ninterface DropdownMenuPortalProps extends MenuPortalProps {}\n\nconst DropdownMenuPortal: React.FC<DropdownMenuPortalProps> = (\n  props: ScopedProps<DropdownMenuPortalProps>\n) => {\n  const { __scopeDropdownMenu, ...portalProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return <MenuPrimitive.Portal {...menuScope} {...portalProps} />;\n};\n\nDropdownMenuPortal.displayName = PORTAL_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuContent\n * -----------------------------------------------------------------------------------------------*/\n\nconst CONTENT_NAME = 'DropdownMenuContent';\n\ntype DropdownMenuContentElement = React.ComponentRef<typeof MenuPrimitive.Content>;\ntype MenuContentProps = React.ComponentPropsWithoutRef<typeof MenuPrimitive.Content>;\ninterface DropdownMenuContentProps extends Omit<MenuContentProps, 'onEntryFocus'> {}\n\nconst DropdownMenuContent = React.forwardRef<DropdownMenuContentElement, DropdownMenuContentProps>(\n  (props: ScopedProps<DropdownMenuContentProps>, forwardedRef) => {\n    const { __scopeDropdownMenu, ...contentProps } = props;\n    const context = useDropdownMenuContext(CONTENT_NAME, __scopeDropdownMenu);\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    const hasInteractedOutsideRef = React.useRef(false);\n\n    return (\n      <MenuPrimitive.Content\n        id={context.contentId}\n        aria-labelledby={context.triggerId}\n        {...menuScope}\n        {...contentProps}\n        ref={forwardedRef}\n        onCloseAutoFocus={composeEventHandlers(props.onCloseAutoFocus, (event) => {\n          if (!hasInteractedOutsideRef.current) context.triggerRef.current?.focus();\n          hasInteractedOutsideRef.current = false;\n          // Always prevent auto focus because we either focus manually or want user agent focus\n          event.preventDefault();\n        })}\n        onInteractOutside={composeEventHandlers(props.onInteractOutside, (event) => {\n          const originalEvent = event.detail.originalEvent as PointerEvent;\n          const ctrlLeftClick = originalEvent.button === 0 && originalEvent.ctrlKey === true;\n          const isRightClick = originalEvent.button === 2 || ctrlLeftClick;\n          if (!context.modal || isRightClick) hasInteractedOutsideRef.current = true;\n        })}\n        style={{\n          ...props.style,\n          // re-namespace exposed content custom properties\n          ...{\n            '--radix-dropdown-menu-content-transform-origin':\n              'var(--radix-popper-transform-origin)',\n            '--radix-dropdown-menu-content-available-width': 'var(--radix-popper-available-width)',\n            '--radix-dropdown-menu-content-available-height':\n              'var(--radix-popper-available-height)',\n            '--radix-dropdown-menu-trigger-width': 'var(--radix-popper-anchor-width)',\n            '--radix-dropdown-menu-trigger-height': 'var(--radix-popper-anchor-height)',\n          },\n        }}\n      />\n    );\n  }\n);\n\nDropdownMenuContent.displayName = CONTENT_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuGroup\n * -----------------------------------------------------------------------------------------------*/\n\nconst GROUP_NAME = 'DropdownMenuGroup';\n\ntype DropdownMenuGroupElement = React.ComponentRef<typeof MenuPrimitive.Group>;\ntype MenuGroupProps = React.ComponentPropsWithoutRef<typeof MenuPrimitive.Group>;\ninterface DropdownMenuGroupProps extends MenuGroupProps {}\n\nconst DropdownMenuGroup = React.forwardRef<DropdownMenuGroupElement, DropdownMenuGroupProps>(\n  (props: ScopedProps<DropdownMenuGroupProps>, forwardedRef) => {\n    const { __scopeDropdownMenu, ...groupProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return <MenuPrimitive.Group {...menuScope} {...groupProps} ref={forwardedRef} />;\n  }\n);\n\nDropdownMenuGroup.displayName = GROUP_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuLabel\n * -----------------------------------------------------------------------------------------------*/\n\nconst LABEL_NAME = 'DropdownMenuLabel';\n\ntype DropdownMenuLabelElement = React.ComponentRef<typeof MenuPrimitive.Label>;\ntype MenuLabelProps = React.ComponentPropsWithoutRef<typeof MenuPrimitive.Label>;\ninterface DropdownMenuLabelProps extends MenuLabelProps {}\n\nconst DropdownMenuLabel = React.forwardRef<DropdownMenuLabelElement, DropdownMenuLabelProps>(\n  (props: ScopedProps<DropdownMenuLabelProps>, forwardedRef) => {\n    const { __scopeDropdownMenu, ...labelProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return <MenuPrimitive.Label {...menuScope} {...labelProps} ref={forwardedRef} />;\n  }\n);\n\nDropdownMenuLabel.displayName = LABEL_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuItem\n * -----------------------------------------------------------------------------------------------*/\n\nconst ITEM_NAME = 'DropdownMenuItem';\n\ntype DropdownMenuItemElement = React.ComponentRef<typeof MenuPrimitive.Item>;\ntype MenuItemProps = React.ComponentPropsWithoutRef<typeof MenuPrimitive.Item>;\ninterface DropdownMenuItemProps extends MenuItemProps {}\n\nconst DropdownMenuItem = React.forwardRef<DropdownMenuItemElement, DropdownMenuItemProps>(\n  (props: ScopedProps<DropdownMenuItemProps>, forwardedRef) => {\n    const { __scopeDropdownMenu, ...itemProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return <MenuPrimitive.Item {...menuScope} {...itemProps} ref={forwardedRef} />;\n  }\n);\n\nDropdownMenuItem.displayName = ITEM_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuCheckboxItem\n * -----------------------------------------------------------------------------------------------*/\n\nconst CHECKBOX_ITEM_NAME = 'DropdownMenuCheckboxItem';\n\ntype DropdownMenuCheckboxItemElement = React.ComponentRef<typeof MenuPrimitive.CheckboxItem>;\ntype MenuCheckboxItemProps = React.ComponentPropsWithoutRef<typeof MenuPrimitive.CheckboxItem>;\ninterface DropdownMenuCheckboxItemProps extends MenuCheckboxItemProps {}\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  DropdownMenuCheckboxItemElement,\n  DropdownMenuCheckboxItemProps\n>((props: ScopedProps<DropdownMenuCheckboxItemProps>, forwardedRef) => {\n  const { __scopeDropdownMenu, ...checkboxItemProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return <MenuPrimitive.CheckboxItem {...menuScope} {...checkboxItemProps} ref={forwardedRef} />;\n});\n\nDropdownMenuCheckboxItem.displayName = CHECKBOX_ITEM_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuRadioGroup\n * -----------------------------------------------------------------------------------------------*/\n\nconst RADIO_GROUP_NAME = 'DropdownMenuRadioGroup';\n\ntype DropdownMenuRadioGroupElement = React.ComponentRef<typeof MenuPrimitive.RadioGroup>;\ntype MenuRadioGroupProps = React.ComponentPropsWithoutRef<typeof MenuPrimitive.RadioGroup>;\ninterface DropdownMenuRadioGroupProps extends MenuRadioGroupProps {}\n\nconst DropdownMenuRadioGroup = React.forwardRef<\n  DropdownMenuRadioGroupElement,\n  DropdownMenuRadioGroupProps\n>((props: ScopedProps<DropdownMenuRadioGroupProps>, forwardedRef) => {\n  const { __scopeDropdownMenu, ...radioGroupProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return <MenuPrimitive.RadioGroup {...menuScope} {...radioGroupProps} ref={forwardedRef} />;\n});\n\nDropdownMenuRadioGroup.displayName = RADIO_GROUP_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuRadioItem\n * -----------------------------------------------------------------------------------------------*/\n\nconst RADIO_ITEM_NAME = 'DropdownMenuRadioItem';\n\ntype DropdownMenuRadioItemElement = React.ComponentRef<typeof MenuPrimitive.RadioItem>;\ntype MenuRadioItemProps = React.ComponentPropsWithoutRef<typeof MenuPrimitive.RadioItem>;\ninterface DropdownMenuRadioItemProps extends MenuRadioItemProps {}\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  DropdownMenuRadioItemElement,\n  DropdownMenuRadioItemProps\n>((props: ScopedProps<DropdownMenuRadioItemProps>, forwardedRef) => {\n  const { __scopeDropdownMenu, ...radioItemProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return <MenuPrimitive.RadioItem {...menuScope} {...radioItemProps} ref={forwardedRef} />;\n});\n\nDropdownMenuRadioItem.displayName = RADIO_ITEM_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuItemIndicator\n * -----------------------------------------------------------------------------------------------*/\n\nconst INDICATOR_NAME = 'DropdownMenuItemIndicator';\n\ntype DropdownMenuItemIndicatorElement = React.ComponentRef<typeof MenuPrimitive.ItemIndicator>;\ntype MenuItemIndicatorProps = React.ComponentPropsWithoutRef<typeof MenuPrimitive.ItemIndicator>;\ninterface DropdownMenuItemIndicatorProps extends MenuItemIndicatorProps {}\n\nconst DropdownMenuItemIndicator = React.forwardRef<\n  DropdownMenuItemIndicatorElement,\n  DropdownMenuItemIndicatorProps\n>((props: ScopedProps<DropdownMenuItemIndicatorProps>, forwardedRef) => {\n  const { __scopeDropdownMenu, ...itemIndicatorProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return <MenuPrimitive.ItemIndicator {...menuScope} {...itemIndicatorProps} ref={forwardedRef} />;\n});\n\nDropdownMenuItemIndicator.displayName = INDICATOR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuSeparator\n * -----------------------------------------------------------------------------------------------*/\n\nconst SEPARATOR_NAME = 'DropdownMenuSeparator';\n\ntype DropdownMenuSeparatorElement = React.ComponentRef<typeof MenuPrimitive.Separator>;\ntype MenuSeparatorProps = React.ComponentPropsWithoutRef<typeof MenuPrimitive.Separator>;\ninterface DropdownMenuSeparatorProps extends MenuSeparatorProps {}\n\nconst DropdownMenuSeparator = React.forwardRef<\n  DropdownMenuSeparatorElement,\n  DropdownMenuSeparatorProps\n>((props: ScopedProps<DropdownMenuSeparatorProps>, forwardedRef) => {\n  const { __scopeDropdownMenu, ...separatorProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return <MenuPrimitive.Separator {...menuScope} {...separatorProps} ref={forwardedRef} />;\n});\n\nDropdownMenuSeparator.displayName = SEPARATOR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuArrow\n * -----------------------------------------------------------------------------------------------*/\n\nconst ARROW_NAME = 'DropdownMenuArrow';\n\ntype DropdownMenuArrowElement = React.ComponentRef<typeof MenuPrimitive.Arrow>;\ntype MenuArrowProps = React.ComponentPropsWithoutRef<typeof MenuPrimitive.Arrow>;\ninterface DropdownMenuArrowProps extends MenuArrowProps {}\n\nconst DropdownMenuArrow = React.forwardRef<DropdownMenuArrowElement, DropdownMenuArrowProps>(\n  (props: ScopedProps<DropdownMenuArrowProps>, forwardedRef) => {\n    const { __scopeDropdownMenu, ...arrowProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return <MenuPrimitive.Arrow {...menuScope} {...arrowProps} ref={forwardedRef} />;\n  }\n);\n\nDropdownMenuArrow.displayName = ARROW_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuSub\n * -----------------------------------------------------------------------------------------------*/\n\ninterface DropdownMenuSubProps {\n  children?: React.ReactNode;\n  open?: boolean;\n  defaultOpen?: boolean;\n  onOpenChange?(open: boolean): void;\n}\n\nconst DropdownMenuSub: React.FC<DropdownMenuSubProps> = (\n  props: ScopedProps<DropdownMenuSubProps>\n) => {\n  const { __scopeDropdownMenu, children, open: openProp, onOpenChange, defaultOpen } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: onOpenChange,\n    caller: 'DropdownMenuSub',\n  });\n\n  return (\n    <MenuPrimitive.Sub {...menuScope} open={open} onOpenChange={setOpen}>\n      {children}\n    </MenuPrimitive.Sub>\n  );\n};\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuSubTrigger\n * -----------------------------------------------------------------------------------------------*/\n\nconst SUB_TRIGGER_NAME = 'DropdownMenuSubTrigger';\n\ntype DropdownMenuSubTriggerElement = React.ComponentRef<typeof MenuPrimitive.SubTrigger>;\ntype MenuSubTriggerProps = React.ComponentPropsWithoutRef<typeof MenuPrimitive.SubTrigger>;\ninterface DropdownMenuSubTriggerProps extends MenuSubTriggerProps {}\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  DropdownMenuSubTriggerElement,\n  DropdownMenuSubTriggerProps\n>((props: ScopedProps<DropdownMenuSubTriggerProps>, forwardedRef) => {\n  const { __scopeDropdownMenu, ...subTriggerProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return <MenuPrimitive.SubTrigger {...menuScope} {...subTriggerProps} ref={forwardedRef} />;\n});\n\nDropdownMenuSubTrigger.displayName = SUB_TRIGGER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DropdownMenuSubContent\n * -----------------------------------------------------------------------------------------------*/\n\nconst SUB_CONTENT_NAME = 'DropdownMenuSubContent';\n\ntype DropdownMenuSubContentElement = React.ComponentRef<typeof MenuPrimitive.Content>;\ntype MenuSubContentProps = React.ComponentPropsWithoutRef<typeof MenuPrimitive.SubContent>;\ninterface DropdownMenuSubContentProps extends MenuSubContentProps {}\n\nconst DropdownMenuSubContent = React.forwardRef<\n  DropdownMenuSubContentElement,\n  DropdownMenuSubContentProps\n>((props: ScopedProps<DropdownMenuSubContentProps>, forwardedRef) => {\n  const { __scopeDropdownMenu, ...subContentProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n\n  return (\n    <MenuPrimitive.SubContent\n      {...menuScope}\n      {...subContentProps}\n      ref={forwardedRef}\n      style={{\n        ...props.style,\n        // re-namespace exposed content custom properties\n        ...{\n          '--radix-dropdown-menu-content-transform-origin': 'var(--radix-popper-transform-origin)',\n          '--radix-dropdown-menu-content-available-width': 'var(--radix-popper-available-width)',\n          '--radix-dropdown-menu-content-available-height': 'var(--radix-popper-available-height)',\n          '--radix-dropdown-menu-trigger-width': 'var(--radix-popper-anchor-width)',\n          '--radix-dropdown-menu-trigger-height': 'var(--radix-popper-anchor-height)',\n        },\n      }}\n    />\n  );\n});\n\nDropdownMenuSubContent.displayName = SUB_CONTENT_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst Root = DropdownMenu;\nconst Trigger = DropdownMenuTrigger;\nconst Portal = DropdownMenuPortal;\nconst Content = DropdownMenuContent;\nconst Group = DropdownMenuGroup;\nconst Label = DropdownMenuLabel;\nconst Item = DropdownMenuItem;\nconst CheckboxItem = DropdownMenuCheckboxItem;\nconst RadioGroup = DropdownMenuRadioGroup;\nconst RadioItem = DropdownMenuRadioItem;\nconst ItemIndicator = DropdownMenuItemIndicator;\nconst Separator = DropdownMenuSeparator;\nconst Arrow = DropdownMenuArrow;\nconst Sub = DropdownMenuSub;\nconst SubTrigger = DropdownMenuSubTrigger;\nconst SubContent = DropdownMenuSubContent;\n\nexport {\n  createDropdownMenuScope,\n  //\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuPortal,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuLabel,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuItemIndicator,\n  DropdownMenuSeparator,\n  DropdownMenuArrow,\n  DropdownMenuSub,\n  DropdownMenuSubTrigger,\n  DropdownMenuSubContent,\n  //\n  Root,\n  Trigger,\n  Portal,\n  Content,\n  Group,\n  Label,\n  Item,\n  CheckboxItem,\n  RadioGroup,\n  RadioItem,\n  ItemIndicator,\n  Separator,\n  Arrow,\n  Sub,\n  SubTrigger,\n  SubContent,\n};\nexport type {\n  DropdownMenuProps,\n  DropdownMenuTriggerProps,\n  DropdownMenuPortalProps,\n  DropdownMenuContentProps,\n  DropdownMenuGroupProps,\n  DropdownMenuLabelProps,\n  DropdownMenuItemProps,\n  DropdownMenuCheckboxItemProps,\n  DropdownMenuRadioGroupProps,\n  DropdownMenuRadioItemProps,\n  DropdownMenuItemIndicatorProps,\n  DropdownMenuSeparatorProps,\n  DropdownMenuArrowProps,\n  DropdownMenuSubProps,\n  DropdownMenuSubTriggerProps,\n  DropdownMenuSubContentProps,\n};\n","import * as React from 'react';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { createCollection } from '@radix-ui/react-collection';\nimport { useComposedRefs, composeRefs } from '@radix-ui/react-compose-refs';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { useDirection } from '@radix-ui/react-direction';\nimport { DismissableLayer } from '@radix-ui/react-dismissable-layer';\nimport { useFocusGuards } from '@radix-ui/react-focus-guards';\nimport { FocusScope } from '@radix-ui/react-focus-scope';\nimport { useId } from '@radix-ui/react-id';\nimport * as PopperPrimitive from '@radix-ui/react-popper';\nimport { createPopperScope } from '@radix-ui/react-popper';\nimport { Portal as PortalPrimitive } from '@radix-ui/react-portal';\nimport { Presence } from '@radix-ui/react-presence';\nimport { Primitive, dispatchDiscreteCustomEvent } from '@radix-ui/react-primitive';\nimport * as RovingFocusGroup from '@radix-ui/react-roving-focus';\nimport { createRovingFocusGroupScope } from '@radix-ui/react-roving-focus';\nimport { createSlot } from '@radix-ui/react-slot';\nimport { useCallbackRef } from '@radix-ui/react-use-callback-ref';\nimport { hideOthers } from 'aria-hidden';\nimport { RemoveScroll } from 'react-remove-scroll';\n\nimport type { Scope } from '@radix-ui/react-context';\n\ntype Direction = 'ltr' | 'rtl';\n\nconst SELECTION_KEYS = ['Enter', ' '];\nconst FIRST_KEYS = ['ArrowDown', 'PageUp', 'Home'];\nconst LAST_KEYS = ['ArrowUp', 'PageDown', 'End'];\nconst FIRST_LAST_KEYS = [...FIRST_KEYS, ...LAST_KEYS];\nconst SUB_OPEN_KEYS: Record<Direction, string[]> = {\n  ltr: [...SELECTION_KEYS, 'ArrowRight'],\n  rtl: [...SELECTION_KEYS, 'ArrowLeft'],\n};\nconst SUB_CLOSE_KEYS: Record<Direction, string[]> = {\n  ltr: ['ArrowLeft'],\n  rtl: ['ArrowRight'],\n};\n\n/* -------------------------------------------------------------------------------------------------\n * Menu\n * -----------------------------------------------------------------------------------------------*/\n\nconst MENU_NAME = 'Menu';\n\ntype ItemData = { disabled: boolean; textValue: string };\nconst [Collection, useCollection, createCollectionScope] = createCollection<\n  MenuItemElement,\n  ItemData\n>(MENU_NAME);\n\ntype ScopedProps<P> = P & { __scopeMenu?: Scope };\nconst [createMenuContext, createMenuScope] = createContextScope(MENU_NAME, [\n  createCollectionScope,\n  createPopperScope,\n  createRovingFocusGroupScope,\n]);\nconst usePopperScope = createPopperScope();\nconst useRovingFocusGroupScope = createRovingFocusGroupScope();\n\ntype MenuContextValue = {\n  open: boolean;\n  onOpenChange(open: boolean): void;\n  content: MenuContentElement | null;\n  onContentChange(content: MenuContentElement | null): void;\n};\n\nconst [MenuProvider, useMenuContext] = createMenuContext<MenuContextValue>(MENU_NAME);\n\ntype MenuRootContextValue = {\n  onClose(): void;\n  isUsingKeyboardRef: React.RefObject<boolean>;\n  dir: Direction;\n  modal: boolean;\n};\n\nconst [MenuRootProvider, useMenuRootContext] = createMenuContext<MenuRootContextValue>(MENU_NAME);\n\ninterface MenuProps {\n  children?: React.ReactNode;\n  open?: boolean;\n  onOpenChange?(open: boolean): void;\n  dir?: Direction;\n  modal?: boolean;\n}\n\nconst Menu: React.FC<MenuProps> = (props: ScopedProps<MenuProps>) => {\n  const { __scopeMenu, open = false, children, dir, onOpenChange, modal = true } = props;\n  const popperScope = usePopperScope(__scopeMenu);\n  const [content, setContent] = React.useState<MenuContentElement | null>(null);\n  const isUsingKeyboardRef = React.useRef(false);\n  const handleOpenChange = useCallbackRef(onOpenChange);\n  const direction = useDirection(dir);\n\n  React.useEffect(() => {\n    // Capture phase ensures we set the boolean before any side effects execute\n    // in response to the key or pointer event as they might depend on this value.\n    const handleKeyDown = () => {\n      isUsingKeyboardRef.current = true;\n      document.addEventListener('pointerdown', handlePointer, { capture: true, once: true });\n      document.addEventListener('pointermove', handlePointer, { capture: true, once: true });\n    };\n    const handlePointer = () => (isUsingKeyboardRef.current = false);\n    document.addEventListener('keydown', handleKeyDown, { capture: true });\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown, { capture: true });\n      document.removeEventListener('pointerdown', handlePointer, { capture: true });\n      document.removeEventListener('pointermove', handlePointer, { capture: true });\n    };\n  }, []);\n\n  return (\n    <PopperPrimitive.Root {...popperScope}>\n      <MenuProvider\n        scope={__scopeMenu}\n        open={open}\n        onOpenChange={handleOpenChange}\n        content={content}\n        onContentChange={setContent}\n      >\n        <MenuRootProvider\n          scope={__scopeMenu}\n          onClose={React.useCallback(() => handleOpenChange(false), [handleOpenChange])}\n          isUsingKeyboardRef={isUsingKeyboardRef}\n          dir={direction}\n          modal={modal}\n        >\n          {children}\n        </MenuRootProvider>\n      </MenuProvider>\n    </PopperPrimitive.Root>\n  );\n};\n\nMenu.displayName = MENU_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuAnchor\n * -----------------------------------------------------------------------------------------------*/\n\nconst ANCHOR_NAME = 'MenuAnchor';\n\ntype MenuAnchorElement = React.ComponentRef<typeof PopperPrimitive.Anchor>;\ntype PopperAnchorProps = React.ComponentPropsWithoutRef<typeof PopperPrimitive.Anchor>;\ninterface MenuAnchorProps extends PopperAnchorProps {}\n\nconst MenuAnchor = React.forwardRef<MenuAnchorElement, MenuAnchorProps>(\n  (props: ScopedProps<MenuAnchorProps>, forwardedRef) => {\n    const { __scopeMenu, ...anchorProps } = props;\n    const popperScope = usePopperScope(__scopeMenu);\n    return <PopperPrimitive.Anchor {...popperScope} {...anchorProps} ref={forwardedRef} />;\n  }\n);\n\nMenuAnchor.displayName = ANCHOR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuPortal\n * -----------------------------------------------------------------------------------------------*/\n\nconst PORTAL_NAME = 'MenuPortal';\n\ntype PortalContextValue = { forceMount?: true };\nconst [PortalProvider, usePortalContext] = createMenuContext<PortalContextValue>(PORTAL_NAME, {\n  forceMount: undefined,\n});\n\ntype PortalProps = React.ComponentPropsWithoutRef<typeof PortalPrimitive>;\ninterface MenuPortalProps {\n  children?: React.ReactNode;\n  /**\n   * Specify a container element to portal the content into.\n   */\n  container?: PortalProps['container'];\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst MenuPortal: React.FC<MenuPortalProps> = (props: ScopedProps<MenuPortalProps>) => {\n  const { __scopeMenu, forceMount, children, container } = props;\n  const context = useMenuContext(PORTAL_NAME, __scopeMenu);\n  return (\n    <PortalProvider scope={__scopeMenu} forceMount={forceMount}>\n      <Presence present={forceMount || context.open}>\n        <PortalPrimitive asChild container={container}>\n          {children}\n        </PortalPrimitive>\n      </Presence>\n    </PortalProvider>\n  );\n};\n\nMenuPortal.displayName = PORTAL_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuContent\n * -----------------------------------------------------------------------------------------------*/\n\nconst CONTENT_NAME = 'MenuContent';\n\ntype MenuContentContextValue = {\n  onItemEnter(event: React.PointerEvent): void;\n  onItemLeave(event: React.PointerEvent): void;\n  onTriggerLeave(event: React.PointerEvent): void;\n  searchRef: React.RefObject<string>;\n  pointerGraceTimerRef: React.MutableRefObject<number>;\n  onPointerGraceIntentChange(intent: GraceIntent | null): void;\n};\nconst [MenuContentProvider, useMenuContentContext] =\n  createMenuContext<MenuContentContextValue>(CONTENT_NAME);\n\ntype MenuContentElement = MenuRootContentTypeElement;\n/**\n * We purposefully don't union MenuRootContent and MenuSubContent props here because\n * they have conflicting prop types. We agreed that we would allow MenuSubContent to\n * accept props that it would just ignore.\n */\ninterface MenuContentProps extends MenuRootContentTypeProps {\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst MenuContent = React.forwardRef<MenuContentElement, MenuContentProps>(\n  (props: ScopedProps<MenuContentProps>, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopeMenu);\n    const { forceMount = portalContext.forceMount, ...contentProps } = props;\n    const context = useMenuContext(CONTENT_NAME, props.__scopeMenu);\n    const rootContext = useMenuRootContext(CONTENT_NAME, props.__scopeMenu);\n\n    return (\n      <Collection.Provider scope={props.__scopeMenu}>\n        <Presence present={forceMount || context.open}>\n          <Collection.Slot scope={props.__scopeMenu}>\n            {rootContext.modal ? (\n              <MenuRootContentModal {...contentProps} ref={forwardedRef} />\n            ) : (\n              <MenuRootContentNonModal {...contentProps} ref={forwardedRef} />\n            )}\n          </Collection.Slot>\n        </Presence>\n      </Collection.Provider>\n    );\n  }\n);\n\n/* ---------------------------------------------------------------------------------------------- */\n\ntype MenuRootContentTypeElement = MenuContentImplElement;\ninterface MenuRootContentTypeProps\n  extends Omit<MenuContentImplProps, keyof MenuContentImplPrivateProps> {}\n\nconst MenuRootContentModal = React.forwardRef<MenuRootContentTypeElement, MenuRootContentTypeProps>(\n  (props: ScopedProps<MenuRootContentTypeProps>, forwardedRef) => {\n    const context = useMenuContext(CONTENT_NAME, props.__scopeMenu);\n    const ref = React.useRef<MenuRootContentTypeElement>(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n\n    // Hide everything from ARIA except the `MenuContent`\n    React.useEffect(() => {\n      const content = ref.current;\n      if (content) return hideOthers(content);\n    }, []);\n\n    return (\n      <MenuContentImpl\n        {...props}\n        ref={composedRefs}\n        // we make sure we're not trapping once it's been closed\n        // (closed !== unmounted when animating out)\n        trapFocus={context.open}\n        // make sure to only disable pointer events when open\n        // this avoids blocking interactions while animating out\n        disableOutsidePointerEvents={context.open}\n        disableOutsideScroll\n        // When focus is trapped, a `focusout` event may still happen.\n        // We make sure we don't trigger our `onDismiss` in such case.\n        onFocusOutside={composeEventHandlers(\n          props.onFocusOutside,\n          (event) => event.preventDefault(),\n          { checkForDefaultPrevented: false }\n        )}\n        onDismiss={() => context.onOpenChange(false)}\n      />\n    );\n  }\n);\n\nconst MenuRootContentNonModal = React.forwardRef<\n  MenuRootContentTypeElement,\n  MenuRootContentTypeProps\n>((props: ScopedProps<MenuRootContentTypeProps>, forwardedRef) => {\n  const context = useMenuContext(CONTENT_NAME, props.__scopeMenu);\n  return (\n    <MenuContentImpl\n      {...props}\n      ref={forwardedRef}\n      trapFocus={false}\n      disableOutsidePointerEvents={false}\n      disableOutsideScroll={false}\n      onDismiss={() => context.onOpenChange(false)}\n    />\n  );\n});\n\n/* ---------------------------------------------------------------------------------------------- */\n\ntype MenuContentImplElement = React.ComponentRef<typeof PopperPrimitive.Content>;\ntype FocusScopeProps = React.ComponentPropsWithoutRef<typeof FocusScope>;\ntype DismissableLayerProps = React.ComponentPropsWithoutRef<typeof DismissableLayer>;\ntype RovingFocusGroupProps = React.ComponentPropsWithoutRef<typeof RovingFocusGroup.Root>;\ntype PopperContentProps = React.ComponentPropsWithoutRef<typeof PopperPrimitive.Content>;\ntype MenuContentImplPrivateProps = {\n  onOpenAutoFocus?: FocusScopeProps['onMountAutoFocus'];\n  onDismiss?: DismissableLayerProps['onDismiss'];\n  disableOutsidePointerEvents?: DismissableLayerProps['disableOutsidePointerEvents'];\n\n  /**\n   * Whether scrolling outside the `MenuContent` should be prevented\n   * (default: `false`)\n   */\n  disableOutsideScroll?: boolean;\n\n  /**\n   * Whether focus should be trapped within the `MenuContent`\n   * (default: false)\n   */\n  trapFocus?: FocusScopeProps['trapped'];\n};\ninterface MenuContentImplProps\n  extends MenuContentImplPrivateProps,\n    Omit<PopperContentProps, 'dir' | 'onPlaced'> {\n  /**\n   * Event handler called when auto-focusing on close.\n   * Can be prevented.\n   */\n  onCloseAutoFocus?: FocusScopeProps['onUnmountAutoFocus'];\n\n  /**\n   * Whether keyboard navigation should loop around\n   * @defaultValue false\n   */\n  loop?: RovingFocusGroupProps['loop'];\n\n  onEntryFocus?: RovingFocusGroupProps['onEntryFocus'];\n  onEscapeKeyDown?: DismissableLayerProps['onEscapeKeyDown'];\n  onPointerDownOutside?: DismissableLayerProps['onPointerDownOutside'];\n  onFocusOutside?: DismissableLayerProps['onFocusOutside'];\n  onInteractOutside?: DismissableLayerProps['onInteractOutside'];\n}\n\nconst Slot = createSlot('MenuContent.ScrollLock');\n\nconst MenuContentImpl = React.forwardRef<MenuContentImplElement, MenuContentImplProps>(\n  (props: ScopedProps<MenuContentImplProps>, forwardedRef) => {\n    const {\n      __scopeMenu,\n      loop = false,\n      trapFocus,\n      onOpenAutoFocus,\n      onCloseAutoFocus,\n      disableOutsidePointerEvents,\n      onEntryFocus,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      onFocusOutside,\n      onInteractOutside,\n      onDismiss,\n      disableOutsideScroll,\n      ...contentProps\n    } = props;\n    const context = useMenuContext(CONTENT_NAME, __scopeMenu);\n    const rootContext = useMenuRootContext(CONTENT_NAME, __scopeMenu);\n    const popperScope = usePopperScope(__scopeMenu);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeMenu);\n    const getItems = useCollection(__scopeMenu);\n    const [currentItemId, setCurrentItemId] = React.useState<string | null>(null);\n    const contentRef = React.useRef<HTMLDivElement>(null);\n    const composedRefs = useComposedRefs(forwardedRef, contentRef, context.onContentChange);\n    const timerRef = React.useRef(0);\n    const searchRef = React.useRef('');\n    const pointerGraceTimerRef = React.useRef(0);\n    const pointerGraceIntentRef = React.useRef<GraceIntent | null>(null);\n    const pointerDirRef = React.useRef<Side>('right');\n    const lastPointerXRef = React.useRef(0);\n\n    const ScrollLockWrapper = disableOutsideScroll ? RemoveScroll : React.Fragment;\n    const scrollLockWrapperProps = disableOutsideScroll\n      ? { as: Slot, allowPinchZoom: true }\n      : undefined;\n\n    const handleTypeaheadSearch = (key: string) => {\n      const search = searchRef.current + key;\n      const items = getItems().filter((item) => !item.disabled);\n      const currentItem = document.activeElement;\n      const currentMatch = items.find((item) => item.ref.current === currentItem)?.textValue;\n      const values = items.map((item) => item.textValue);\n      const nextMatch = getNextMatch(values, search, currentMatch);\n      const newItem = items.find((item) => item.textValue === nextMatch)?.ref.current;\n\n      // Reset `searchRef` 1 second after it was last updated\n      (function updateSearch(value: string) {\n        searchRef.current = value;\n        window.clearTimeout(timerRef.current);\n        if (value !== '') timerRef.current = window.setTimeout(() => updateSearch(''), 1000);\n      })(search);\n\n      if (newItem) {\n        /**\n         * Imperative focus during keydown is risky so we prevent React's batching updates\n         * to avoid potential bugs. See: https://github.com/facebook/react/issues/20332\n         */\n        setTimeout(() => (newItem as HTMLElement).focus());\n      }\n    };\n\n    React.useEffect(() => {\n      return () => window.clearTimeout(timerRef.current);\n    }, []);\n\n    // Make sure the whole tree has focus guards as our `MenuContent` may be\n    // the last element in the DOM (because of the `Portal`)\n    useFocusGuards();\n\n    const isPointerMovingToSubmenu = React.useCallback((event: React.PointerEvent) => {\n      const isMovingTowards = pointerDirRef.current === pointerGraceIntentRef.current?.side;\n      return isMovingTowards && isPointerInGraceArea(event, pointerGraceIntentRef.current?.area);\n    }, []);\n\n    return (\n      <MenuContentProvider\n        scope={__scopeMenu}\n        searchRef={searchRef}\n        onItemEnter={React.useCallback(\n          (event) => {\n            if (isPointerMovingToSubmenu(event)) event.preventDefault();\n          },\n          [isPointerMovingToSubmenu]\n        )}\n        onItemLeave={React.useCallback(\n          (event) => {\n            if (isPointerMovingToSubmenu(event)) return;\n            contentRef.current?.focus();\n            setCurrentItemId(null);\n          },\n          [isPointerMovingToSubmenu]\n        )}\n        onTriggerLeave={React.useCallback(\n          (event) => {\n            if (isPointerMovingToSubmenu(event)) event.preventDefault();\n          },\n          [isPointerMovingToSubmenu]\n        )}\n        pointerGraceTimerRef={pointerGraceTimerRef}\n        onPointerGraceIntentChange={React.useCallback((intent) => {\n          pointerGraceIntentRef.current = intent;\n        }, [])}\n      >\n        <ScrollLockWrapper {...scrollLockWrapperProps}>\n          <FocusScope\n            asChild\n            trapped={trapFocus}\n            onMountAutoFocus={composeEventHandlers(onOpenAutoFocus, (event) => {\n              // when opening, explicitly focus the content area only and leave\n              // `onEntryFocus` in  control of focusing first item\n              event.preventDefault();\n              contentRef.current?.focus({ preventScroll: true });\n            })}\n            onUnmountAutoFocus={onCloseAutoFocus}\n          >\n            <DismissableLayer\n              asChild\n              disableOutsidePointerEvents={disableOutsidePointerEvents}\n              onEscapeKeyDown={onEscapeKeyDown}\n              onPointerDownOutside={onPointerDownOutside}\n              onFocusOutside={onFocusOutside}\n              onInteractOutside={onInteractOutside}\n              onDismiss={onDismiss}\n            >\n              <RovingFocusGroup.Root\n                asChild\n                {...rovingFocusGroupScope}\n                dir={rootContext.dir}\n                orientation=\"vertical\"\n                loop={loop}\n                currentTabStopId={currentItemId}\n                onCurrentTabStopIdChange={setCurrentItemId}\n                onEntryFocus={composeEventHandlers(onEntryFocus, (event) => {\n                  // only focus first item when using keyboard\n                  if (!rootContext.isUsingKeyboardRef.current) event.preventDefault();\n                })}\n                preventScrollOnEntryFocus\n              >\n                <PopperPrimitive.Content\n                  role=\"menu\"\n                  aria-orientation=\"vertical\"\n                  data-state={getOpenState(context.open)}\n                  data-radix-menu-content=\"\"\n                  dir={rootContext.dir}\n                  {...popperScope}\n                  {...contentProps}\n                  ref={composedRefs}\n                  style={{ outline: 'none', ...contentProps.style }}\n                  onKeyDown={composeEventHandlers(contentProps.onKeyDown, (event) => {\n                    // submenu key events bubble through portals. We only care about keys in this menu.\n                    const target = event.target as HTMLElement;\n                    const isKeyDownInside =\n                      target.closest('[data-radix-menu-content]') === event.currentTarget;\n                    const isModifierKey = event.ctrlKey || event.altKey || event.metaKey;\n                    const isCharacterKey = event.key.length === 1;\n                    if (isKeyDownInside) {\n                      // menus should not be navigated using tab key so we prevent it\n                      if (event.key === 'Tab') event.preventDefault();\n                      if (!isModifierKey && isCharacterKey) handleTypeaheadSearch(event.key);\n                    }\n                    // focus first/last item based on key pressed\n                    const content = contentRef.current;\n                    if (event.target !== content) return;\n                    if (!FIRST_LAST_KEYS.includes(event.key)) return;\n                    event.preventDefault();\n                    const items = getItems().filter((item) => !item.disabled);\n                    const candidateNodes = items.map((item) => item.ref.current!);\n                    if (LAST_KEYS.includes(event.key)) candidateNodes.reverse();\n                    focusFirst(candidateNodes);\n                  })}\n                  onBlur={composeEventHandlers(props.onBlur, (event) => {\n                    // clear search buffer when leaving the menu\n                    if (!event.currentTarget.contains(event.target)) {\n                      window.clearTimeout(timerRef.current);\n                      searchRef.current = '';\n                    }\n                  })}\n                  onPointerMove={composeEventHandlers(\n                    props.onPointerMove,\n                    whenMouse((event) => {\n                      const target = event.target as HTMLElement;\n                      const pointerXHasChanged = lastPointerXRef.current !== event.clientX;\n\n                      // We don't use `event.movementX` for this check because Safari will\n                      // always return `0` on a pointer event.\n                      if (event.currentTarget.contains(target) && pointerXHasChanged) {\n                        const newDir = event.clientX > lastPointerXRef.current ? 'right' : 'left';\n                        pointerDirRef.current = newDir;\n                        lastPointerXRef.current = event.clientX;\n                      }\n                    })\n                  )}\n                />\n              </RovingFocusGroup.Root>\n            </DismissableLayer>\n          </FocusScope>\n        </ScrollLockWrapper>\n      </MenuContentProvider>\n    );\n  }\n);\n\nMenuContent.displayName = CONTENT_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuGroup\n * -----------------------------------------------------------------------------------------------*/\n\nconst GROUP_NAME = 'MenuGroup';\n\ntype MenuGroupElement = React.ComponentRef<typeof Primitive.div>;\ntype PrimitiveDivProps = React.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface MenuGroupProps extends PrimitiveDivProps {}\n\nconst MenuGroup = React.forwardRef<MenuGroupElement, MenuGroupProps>(\n  (props: ScopedProps<MenuGroupProps>, forwardedRef) => {\n    const { __scopeMenu, ...groupProps } = props;\n    return <Primitive.div role=\"group\" {...groupProps} ref={forwardedRef} />;\n  }\n);\n\nMenuGroup.displayName = GROUP_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuLabel\n * -----------------------------------------------------------------------------------------------*/\n\nconst LABEL_NAME = 'MenuLabel';\n\ntype MenuLabelElement = React.ComponentRef<typeof Primitive.div>;\ninterface MenuLabelProps extends PrimitiveDivProps {}\n\nconst MenuLabel = React.forwardRef<MenuLabelElement, MenuLabelProps>(\n  (props: ScopedProps<MenuLabelProps>, forwardedRef) => {\n    const { __scopeMenu, ...labelProps } = props;\n    return <Primitive.div {...labelProps} ref={forwardedRef} />;\n  }\n);\n\nMenuLabel.displayName = LABEL_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuItem\n * -----------------------------------------------------------------------------------------------*/\n\nconst ITEM_NAME = 'MenuItem';\nconst ITEM_SELECT = 'menu.itemSelect';\n\ntype MenuItemElement = MenuItemImplElement;\ninterface MenuItemProps extends Omit<MenuItemImplProps, 'onSelect'> {\n  onSelect?: (event: Event) => void;\n}\n\nconst MenuItem = React.forwardRef<MenuItemElement, MenuItemProps>(\n  (props: ScopedProps<MenuItemProps>, forwardedRef) => {\n    const { disabled = false, onSelect, ...itemProps } = props;\n    const ref = React.useRef<HTMLDivElement>(null);\n    const rootContext = useMenuRootContext(ITEM_NAME, props.__scopeMenu);\n    const contentContext = useMenuContentContext(ITEM_NAME, props.__scopeMenu);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const isPointerDownRef = React.useRef(false);\n\n    const handleSelect = () => {\n      const menuItem = ref.current;\n      if (!disabled && menuItem) {\n        const itemSelectEvent = new CustomEvent(ITEM_SELECT, { bubbles: true, cancelable: true });\n        menuItem.addEventListener(ITEM_SELECT, (event) => onSelect?.(event), { once: true });\n        dispatchDiscreteCustomEvent(menuItem, itemSelectEvent);\n        if (itemSelectEvent.defaultPrevented) {\n          isPointerDownRef.current = false;\n        } else {\n          rootContext.onClose();\n        }\n      }\n    };\n\n    return (\n      <MenuItemImpl\n        {...itemProps}\n        ref={composedRefs}\n        disabled={disabled}\n        onClick={composeEventHandlers(props.onClick, handleSelect)}\n        onPointerDown={(event) => {\n          props.onPointerDown?.(event);\n          isPointerDownRef.current = true;\n        }}\n        onPointerUp={composeEventHandlers(props.onPointerUp, (event) => {\n          // Pointer down can move to a different menu item which should activate it on pointer up.\n          // We dispatch a click for selection to allow composition with click based triggers and to\n          // prevent Firefox from getting stuck in text selection mode when the menu closes.\n          if (!isPointerDownRef.current) event.currentTarget?.click();\n        })}\n        onKeyDown={composeEventHandlers(props.onKeyDown, (event) => {\n          const isTypingAhead = contentContext.searchRef.current !== '';\n          if (disabled || (isTypingAhead && event.key === ' ')) return;\n          if (SELECTION_KEYS.includes(event.key)) {\n            event.currentTarget.click();\n            /**\n             * We prevent default browser behaviour for selection keys as they should trigger\n             * a selection only:\n             * - prevents space from scrolling the page.\n             * - if keydown causes focus to move, prevents keydown from firing on the new target.\n             */\n            event.preventDefault();\n          }\n        })}\n      />\n    );\n  }\n);\n\nMenuItem.displayName = ITEM_NAME;\n\n/* ---------------------------------------------------------------------------------------------- */\n\ntype MenuItemImplElement = React.ComponentRef<typeof Primitive.div>;\ninterface MenuItemImplProps extends PrimitiveDivProps {\n  disabled?: boolean;\n  textValue?: string;\n}\n\nconst MenuItemImpl = React.forwardRef<MenuItemImplElement, MenuItemImplProps>(\n  (props: ScopedProps<MenuItemImplProps>, forwardedRef) => {\n    const { __scopeMenu, disabled = false, textValue, ...itemProps } = props;\n    const contentContext = useMenuContentContext(ITEM_NAME, __scopeMenu);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeMenu);\n    const ref = React.useRef<HTMLDivElement>(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const [isFocused, setIsFocused] = React.useState(false);\n\n    // get the item's `.textContent` as default strategy for typeahead `textValue`\n    const [textContent, setTextContent] = React.useState('');\n    React.useEffect(() => {\n      const menuItem = ref.current;\n      if (menuItem) {\n        setTextContent((menuItem.textContent ?? '').trim());\n      }\n    }, [itemProps.children]);\n\n    return (\n      <Collection.ItemSlot\n        scope={__scopeMenu}\n        disabled={disabled}\n        textValue={textValue ?? textContent}\n      >\n        <RovingFocusGroup.Item asChild {...rovingFocusGroupScope} focusable={!disabled}>\n          <Primitive.div\n            role=\"menuitem\"\n            data-highlighted={isFocused ? '' : undefined}\n            aria-disabled={disabled || undefined}\n            data-disabled={disabled ? '' : undefined}\n            {...itemProps}\n            ref={composedRefs}\n            /**\n             * We focus items on `pointerMove` to achieve the following:\n             *\n             * - Mouse over an item (it focuses)\n             * - Leave mouse where it is and use keyboard to focus a different item\n             * - Wiggle mouse without it leaving previously focused item\n             * - Previously focused item should re-focus\n             *\n             * If we used `mouseOver`/`mouseEnter` it would not re-focus when the mouse\n             * wiggles. This is to match native menu implementation.\n             */\n            onPointerMove={composeEventHandlers(\n              props.onPointerMove,\n              whenMouse((event) => {\n                if (disabled) {\n                  contentContext.onItemLeave(event);\n                } else {\n                  contentContext.onItemEnter(event);\n                  if (!event.defaultPrevented) {\n                    const item = event.currentTarget;\n                    item.focus({ preventScroll: true });\n                  }\n                }\n              })\n            )}\n            onPointerLeave={composeEventHandlers(\n              props.onPointerLeave,\n              whenMouse((event) => contentContext.onItemLeave(event))\n            )}\n            onFocus={composeEventHandlers(props.onFocus, () => setIsFocused(true))}\n            onBlur={composeEventHandlers(props.onBlur, () => setIsFocused(false))}\n          />\n        </RovingFocusGroup.Item>\n      </Collection.ItemSlot>\n    );\n  }\n);\n\n/* -------------------------------------------------------------------------------------------------\n * MenuCheckboxItem\n * -----------------------------------------------------------------------------------------------*/\n\nconst CHECKBOX_ITEM_NAME = 'MenuCheckboxItem';\n\ntype MenuCheckboxItemElement = MenuItemElement;\n\ntype CheckedState = boolean | 'indeterminate';\n\ninterface MenuCheckboxItemProps extends MenuItemProps {\n  checked?: CheckedState;\n  // `onCheckedChange` can never be called with `\"indeterminate\"` from the inside\n  onCheckedChange?: (checked: boolean) => void;\n}\n\nconst MenuCheckboxItem = React.forwardRef<MenuCheckboxItemElement, MenuCheckboxItemProps>(\n  (props: ScopedProps<MenuCheckboxItemProps>, forwardedRef) => {\n    const { checked = false, onCheckedChange, ...checkboxItemProps } = props;\n    return (\n      <ItemIndicatorProvider scope={props.__scopeMenu} checked={checked}>\n        <MenuItem\n          role=\"menuitemcheckbox\"\n          aria-checked={isIndeterminate(checked) ? 'mixed' : checked}\n          {...checkboxItemProps}\n          ref={forwardedRef}\n          data-state={getCheckedState(checked)}\n          onSelect={composeEventHandlers(\n            checkboxItemProps.onSelect,\n            () => onCheckedChange?.(isIndeterminate(checked) ? true : !checked),\n            { checkForDefaultPrevented: false }\n          )}\n        />\n      </ItemIndicatorProvider>\n    );\n  }\n);\n\nMenuCheckboxItem.displayName = CHECKBOX_ITEM_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuRadioGroup\n * -----------------------------------------------------------------------------------------------*/\n\nconst RADIO_GROUP_NAME = 'MenuRadioGroup';\n\nconst [RadioGroupProvider, useRadioGroupContext] = createMenuContext<MenuRadioGroupProps>(\n  RADIO_GROUP_NAME,\n  { value: undefined, onValueChange: () => {} }\n);\n\ntype MenuRadioGroupElement = React.ComponentRef<typeof MenuGroup>;\ninterface MenuRadioGroupProps extends MenuGroupProps {\n  value?: string;\n  onValueChange?: (value: string) => void;\n}\n\nconst MenuRadioGroup = React.forwardRef<MenuRadioGroupElement, MenuRadioGroupProps>(\n  (props: ScopedProps<MenuRadioGroupProps>, forwardedRef) => {\n    const { value, onValueChange, ...groupProps } = props;\n    const handleValueChange = useCallbackRef(onValueChange);\n    return (\n      <RadioGroupProvider scope={props.__scopeMenu} value={value} onValueChange={handleValueChange}>\n        <MenuGroup {...groupProps} ref={forwardedRef} />\n      </RadioGroupProvider>\n    );\n  }\n);\n\nMenuRadioGroup.displayName = RADIO_GROUP_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuRadioItem\n * -----------------------------------------------------------------------------------------------*/\n\nconst RADIO_ITEM_NAME = 'MenuRadioItem';\n\ntype MenuRadioItemElement = React.ComponentRef<typeof MenuItem>;\ninterface MenuRadioItemProps extends MenuItemProps {\n  value: string;\n}\n\nconst MenuRadioItem = React.forwardRef<MenuRadioItemElement, MenuRadioItemProps>(\n  (props: ScopedProps<MenuRadioItemProps>, forwardedRef) => {\n    const { value, ...radioItemProps } = props;\n    const context = useRadioGroupContext(RADIO_ITEM_NAME, props.__scopeMenu);\n    const checked = value === context.value;\n    return (\n      <ItemIndicatorProvider scope={props.__scopeMenu} checked={checked}>\n        <MenuItem\n          role=\"menuitemradio\"\n          aria-checked={checked}\n          {...radioItemProps}\n          ref={forwardedRef}\n          data-state={getCheckedState(checked)}\n          onSelect={composeEventHandlers(\n            radioItemProps.onSelect,\n            () => context.onValueChange?.(value),\n            { checkForDefaultPrevented: false }\n          )}\n        />\n      </ItemIndicatorProvider>\n    );\n  }\n);\n\nMenuRadioItem.displayName = RADIO_ITEM_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuItemIndicator\n * -----------------------------------------------------------------------------------------------*/\n\nconst ITEM_INDICATOR_NAME = 'MenuItemIndicator';\n\ntype CheckboxContextValue = { checked: CheckedState };\n\nconst [ItemIndicatorProvider, useItemIndicatorContext] = createMenuContext<CheckboxContextValue>(\n  ITEM_INDICATOR_NAME,\n  { checked: false }\n);\n\ntype MenuItemIndicatorElement = React.ComponentRef<typeof Primitive.span>;\ntype PrimitiveSpanProps = React.ComponentPropsWithoutRef<typeof Primitive.span>;\ninterface MenuItemIndicatorProps extends PrimitiveSpanProps {\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst MenuItemIndicator = React.forwardRef<MenuItemIndicatorElement, MenuItemIndicatorProps>(\n  (props: ScopedProps<MenuItemIndicatorProps>, forwardedRef) => {\n    const { __scopeMenu, forceMount, ...itemIndicatorProps } = props;\n    const indicatorContext = useItemIndicatorContext(ITEM_INDICATOR_NAME, __scopeMenu);\n    return (\n      <Presence\n        present={\n          forceMount ||\n          isIndeterminate(indicatorContext.checked) ||\n          indicatorContext.checked === true\n        }\n      >\n        <Primitive.span\n          {...itemIndicatorProps}\n          ref={forwardedRef}\n          data-state={getCheckedState(indicatorContext.checked)}\n        />\n      </Presence>\n    );\n  }\n);\n\nMenuItemIndicator.displayName = ITEM_INDICATOR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuSeparator\n * -----------------------------------------------------------------------------------------------*/\n\nconst SEPARATOR_NAME = 'MenuSeparator';\n\ntype MenuSeparatorElement = React.ComponentRef<typeof Primitive.div>;\ninterface MenuSeparatorProps extends PrimitiveDivProps {}\n\nconst MenuSeparator = React.forwardRef<MenuSeparatorElement, MenuSeparatorProps>(\n  (props: ScopedProps<MenuSeparatorProps>, forwardedRef) => {\n    const { __scopeMenu, ...separatorProps } = props;\n    return (\n      <Primitive.div\n        role=\"separator\"\n        aria-orientation=\"horizontal\"\n        {...separatorProps}\n        ref={forwardedRef}\n      />\n    );\n  }\n);\n\nMenuSeparator.displayName = SEPARATOR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuArrow\n * -----------------------------------------------------------------------------------------------*/\n\nconst ARROW_NAME = 'MenuArrow';\n\ntype MenuArrowElement = React.ComponentRef<typeof PopperPrimitive.Arrow>;\ntype PopperArrowProps = React.ComponentPropsWithoutRef<typeof PopperPrimitive.Arrow>;\ninterface MenuArrowProps extends PopperArrowProps {}\n\nconst MenuArrow = React.forwardRef<MenuArrowElement, MenuArrowProps>(\n  (props: ScopedProps<MenuArrowProps>, forwardedRef) => {\n    const { __scopeMenu, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopeMenu);\n    return <PopperPrimitive.Arrow {...popperScope} {...arrowProps} ref={forwardedRef} />;\n  }\n);\n\nMenuArrow.displayName = ARROW_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuSub\n * -----------------------------------------------------------------------------------------------*/\n\nconst SUB_NAME = 'MenuSub';\n\ntype MenuSubContextValue = {\n  contentId: string;\n  triggerId: string;\n  trigger: MenuSubTriggerElement | null;\n  onTriggerChange(trigger: MenuSubTriggerElement | null): void;\n};\n\nconst [MenuSubProvider, useMenuSubContext] = createMenuContext<MenuSubContextValue>(SUB_NAME);\n\ninterface MenuSubProps {\n  children?: React.ReactNode;\n  open?: boolean;\n  onOpenChange?(open: boolean): void;\n}\n\nconst MenuSub: React.FC<MenuSubProps> = (props: ScopedProps<MenuSubProps>) => {\n  const { __scopeMenu, children, open = false, onOpenChange } = props;\n  const parentMenuContext = useMenuContext(SUB_NAME, __scopeMenu);\n  const popperScope = usePopperScope(__scopeMenu);\n  const [trigger, setTrigger] = React.useState<MenuSubTriggerElement | null>(null);\n  const [content, setContent] = React.useState<MenuContentElement | null>(null);\n  const handleOpenChange = useCallbackRef(onOpenChange);\n\n  // Prevent the parent menu from reopening with open submenus.\n  React.useEffect(() => {\n    if (parentMenuContext.open === false) handleOpenChange(false);\n    return () => handleOpenChange(false);\n  }, [parentMenuContext.open, handleOpenChange]);\n\n  return (\n    <PopperPrimitive.Root {...popperScope}>\n      <MenuProvider\n        scope={__scopeMenu}\n        open={open}\n        onOpenChange={handleOpenChange}\n        content={content}\n        onContentChange={setContent}\n      >\n        <MenuSubProvider\n          scope={__scopeMenu}\n          contentId={useId()}\n          triggerId={useId()}\n          trigger={trigger}\n          onTriggerChange={setTrigger}\n        >\n          {children}\n        </MenuSubProvider>\n      </MenuProvider>\n    </PopperPrimitive.Root>\n  );\n};\n\nMenuSub.displayName = SUB_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuSubTrigger\n * -----------------------------------------------------------------------------------------------*/\n\nconst SUB_TRIGGER_NAME = 'MenuSubTrigger';\n\ntype MenuSubTriggerElement = MenuItemImplElement;\ninterface MenuSubTriggerProps extends MenuItemImplProps {}\n\nconst MenuSubTrigger = React.forwardRef<MenuSubTriggerElement, MenuSubTriggerProps>(\n  (props: ScopedProps<MenuSubTriggerProps>, forwardedRef) => {\n    const context = useMenuContext(SUB_TRIGGER_NAME, props.__scopeMenu);\n    const rootContext = useMenuRootContext(SUB_TRIGGER_NAME, props.__scopeMenu);\n    const subContext = useMenuSubContext(SUB_TRIGGER_NAME, props.__scopeMenu);\n    const contentContext = useMenuContentContext(SUB_TRIGGER_NAME, props.__scopeMenu);\n    const openTimerRef = React.useRef<number | null>(null);\n    const { pointerGraceTimerRef, onPointerGraceIntentChange } = contentContext;\n    const scope = { __scopeMenu: props.__scopeMenu };\n\n    const clearOpenTimer = React.useCallback(() => {\n      if (openTimerRef.current) window.clearTimeout(openTimerRef.current);\n      openTimerRef.current = null;\n    }, []);\n\n    React.useEffect(() => clearOpenTimer, [clearOpenTimer]);\n\n    React.useEffect(() => {\n      const pointerGraceTimer = pointerGraceTimerRef.current;\n      return () => {\n        window.clearTimeout(pointerGraceTimer);\n        onPointerGraceIntentChange(null);\n      };\n    }, [pointerGraceTimerRef, onPointerGraceIntentChange]);\n\n    return (\n      <MenuAnchor asChild {...scope}>\n        <MenuItemImpl\n          id={subContext.triggerId}\n          aria-haspopup=\"menu\"\n          aria-expanded={context.open}\n          aria-controls={subContext.contentId}\n          data-state={getOpenState(context.open)}\n          {...props}\n          ref={composeRefs(forwardedRef, subContext.onTriggerChange)}\n          // This is redundant for mouse users but we cannot determine pointer type from\n          // click event and we cannot use pointerup event (see git history for reasons why)\n          onClick={(event) => {\n            props.onClick?.(event);\n            if (props.disabled || event.defaultPrevented) return;\n            /**\n             * We manually focus because iOS Safari doesn't always focus on click (e.g. buttons)\n             * and we rely heavily on `onFocusOutside` for submenus to close when switching\n             * between separate submenus.\n             */\n            event.currentTarget.focus();\n            if (!context.open) context.onOpenChange(true);\n          }}\n          onPointerMove={composeEventHandlers(\n            props.onPointerMove,\n            whenMouse((event) => {\n              contentContext.onItemEnter(event);\n              if (event.defaultPrevented) return;\n              if (!props.disabled && !context.open && !openTimerRef.current) {\n                contentContext.onPointerGraceIntentChange(null);\n                openTimerRef.current = window.setTimeout(() => {\n                  context.onOpenChange(true);\n                  clearOpenTimer();\n                }, 100);\n              }\n            })\n          )}\n          onPointerLeave={composeEventHandlers(\n            props.onPointerLeave,\n            whenMouse((event) => {\n              clearOpenTimer();\n\n              const contentRect = context.content?.getBoundingClientRect();\n              if (contentRect) {\n                // TODO: make sure to update this when we change positioning logic\n                const side = context.content?.dataset.side as Side;\n                const rightSide = side === 'right';\n                const bleed = rightSide ? -5 : +5;\n                const contentNearEdge = contentRect[rightSide ? 'left' : 'right'];\n                const contentFarEdge = contentRect[rightSide ? 'right' : 'left'];\n\n                contentContext.onPointerGraceIntentChange({\n                  area: [\n                    // Apply a bleed on clientX to ensure that our exit point is\n                    // consistently within polygon bounds\n                    { x: event.clientX + bleed, y: event.clientY },\n                    { x: contentNearEdge, y: contentRect.top },\n                    { x: contentFarEdge, y: contentRect.top },\n                    { x: contentFarEdge, y: contentRect.bottom },\n                    { x: contentNearEdge, y: contentRect.bottom },\n                  ],\n                  side,\n                });\n\n                window.clearTimeout(pointerGraceTimerRef.current);\n                pointerGraceTimerRef.current = window.setTimeout(\n                  () => contentContext.onPointerGraceIntentChange(null),\n                  300\n                );\n              } else {\n                contentContext.onTriggerLeave(event);\n                if (event.defaultPrevented) return;\n\n                // There's 100ms where the user may leave an item before the submenu was opened.\n                contentContext.onPointerGraceIntentChange(null);\n              }\n            })\n          )}\n          onKeyDown={composeEventHandlers(props.onKeyDown, (event) => {\n            const isTypingAhead = contentContext.searchRef.current !== '';\n            if (props.disabled || (isTypingAhead && event.key === ' ')) return;\n            if (SUB_OPEN_KEYS[rootContext.dir].includes(event.key)) {\n              context.onOpenChange(true);\n              // The trigger may hold focus if opened via pointer interaction\n              // so we ensure content is given focus again when switching to keyboard.\n              context.content?.focus();\n              // prevent window from scrolling\n              event.preventDefault();\n            }\n          })}\n        />\n      </MenuAnchor>\n    );\n  }\n);\n\nMenuSubTrigger.displayName = SUB_TRIGGER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * MenuSubContent\n * -----------------------------------------------------------------------------------------------*/\n\nconst SUB_CONTENT_NAME = 'MenuSubContent';\n\ntype MenuSubContentElement = MenuContentImplElement;\ninterface MenuSubContentProps\n  extends Omit<\n    MenuContentImplProps,\n    keyof MenuContentImplPrivateProps | 'onCloseAutoFocus' | 'onEntryFocus' | 'side' | 'align'\n  > {\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst MenuSubContent = React.forwardRef<MenuSubContentElement, MenuSubContentProps>(\n  (props: ScopedProps<MenuSubContentProps>, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopeMenu);\n    const { forceMount = portalContext.forceMount, ...subContentProps } = props;\n    const context = useMenuContext(CONTENT_NAME, props.__scopeMenu);\n    const rootContext = useMenuRootContext(CONTENT_NAME, props.__scopeMenu);\n    const subContext = useMenuSubContext(SUB_CONTENT_NAME, props.__scopeMenu);\n    const ref = React.useRef<MenuSubContentElement>(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    return (\n      <Collection.Provider scope={props.__scopeMenu}>\n        <Presence present={forceMount || context.open}>\n          <Collection.Slot scope={props.__scopeMenu}>\n            <MenuContentImpl\n              id={subContext.contentId}\n              aria-labelledby={subContext.triggerId}\n              {...subContentProps}\n              ref={composedRefs}\n              align=\"start\"\n              side={rootContext.dir === 'rtl' ? 'left' : 'right'}\n              disableOutsidePointerEvents={false}\n              disableOutsideScroll={false}\n              trapFocus={false}\n              onOpenAutoFocus={(event) => {\n                // when opening a submenu, focus content for keyboard users only\n                if (rootContext.isUsingKeyboardRef.current) ref.current?.focus();\n                event.preventDefault();\n              }}\n              // The menu might close because of focusing another menu item in the parent menu. We\n              // don't want it to refocus the trigger in that case so we handle trigger focus ourselves.\n              onCloseAutoFocus={(event) => event.preventDefault()}\n              onFocusOutside={composeEventHandlers(props.onFocusOutside, (event) => {\n                // We prevent closing when the trigger is focused to avoid triggering a re-open animation\n                // on pointer interaction.\n                if (event.target !== subContext.trigger) context.onOpenChange(false);\n              })}\n              onEscapeKeyDown={composeEventHandlers(props.onEscapeKeyDown, (event) => {\n                rootContext.onClose();\n                // ensure pressing escape in submenu doesn't escape full screen mode\n                event.preventDefault();\n              })}\n              onKeyDown={composeEventHandlers(props.onKeyDown, (event) => {\n                // Submenu key events bubble through portals. We only care about keys in this menu.\n                const isKeyDownInside = event.currentTarget.contains(event.target as HTMLElement);\n                const isCloseKey = SUB_CLOSE_KEYS[rootContext.dir].includes(event.key);\n                if (isKeyDownInside && isCloseKey) {\n                  context.onOpenChange(false);\n                  // We focus manually because we prevented it in `onCloseAutoFocus`\n                  subContext.trigger?.focus();\n                  // prevent window from scrolling\n                  event.preventDefault();\n                }\n              })}\n            />\n          </Collection.Slot>\n        </Presence>\n      </Collection.Provider>\n    );\n  }\n);\n\nMenuSubContent.displayName = SUB_CONTENT_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nfunction getOpenState(open: boolean) {\n  return open ? 'open' : 'closed';\n}\n\nfunction isIndeterminate(checked?: CheckedState): checked is 'indeterminate' {\n  return checked === 'indeterminate';\n}\n\nfunction getCheckedState(checked: CheckedState) {\n  return isIndeterminate(checked) ? 'indeterminate' : checked ? 'checked' : 'unchecked';\n}\n\nfunction focusFirst(candidates: HTMLElement[]) {\n  const PREVIOUSLY_FOCUSED_ELEMENT = document.activeElement;\n  for (const candidate of candidates) {\n    // if focus is already where we want to go, we don't want to keep going through the candidates\n    if (candidate === PREVIOUSLY_FOCUSED_ELEMENT) return;\n    candidate.focus();\n    if (document.activeElement !== PREVIOUSLY_FOCUSED_ELEMENT) return;\n  }\n}\n\n/**\n * Wraps an array around itself at a given start index\n * Example: `wrapArray(['a', 'b', 'c', 'd'], 2) === ['c', 'd', 'a', 'b']`\n */\nfunction wrapArray<T>(array: T[], startIndex: number) {\n  return array.map<T>((_, index) => array[(startIndex + index) % array.length]!);\n}\n\n/**\n * This is the \"meat\" of the typeahead matching logic. It takes in all the values,\n * the search and the current match, and returns the next match (or `undefined`).\n *\n * We normalize the search because if a user has repeatedly pressed a character,\n * we want the exact same behavior as if we only had that one character\n * (ie. cycle through options starting with that character)\n *\n * We also reorder the values by wrapping the array around the current match.\n * This is so we always look forward from the current match, and picking the first\n * match will always be the correct one.\n *\n * Finally, if the normalized search is exactly one character, we exclude the\n * current match from the values because otherwise it would be the first to match always\n * and focus would never move. This is as opposed to the regular case, where we\n * don't want focus to move if the current match still matches.\n */\nfunction getNextMatch(values: string[], search: string, currentMatch?: string) {\n  const isRepeated = search.length > 1 && Array.from(search).every((char) => char === search[0]);\n  const normalizedSearch = isRepeated ? search[0]! : search;\n  const currentMatchIndex = currentMatch ? values.indexOf(currentMatch) : -1;\n  let wrappedValues = wrapArray(values, Math.max(currentMatchIndex, 0));\n  const excludeCurrentMatch = normalizedSearch.length === 1;\n  if (excludeCurrentMatch) wrappedValues = wrappedValues.filter((v) => v !== currentMatch);\n  const nextMatch = wrappedValues.find((value) =>\n    value.toLowerCase().startsWith(normalizedSearch.toLowerCase())\n  );\n  return nextMatch !== currentMatch ? nextMatch : undefined;\n}\n\ntype Point = { x: number; y: number };\ntype Polygon = Point[];\ntype Side = 'left' | 'right';\ntype GraceIntent = { area: Polygon; side: Side };\n\n// Determine if a point is inside of a polygon.\n// Based on https://github.com/substack/point-in-polygon\nfunction isPointInPolygon(point: Point, polygon: Polygon) {\n  const { x, y } = point;\n  let inside = false;\n  for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n    const ii = polygon[i]!;\n    const jj = polygon[j]!;\n    const xi = ii.x;\n    const yi = ii.y;\n    const xj = jj.x;\n    const yj = jj.y;\n\n    // prettier-ignore\n    const intersect = ((yi > y) !== (yj > y)) && (x < (xj - xi) * (y - yi) / (yj - yi) + xi);\n    if (intersect) inside = !inside;\n  }\n\n  return inside;\n}\n\nfunction isPointerInGraceArea(event: React.PointerEvent, area?: Polygon) {\n  if (!area) return false;\n  const cursorPos = { x: event.clientX, y: event.clientY };\n  return isPointInPolygon(cursorPos, area);\n}\n\nfunction whenMouse<E>(handler: React.PointerEventHandler<E>): React.PointerEventHandler<E> {\n  return (event) => (event.pointerType === 'mouse' ? handler(event) : undefined);\n}\n\nconst Root = Menu;\nconst Anchor = MenuAnchor;\nconst Portal = MenuPortal;\nconst Content = MenuContent;\nconst Group = MenuGroup;\nconst Label = MenuLabel;\nconst Item = MenuItem;\nconst CheckboxItem = MenuCheckboxItem;\nconst RadioGroup = MenuRadioGroup;\nconst RadioItem = MenuRadioItem;\nconst ItemIndicator = MenuItemIndicator;\nconst Separator = MenuSeparator;\nconst Arrow = MenuArrow;\nconst Sub = MenuSub;\nconst SubTrigger = MenuSubTrigger;\nconst SubContent = MenuSubContent;\n\nexport {\n  createMenuScope,\n  //\n  Menu,\n  MenuAnchor,\n  MenuPortal,\n  MenuContent,\n  MenuGroup,\n  MenuLabel,\n  MenuItem,\n  MenuCheckboxItem,\n  MenuRadioGroup,\n  MenuRadioItem,\n  MenuItemIndicator,\n  MenuSeparator,\n  MenuArrow,\n  MenuSub,\n  MenuSubTrigger,\n  MenuSubContent,\n  //\n  Root,\n  Anchor,\n  Portal,\n  Content,\n  Group,\n  Label,\n  Item,\n  CheckboxItem,\n  RadioGroup,\n  RadioItem,\n  ItemIndicator,\n  Separator,\n  Arrow,\n  Sub,\n  SubTrigger,\n  SubContent,\n};\nexport type {\n  MenuProps,\n  MenuAnchorProps,\n  MenuPortalProps,\n  MenuContentProps,\n  MenuGroupProps,\n  MenuLabelProps,\n  MenuItemProps,\n  MenuCheckboxItemProps,\n  MenuRadioGroupProps,\n  MenuRadioItemProps,\n  MenuItemIndicatorProps,\n  MenuSeparatorProps,\n  MenuArrowProps,\n  MenuSubProps,\n  MenuSubTriggerProps,\n  MenuSubContentProps,\n};\n","import type { Proposal, ProposalItem, ProductVariant } from '../types/proposal';\nimport {\n  PROPOSAL_SECTION_IDS,\n  TEMPLATE_DEFAULT_ALLOWED_KEYS,\n  type ProposalSectionId,\n} from '../types/proposal-template';\n\nconst PROPOSAL_SECTIONS_SET = new Set<string>(PROPOSAL_SECTION_IDS);\n\nconst createId = (prefix: string): string => {\n  if (typeof crypto !== 'undefined' && typeof crypto.randomUUID === 'function') {\n    return `${prefix}-${crypto.randomUUID()}`;\n  }\n  return `${prefix}-${Date.now()}-${Math.random().toString(36).slice(2, 9)}`;\n};\n\nconst isObject = (value: unknown): value is Record<string, unknown> =>\n  typeof value === 'object' && value !== null && !Array.isArray(value);\n\nconst clone = <T>(value: T): T => {\n  if (value === undefined || value === null) return value;\n  return JSON.parse(JSON.stringify(value)) as T;\n};\n\nexport const sanitizeTemplateSections = (value: unknown): ProposalSectionId[] => {\n  if (!Array.isArray(value)) return [...PROPOSAL_SECTION_IDS];\n  const deduped = Array.from(\n    new Set(value.filter((section): section is ProposalSectionId => typeof section === 'string' && PROPOSAL_SECTIONS_SET.has(section))),\n  );\n  return deduped.length > 0 ? deduped : [...PROPOSAL_SECTION_IDS];\n};\n\nexport const sanitizeTemplateDefaults = (value: unknown): Partial<Proposal> => {\n  if (!isObject(value)) return {};\n  const sanitized: Record<string, unknown> = {};\n\n  for (const key of TEMPLATE_DEFAULT_ALLOWED_KEYS) {\n    if (!(key in value)) continue;\n    const candidate = value[key];\n    if (candidate !== undefined) {\n      sanitized[key] = clone(candidate);\n    }\n  }\n\n  return sanitized as Partial<Proposal>;\n};\n\nexport const buildTemplateFromProposal = (\n  proposal: Proposal,\n  sections: string[] | undefined,\n): { defaults: Partial<Proposal>; sections: ProposalSectionId[] } => ({\n  defaults: sanitizeTemplateDefaults(proposal),\n  sections: sanitizeTemplateSections(sections ?? proposal.visibleSections),\n});\n\nexport const rebaseTemplateIds = (defaults: Partial<Proposal>): Partial<Proposal> => {\n  const next = clone(defaults);\n  if (!next) return {};\n\n  if (Array.isArray(next.items)) {\n    next.items = next.items.map((item) => ({\n      ...item,\n      id: createId('item'),\n    })) as ProposalItem[];\n  }\n\n  if (Array.isArray(next.advantages)) {\n    next.advantages = next.advantages.map((advantage) => ({\n      ...advantage,\n      id: createId('adv'),\n    }));\n  }\n\n  if (Array.isArray(next.productVariants)) {\n    const variantIdMap = new Map<string, string>();\n\n    const rebasedVariants = next.productVariants.map((variant) => {\n      const oldVariantId = variant.id;\n      const newVariantId = createId('variant');\n      variantIdMap.set(oldVariantId, newVariantId);\n\n      const groupIdMap = new Map<string, string>();\n      const rows = Array.isArray(variant.rows) ? variant.rows : [];\n      for (const row of rows) {\n        if (row.type === 'group') {\n          groupIdMap.set(row.id, createId('group'));\n        }\n      }\n\n      const rebasedRows = rows.map((row) => {\n        if (row.type === 'group') {\n          const newGroupId = groupIdMap.get(row.id) ?? createId('group');\n          return {\n            ...row,\n            id: newGroupId,\n          };\n        }\n\n        return {\n          ...row,\n          id: createId('item'),\n          groupId: row.groupId ? groupIdMap.get(row.groupId) ?? undefined : undefined,\n        };\n      });\n\n      return {\n        ...variant,\n        id: newVariantId,\n        rows: rebasedRows,\n      };\n    });\n\n    const mappedActiveVariantId = next.activeVariantId\n      ? variantIdMap.get(next.activeVariantId) ?? rebasedVariants[0]?.id\n      : rebasedVariants[0]?.id;\n\n    next.productVariants = rebasedVariants as ProductVariant[];\n    next.activeVariantId = mappedActiveVariantId;\n  }\n\n  return next;\n};\n","/**\n * Move an array item to a different position. Returns a new array with the item moved to the new position.\n */\nexport function arrayMove<T>(array: T[], from: number, to: number): T[] {\n  const newArray = array.slice();\n  newArray.splice(\n    to < 0 ? newArray.length + to : to,\n    0,\n    newArray.splice(from, 1)[0]\n  );\n\n  return newArray;\n}\n","import {useContext, useEffect} from 'react';\n\nimport {DndMonitorContext} from './context';\nimport type {DndMonitorListener} from './types';\n\nexport function useDndMonitor(listener: DndMonitorListener) {\n  const registerListener = useContext(DndMonitorContext);\n\n  useEffect(() => {\n    if (!registerListener) {\n      throw new Error(\n        'useDndMonitor must be used within a children of <DndContext>'\n      );\n    }\n\n    const unsubscribe = registerListener(listener);\n\n    return unsubscribe;\n  }, [listener, registerListener]);\n}\n","import { useState, useCallback, useEffect, useRef } from 'react';\nimport type {\n  ProductVariant,\n  ProductVariantItemRow,\n  Proposal,\n  ProposalItem,\n} from '@/lib/types/proposal';\nimport { useRouter } from 'next/navigation';\n\nconst AUTOSAVE_DELAY = 3000; // 3    \n\nexport interface UseProposalFormOptions {\n  proposalId?: string;\n  workspaceId: string;\n  userId: string;\n}\n\nexport interface UseProposalFormReturn {\n  proposal: Proposal;\n  updateField: <K extends keyof Proposal>(field: K, value: Proposal[K]) => void;\n  addItem: (item: Omit<ProposalItem, 'id'>) => void;\n  removeItem: (itemId: string) => void;\n  updateItem: (itemId: string, updates: Partial<ProposalItem>) => void;\n  save: () => Promise<void>;\n  exportPdf: () => Promise<void>;\n  isLoading: boolean;\n  isSaving: boolean;\n  isDirty: boolean;\n  lastSaved: Date | null;\n}\n\nconst DEFAULT_VISIBLE_SECTIONS = [\n  'basic',\n  'context',\n  'advantages',\n  'products',\n  'terms',\n  'gallery',\n  'contacts',\n] as const;\n\nconst normalizeVisibleSections = (value?: string[] | null): string[] => {\n  if (!Array.isArray(value) || value.length === 0) return [...DEFAULT_VISIBLE_SECTIONS];\n  return Array.from(new Set(value));\n};\n\nconst createId = (prefix: string) => `${prefix}-${Date.now()}-${Math.random().toString(36).slice(2, 9)}`;\n\nconst createVariantItemRow = (item: ProposalItem): ProductVariantItemRow => ({\n  type: 'item',\n  id: item.id,\n  productId: item.productId,\n  name: item.name,\n  description: item.description ?? '',\n  qty: Number.isFinite(item.qty) ? item.qty : 1,\n  price: Number.isFinite(item.price) ? item.price : 0,\n  discount: Number.isFinite(item.discount) ? item.discount : 0,\n  unit: item.unit ?? '',\n});\n\nconst createEmptyVariant = (name = ' 1'): ProductVariant => ({\n  id: createId('variant'),\n  name,\n  description: '',\n  isRecommended: true,\n  rows: [],\n});\n\nconst normalizeProposalProducts = (incoming: Proposal): Proposal => {\n  const fromIncoming = Array.isArray(incoming.productVariants) ? incoming.productVariants : [];\n  const variants =\n    fromIncoming.length > 0\n      ? fromIncoming\n      : [\n          {\n            ...createEmptyVariant(' 1'),\n            rows: Array.isArray(incoming.items)\n              ? incoming.items.map((item) =>\n                  createVariantItemRow({\n                    ...item,\n                    id: item.id || createId('item'),\n                  }),\n                )\n              : [],\n          },\n        ];\n\n  const activeVariantId =\n    variants.some((variant) => variant.id === incoming.activeVariantId)\n      ? incoming.activeVariantId\n      : variants[0]?.id;\n\n  return {\n    ...incoming,\n    pricingMode: 'variants',\n    productVariants: variants,\n    activeVariantId,\n    productsView: {\n      showDiscountColumn: incoming.productsView?.showDiscountColumn ?? true,\n      showUnitColumn: incoming.productsView?.showUnitColumn ?? true,\n    },\n  };\n};\n\nconst createEmptyProposal = (workspaceId: string, userId: string): Proposal => {\n  const firstVariant = createEmptyVariant(' 1');\n  return {\n    workspaceId,\n    title: '  ',\n    items: [],\n    currency: 'RUB',\n    pricingMode: 'variants',\n    productVariants: [firstVariant],\n    activeVariantId: firstVariant.id,\n    productsView: {\n      showDiscountColumn: true,\n      showUnitColumn: true,\n    },\n    includeVat: true,\n    vatRate: 20,\n    advantages: [],\n    advantagesColumns: 3,\n    visibleSections: [...DEFAULT_VISIBLE_SECTIONS],\n    status: 'draft',\n    createdBy: userId,\n    updatedBy: userId,\n    version: 1,\n  };\n};\n\nconst getValidationMessage = (rawErrorText: string): string => {\n  if (!rawErrorText) return ' ';\n\n  try {\n    const parsed = JSON.parse(rawErrorText) as {\n      error?: string;\n      message?: string;\n      details?: Array<{ message?: string }>;\n    };\n\n    if (parsed.error === 'Validation error' && Array.isArray(parsed.details) && parsed.details.length > 0) {\n      return parsed.details[0]?.message || ' ';\n    }\n\n    if (typeof parsed.message === 'string' && parsed.message.trim().length > 0) {\n      return parsed.message;\n    }\n\n    if (typeof parsed.error === 'string' && parsed.error.trim().length > 0) {\n      return parsed.error;\n    }\n  } catch {\n    // no-op\n  }\n\n  return rawErrorText;\n};\n\nexport function useProposalForm({\n  proposalId,\n  workspaceId,\n  userId,\n}: UseProposalFormOptions): UseProposalFormReturn {\n  const router = useRouter();\n  const [proposal, setProposal] = useState<Proposal>(() => createEmptyProposal(workspaceId, userId));\n  const [isLoading, setIsLoading] = useState(false);\n  const [isSaving, setIsSaving] = useState(false);\n  const [isDirty, setIsDirty] = useState(false);\n  const [lastSaved, setLastSaved] = useState<Date | null>(null);\n  const autosaveTimerRef = useRef<NodeJS.Timeout | null>(null);\n\n  //   \n  useEffect(() => {\n    if (!proposalId) return;\n\n    setIsLoading(true);\n    fetch(`/api/proposals/${proposalId}`)\n      .then((res) => {\n        if (res.status === 404) return null;\n        if (!res.ok) throw new Error(`    (${res.status})`);\n        return res.json();\n      })\n      .then((data: Proposal | null) => {\n        if (!data) {\n          console.warn(`Proposal not found: ${proposalId}`);\n          setProposal(createEmptyProposal(workspaceId, userId));\n          setIsDirty(false);\n          setLastSaved(null);\n          const params = new URLSearchParams(window.location.search);\n          params.delete('proposalId');\n          const next = params.toString();\n          router.replace(next ? `${window.location.pathname}?${next}` : window.location.pathname, {\n            scroll: false,\n          });\n          return;\n        }\n        setProposal({\n          ...normalizeProposalProducts(data),\n          visibleSections: normalizeVisibleSections(data.visibleSections),\n        });\n        setIsDirty(false);\n        setLastSaved(new Date(data.updatedAt || Date.now()));\n      })\n      .catch((error) => {\n        console.error('Failed to load proposal:', error);\n        alert('    ');\n      })\n      .finally(() => setIsLoading(false));\n  }, [proposalId, router, userId, workspaceId]);\n\n  //  \n  const updateField = useCallback(<K extends keyof Proposal>(\n    field: K,\n    value: Proposal[K]\n  ) => {\n    setProposal((prev) => ({ ...prev, [field]: value }));\n    setIsDirty(true);\n  }, []);\n\n  //  \n  const addItem = useCallback((item: Omit<ProposalItem, 'id'>) => {\n    const newItem: ProposalItem = {\n      ...item,\n      id: createId('item'),\n    };\n    setProposal((prev) => ({\n      ...prev,\n      items: [...prev.items, newItem],\n      ...(prev.pricingMode === 'variants' && Array.isArray(prev.productVariants) && prev.productVariants.length > 0\n        ? {\n            productVariants: prev.productVariants.map((variant) =>\n              variant.id === prev.activeVariantId\n                ? {\n                    ...variant,\n                    rows: [...variant.rows, createVariantItemRow(newItem)],\n                  }\n                : variant,\n            ),\n          }\n        : {}),\n    }));\n    setIsDirty(true);\n  }, []);\n\n  //  \n  const removeItem = useCallback((itemId: string) => {\n    setProposal((prev) => ({\n      ...prev,\n      items: prev.items.filter((item) => item.id !== itemId),\n      ...(prev.pricingMode === 'variants' && Array.isArray(prev.productVariants)\n        ? {\n            productVariants: prev.productVariants.map((variant) => ({\n              ...variant,\n              rows: variant.rows.filter((row) => row.id !== itemId),\n            })),\n          }\n        : {}),\n    }));\n    setIsDirty(true);\n  }, []);\n\n  //  \n  const updateItem = useCallback((itemId: string, updates: Partial<ProposalItem>) => {\n    setProposal((prev) => ({\n      ...prev,\n      items: prev.items.map((item) =>\n        item.id === itemId ? { ...item, ...updates } : item\n      ),\n      ...(prev.pricingMode === 'variants' && Array.isArray(prev.productVariants)\n        ? {\n            productVariants: prev.productVariants.map((variant) => ({\n              ...variant,\n              rows: variant.rows.map((row) =>\n                row.type === 'item' && row.id === itemId ? { ...row, ...updates } : row\n              ),\n            })),\n          }\n        : {}),\n    }));\n    setIsDirty(true);\n  }, []);\n\n  //    (   )\n  const performSave = useCallback(async (showAlert: boolean = true): Promise<boolean> => {\n    if (!workspaceId || !userId) {\n      if (showAlert) {\n        alert(':    .  .');\n      }\n      return false;\n    }\n\n    const normalizedTitle = (proposal.title ?? '').trim();\n\n    setIsSaving(true);\n    try {\n      const response = await fetch('/api/proposals', {\n        method: proposal.id ? 'PATCH' : 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          ...proposal,\n          title: normalizedTitle,\n          updatedBy: userId,\n        }),\n      });\n\n      if (!response.ok) {\n        const errorText = await response.text();\n        const message = getValidationMessage(errorText);\n        if (response.status >= 500) {\n          console.error('Server error response:', errorText);\n        }\n        throw new Error(message || ' ');\n      }\n\n      const data = await response.json();\n      setProposal(data);\n      setIsDirty(false);\n      setLastSaved(new Date());\n\n      //  URL,    \n      if (!proposal.id && data.id) {\n        const params = new URLSearchParams(window.location.search);\n        params.set('proposalId', data.id);\n        router.replace(`${window.location.pathname}?${params.toString()}`, {\n          scroll: false,\n        });\n      }\n\n      if (showAlert) {\n        alert('  ');\n      }\n      return true;\n    } catch (error) {\n      console.error('Failed to save proposal:', error);\n      if (showAlert) {\n        const errorMessage = error instanceof Error ? error.message : ' ';\n        alert(`    : ${errorMessage}`);\n      }\n      return false;\n    } finally {\n      setIsSaving(false);\n    }\n  }, [proposal, userId, workspaceId, router]);\n\n  //    ( )\n  const save = useCallback(async () => {\n    await performSave(true);\n  }, [performSave]);\n\n  // \n  useEffect(() => {\n    //   \n    if (autosaveTimerRef.current) {\n      clearTimeout(autosaveTimerRef.current);\n    }\n\n    //           \n    if (isDirty && proposal.id && !isSaving) {\n      autosaveTimerRef.current = setTimeout(() => {\n        console.log('[Autosave] Saving...');\n        performSave(false);\n      }, AUTOSAVE_DELAY);\n    }\n\n    return () => {\n      if (autosaveTimerRef.current) {\n        clearTimeout(autosaveTimerRef.current);\n      }\n    };\n  }, [isDirty, proposal.id, isSaving, performSave]);\n\n  //   PDF\n  const exportPdf = useCallback(async () => {\n    if (!proposal.id) {\n      alert('      PDF');\n      return;\n    }\n\n    try {\n      const response = await fetch('/api/pdf', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ proposalId: proposal.id }),\n      });\n\n      if (!response.ok) {\n        throw new Error(await response.text());\n      }\n\n      const blob = await response.blob();\n      const url = URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `${proposal.title || 'proposal'}.pdf`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      URL.revokeObjectURL(url);\n    } catch (error) {\n      console.error('Failed to export PDF:', error);\n      alert('   PDF');\n    }\n  }, [proposal]);\n\n  return {\n    proposal,\n    updateField,\n    addItem,\n    removeItem,\n    updateItem,\n    save,\n    exportPdf,\n    isLoading,\n    isSaving,\n    isDirty,\n    lastSaved,\n  };\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }]];\n\n/**\n * @component @name Circle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Circle = createLucideIcon('circle', __iconNode);\n\nexport default Circle;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['line', { x1: '19', x2: '5', y1: '5', y2: '19', key: '1x9vlm' }],\n  ['circle', { cx: '6.5', cy: '6.5', r: '2.5', key: '4mh3h7' }],\n  ['circle', { cx: '17.5', cy: '17.5', r: '2.5', key: '1mdrzq' }],\n];\n\n/**\n * @component @name Percent\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8bGluZSB4MT0iMTkiIHgyPSI1IiB5MT0iNSIgeTI9IjE5IiAvPgogIDxjaXJjbGUgY3g9IjYuNSIgY3k9IjYuNSIgcj0iMi41IiAvPgogIDxjaXJjbGUgY3g9IjE3LjUiIGN5PSIxNy41IiByPSIyLjUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/percent\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Percent = createLucideIcon('percent', __iconNode);\n\nexport default Percent;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 10v6', key: '1bos4e' }],\n  ['path', { d: 'M9 13h6', key: '1uhe8q' }],\n  [\n    'path',\n    {\n      d: 'M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z',\n      key: '1kt360',\n    },\n  ],\n];\n\n/**\n * @component @name FolderPlus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMTB2NiIgLz4KICA8cGF0aCBkPSJNOSAxM2g2IiAvPgogIDxwYXRoIGQ9Ik0yMCAyMGEyIDIgMCAwIDAgMi0yVjhhMiAyIDAgMCAwLTItMmgtNy45YTIgMiAwIDAgMS0xLjY5LS45TDkuNiAzLjlBMiAyIDAgMCAwIDcuOTMgM0g0YTIgMiAwIDAgMC0yIDJ2MTNhMiAyIDAgMCAwIDIgMloiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/folder-plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst FolderPlus = createLucideIcon('folder-plus', __iconNode);\n\nexport default FolderPlus;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M11 21a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1', key: 'likhh7' }],\n  ['path', { d: 'M16 16a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1', key: '17ky3x' }],\n  [\n    'path',\n    {\n      d: 'M21 6a2 2 0 0 0-.586-1.414l-2-2A2 2 0 0 0 17 2h-3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1z',\n      key: '1hyeo0',\n    },\n  ],\n];\n\n/**\n * @component @name FileStack\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTEgMjFhMSAxIDAgMCAxLTEgMUg0YTEgMSAwIDAgMS0xLTF2LThhMSAxIDAgMCAxIDEtMSIgLz4KICA8cGF0aCBkPSJNMTYgMTZhMSAxIDAgMCAxLTEgMUg5YTEgMSAwIDAgMS0xLTFWOGExIDEgMCAwIDEgMS0xIiAvPgogIDxwYXRoIGQ9Ik0yMSA2YTIgMiAwIDAgMC0uNTg2LTEuNDE0bC0yLTJBMiAyIDAgMCAwIDE3IDJoLTNhMSAxIDAgMCAwLTEgMXY4YTEgMSAwIDAgMCAxIDFoNmExIDEgMCAwIDAgMS0xeiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/file-stack\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst FileStack = createLucideIcon('file-stack', __iconNode);\n\nexport default FileStack;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 3v12', key: '1x0j5s' }],\n  ['path', { d: 'm17 8-5-5-5 5', key: '7q97r8' }],\n  ['path', { d: 'M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4', key: 'ih7n3h' }],\n];\n\n/**\n * @component @name Upload\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgM3YxMiIgLz4KICA8cGF0aCBkPSJtMTcgOC01LTUtNSA1IiAvPgogIDxwYXRoIGQ9Ik0yMSAxNXY0YTIgMiAwIDAgMS0yIDJINWEyIDIgMCAwIDEtMi0ydi00IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/upload\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Upload = createLucideIcon('upload', __iconNode);\n\nexport default Upload;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z', key: '1rqfz7' }],\n  ['path', { d: 'M14 2v4a2 2 0 0 0 2 2h4', key: 'tnqrlb' }],\n  ['path', { d: 'M12 18v-6', key: '17g6i2' }],\n  ['path', { d: 'm9 15 3 3 3-3', key: '1npd3o' }],\n];\n\n/**\n * @component @name FileDown\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUgMkg2YTIgMiAwIDAgMC0yIDJ2MTZhMiAyIDAgMCAwIDIgMmgxMmEyIDIgMCAwIDAgMi0yVjdaIiAvPgogIDxwYXRoIGQ9Ik0xNCAydjRhMiAyIDAgMCAwIDIgMmg0IiAvPgogIDxwYXRoIGQ9Ik0xMiAxOHYtNiIgLz4KICA8cGF0aCBkPSJtOSAxNSAzIDMgMy0zIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/file-down\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst FileDown = createLucideIcon('file-down', __iconNode);\n\nexport default FileDown;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm21 21-4.34-4.34', key: '14j7rj' }],\n  ['circle', { cx: '11', cy: '11', r: '8', key: '4ej97u' }],\n];\n\n/**\n * @component @name Search\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjEgMjEtNC4zNC00LjM0IiAvPgogIDxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/search\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Search = createLucideIcon('search', __iconNode);\n\nexport default Search;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '18', height: '18', x: '3', y: '3', rx: '2', ry: '2', key: '1m3agn' }],\n  ['circle', { cx: '9', cy: '9', r: '2', key: 'af1f0g' }],\n  ['path', { d: 'm21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21', key: '1xmnt7' }],\n];\n\n/**\n * @component @name Image\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjMiIHJ4PSIyIiByeT0iMiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iOSIgcj0iMiIgLz4KICA8cGF0aCBkPSJtMjEgMTUtMy4wODYtMy4wODZhMiAyIDAgMCAwLTIuODI4IDBMNiAyMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/image\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Image = createLucideIcon('image', __iconNode);\n\nexport default Image;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M16 5h6', key: '1vod17' }],\n  ['path', { d: 'M19 2v6', key: '4bpg5p' }],\n  ['path', { d: 'M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5', key: '1ue2ih' }],\n  ['path', { d: 'm21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21', key: '1xmnt7' }],\n  ['circle', { cx: '9', cy: '9', r: '2', key: 'af1f0g' }],\n];\n\n/**\n * @component @name ImagePlus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgNWg2IiAvPgogIDxwYXRoIGQ9Ik0xOSAydjYiIC8+CiAgPHBhdGggZD0iTTIxIDExLjVWMTlhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJWNWEyIDIgMCAwIDEgMi0yaDcuNSIgLz4KICA8cGF0aCBkPSJtMjEgMTUtMy4wODYtMy4wODZhMiAyIDAgMCAwLTIuODI4IDBMNiAyMSIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iOSIgcj0iMiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/image-plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ImagePlus = createLucideIcon('image-plus', __iconNode);\n\nexport default ImagePlus;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm12 19-7-7 7-7', key: '1l729n' }],\n  ['path', { d: 'M19 12H5', key: 'x3x0zl' }],\n];\n\n/**\n * @component @name ArrowLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTIgMTktNy03IDctNyIgLz4KICA8cGF0aCBkPSJNMTkgMTJINSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowLeft = createLucideIcon('arrow-left', __iconNode);\n\nexport default ArrowLeft;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '9', cy: '12', r: '1', key: '1vctgf' }],\n  ['circle', { cx: '9', cy: '5', r: '1', key: 'hp0tcf' }],\n  ['circle', { cx: '9', cy: '19', r: '1', key: 'fkjjf6' }],\n  ['circle', { cx: '15', cy: '12', r: '1', key: '1tmaij' }],\n  ['circle', { cx: '15', cy: '5', r: '1', key: '19l28e' }],\n  ['circle', { cx: '15', cy: '19', r: '1', key: 'f4zoj3' }],\n];\n\n/**\n * @component @name GripVertical\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iMTIiIHI9IjEiIC8+CiAgPGNpcmNsZSBjeD0iOSIgY3k9IjUiIHI9IjEiIC8+CiAgPGNpcmNsZSBjeD0iOSIgY3k9IjE5IiByPSIxIiAvPgogIDxjaXJjbGUgY3g9IjE1IiBjeT0iMTIiIHI9IjEiIC8+CiAgPGNpcmNsZSBjeD0iMTUiIGN5PSI1IiByPSIxIiAvPgogIDxjaXJjbGUgY3g9IjE1IiBjeT0iMTkiIHI9IjEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/grip-vertical\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst GripVertical = createLucideIcon('grip-vertical', __iconNode);\n\nexport default GripVertical;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z', key: '1rqfz7' }],\n  ['path', { d: 'M14 2v4a2 2 0 0 0 2 2h4', key: 'tnqrlb' }],\n  ['path', { d: 'M10 9H8', key: 'b1mrlr' }],\n  ['path', { d: 'M16 13H8', key: 't4e002' }],\n  ['path', { d: 'M16 17H8', key: 'z1uh3a' }],\n];\n\n/**\n * @component @name FileText\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUgMkg2YTIgMiAwIDAgMC0yIDJ2MTZhMiAyIDAgMCAwIDIgMmgxMmEyIDIgMCAwIDAgMi0yVjdaIiAvPgogIDxwYXRoIGQ9Ik0xNCAydjRhMiAyIDAgMCAwIDIgMmg0IiAvPgogIDxwYXRoIGQ9Ik0xMCA5SDgiIC8+CiAgPHBhdGggZD0iTTE2IDEzSDgiIC8+CiAgPHBhdGggZD0iTTE2IDE3SDgiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/file-text\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst FileText = createLucideIcon('file-text', __iconNode);\n\nexport default FileText;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z',\n      key: '1s2grr',\n    },\n  ],\n  ['path', { d: 'M20 2v4', key: '1rf3ol' }],\n  ['path', { d: 'M22 4h-4', key: 'gwowj6' }],\n  ['circle', { cx: '4', cy: '20', r: '2', key: '6kqj1y' }],\n];\n\n/**\n * @component @name Sparkles\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTEuMDE3IDIuODE0YTEgMSAwIDAgMSAxLjk2NiAwbDEuMDUxIDUuNTU4YTIgMiAwIDAgMCAxLjU5NCAxLjU5NGw1LjU1OCAxLjA1MWExIDEgMCAwIDEgMCAxLjk2NmwtNS41NTggMS4wNTFhMiAyIDAgMCAwLTEuNTk0IDEuNTk0bC0xLjA1MSA1LjU1OGExIDEgMCAwIDEtMS45NjYgMGwtMS4wNTEtNS41NThhMiAyIDAgMCAwLTEuNTk0LTEuNTk0bC01LjU1OC0xLjA1MWExIDEgMCAwIDEgMC0xLjk2Nmw1LjU1OC0xLjA1MWEyIDIgMCAwIDAgMS41OTQtMS41OTR6IiAvPgogIDxwYXRoIGQ9Ik0yMCAydjQiIC8+CiAgPHBhdGggZD0iTTIyIDRoLTQiIC8+CiAgPGNpcmNsZSBjeD0iNCIgY3k9IjIwIiByPSIyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/sparkles\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Sparkles = createLucideIcon('sparkles', __iconNode);\n\nexport default Sparkles;\n","// https://github.com/facebook/react/blob/master/packages/shared/ExecutionEnvironment.js\nexport const canUseDOM =\n  typeof window !== 'undefined' &&\n  typeof window.document !== 'undefined' &&\n  typeof window.document.createElement !== 'undefined';\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0',\n      key: '1nclc0',\n    },\n  ],\n  ['circle', { cx: '12', cy: '12', r: '3', key: '1v7zrd' }],\n];\n\n/**\n * @component @name Eye\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMi4wNjIgMTIuMzQ4YTEgMSAwIDAgMSAwLS42OTYgMTAuNzUgMTAuNzUgMCAwIDEgMTkuODc2IDAgMSAxIDAgMCAxIDAgLjY5NiAxMC43NSAxMC43NSAwIDAgMS0xOS44NzYgMCIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/eye\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Eye = createLucideIcon('eye', __iconNode);\n\nexport default Eye;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z',\n      key: '1c8476',\n    },\n  ],\n  ['path', { d: 'M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7', key: '1ydtos' }],\n  ['path', { d: 'M7 3v4a1 1 0 0 0 1 1h7', key: 't51u73' }],\n];\n\n/**\n * @component @name Save\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUuMiAzYTIgMiAwIDAgMSAxLjQuNmwzLjggMy44YTIgMiAwIDAgMSAuNiAxLjRWMTlhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJWNWEyIDIgMCAwIDEgMi0yeiIgLz4KICA8cGF0aCBkPSJNMTcgMjF2LTdhMSAxIDAgMCAwLTEtMUg4YTEgMSAwIDAgMC0xIDF2NyIgLz4KICA8cGF0aCBkPSJNNyAzdjRhMSAxIDAgMCAwIDEgMWg3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/save\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Save = createLucideIcon('save', __iconNode);\n\nexport default Save;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z',\n      key: '1a0edw',\n    },\n  ],\n  ['path', { d: 'M12 22V12', key: 'd0xqtd' }],\n  ['polyline', { points: '3.29 7 12 12 20.71 7', key: 'ousv84' }],\n  ['path', { d: 'm7.5 4.27 9 5.15', key: '1c824w' }],\n];\n\n/**\n * @component @name Package\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTEgMjEuNzNhMiAyIDAgMCAwIDIgMGw3LTRBMiAyIDAgMCAwIDIxIDE2VjhhMiAyIDAgMCAwLTEtMS43M2wtNy00YTIgMiAwIDAgMC0yIDBsLTcgNEEyIDIgMCAwIDAgMyA4djhhMiAyIDAgMCAwIDEgMS43M3oiIC8+CiAgPHBhdGggZD0iTTEyIDIyVjEyIiAvPgogIDxwb2x5bGluZSBwb2ludHM9IjMuMjkgNyAxMiAxMiAyMC43MSA3IiAvPgogIDxwYXRoIGQ9Im03LjUgNC4yNyA5IDUuMTUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/package\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Package = createLucideIcon('package', __iconNode);\n\nexport default Package;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49',\n      key: 'ct8e1f',\n    },\n  ],\n  ['path', { d: 'M14.084 14.158a3 3 0 0 1-4.242-4.242', key: '151rxh' }],\n  [\n    'path',\n    {\n      d: 'M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143',\n      key: '13bj9a',\n    },\n  ],\n  ['path', { d: 'm2 2 20 20', key: '1ooewy' }],\n];\n\n/**\n * @component @name EyeOff\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAuNzMzIDUuMDc2YTEwLjc0NCAxMC43NDQgMCAwIDEgMTEuMjA1IDYuNTc1IDEgMSAwIDAgMSAwIC42OTYgMTAuNzQ3IDEwLjc0NyAwIDAgMS0xLjQ0NCAyLjQ5IiAvPgogIDxwYXRoIGQ9Ik0xNC4wODQgMTQuMTU4YTMgMyAwIDAgMS00LjI0Mi00LjI0MiIgLz4KICA8cGF0aCBkPSJNMTcuNDc5IDE3LjQ5OWExMC43NSAxMC43NSAwIDAgMS0xNS40MTctNS4xNTEgMSAxIDAgMCAxIDAtLjY5NiAxMC43NSAxMC43NSAwIDAgMSA0LjQ0Ni01LjE0MyIgLz4KICA8cGF0aCBkPSJtMiAyIDIwIDIwIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/eye-off\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst EyeOff = createLucideIcon('eye-off', __iconNode);\n\nexport default EyeOff;\n","export function isWindow(element: Object): element is typeof window {\n  const elementString = Object.prototype.toString.call(element);\n  return (\n    elementString === '[object Window]' ||\n    // In Electron context the Window object serializes to [object global]\n    elementString === '[object global]'\n  );\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z',\n      key: 'r04s7s',\n    },\n  ],\n];\n\n/**\n * @component @name Star\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTEuNTI1IDIuMjk1YS41My41MyAwIDAgMSAuOTUgMGwyLjMxIDQuNjc5YTIuMTIzIDIuMTIzIDAgMCAwIDEuNTk1IDEuMTZsNS4xNjYuNzU2YS41My41MyAwIDAgMSAuMjk0LjkwNGwtMy43MzYgMy42MzhhMi4xMjMgMi4xMjMgMCAwIDAtLjYxMSAxLjg3OGwuODgyIDUuMTRhLjUzLjUzIDAgMCAxLS43NzEuNTZsLTQuNjE4LTIuNDI4YTIuMTIyIDIuMTIyIDAgMCAwLTEuOTczIDBMNi4zOTYgMjEuMDFhLjUzLjUzIDAgMCAxLS43Ny0uNTZsLjg4MS01LjEzOWEyLjEyMiAyLjEyMiAwIDAgMC0uNjExLTEuODc5TDIuMTYgOS43OTVhLjUzLjUzIDAgMCAxIC4yOTQtLjkwNmw1LjE2NS0uNzU1YTIuMTIyIDIuMTIyIDAgMCAwIDEuNTk3LTEuMTZ6IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/star\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Star = createLucideIcon('star', __iconNode);\n\nexport default Star;\n","import {useCallback, useState} from 'react';\n\nimport type {DndMonitorListener, DndMonitorEvent} from './types';\n\nexport function useDndMonitorProvider() {\n  const [listeners] = useState(() => new Set<DndMonitorListener>());\n\n  const registerListener = useCallback(\n    (listener) => {\n      listeners.add(listener);\n      return () => listeners.delete(listener);\n    },\n    [listeners]\n  );\n\n  const dispatch = useCallback(\n    ({type, event}: DndMonitorEvent) => {\n      listeners.forEach((listener) => listener[type]?.(event as any));\n    },\n    [listeners]\n  );\n\n  return [dispatch, registerListener] as const;\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z',\n      key: 'zw3jo',\n    },\n  ],\n  [\n    'path',\n    {\n      d: 'M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12',\n      key: '1wduqc',\n    },\n  ],\n  [\n    'path',\n    {\n      d: 'M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17',\n      key: 'kqbvx6',\n    },\n  ],\n];\n\n/**\n * @component @name Layers\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIuODMgMi4xOGEyIDIgMCAwIDAtMS42NiAwTDIuNiA2LjA4YTEgMSAwIDAgMCAwIDEuODNsOC41OCAzLjkxYTIgMiAwIDAgMCAxLjY2IDBsOC41OC0zLjlhMSAxIDAgMCAwIDAtMS44M3oiIC8+CiAgPHBhdGggZD0iTTIgMTJhMSAxIDAgMCAwIC41OC45MWw4LjYgMy45MWEyIDIgMCAwIDAgMS42NSAwbDguNTgtMy45QTEgMSAwIDAgMCAyMiAxMiIgLz4KICA8cGF0aCBkPSJNMiAxN2ExIDEgMCAwIDAgLjU4LjkxbDguNiAzLjkxYTIgMiAwIDAgMCAxLjY1IDBsOC41OC0zLjlBMSAxIDAgMCAwIDIyIDE3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/layers\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Layers = createLucideIcon('layers', __iconNode);\n\nexport default Layers;\n","import React from 'react';\n\nexport interface Props {\n  id: string;\n  announcement: string;\n  ariaLiveType?: \"polite\" | \"assertive\" | \"off\";\n}\n\nexport function LiveRegion({id, announcement, ariaLiveType = \"assertive\"}: Props) {\n  // Hide element visually but keep it readable by screen readers\n  const visuallyHidden: React.CSSProperties = {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    width: 1,\n    height: 1,\n    margin: -1,\n    border: 0,\n    padding: 0,\n    overflow: 'hidden',\n    clip: 'rect(0 0 0 0)',\n    clipPath: 'inset(100%)',\n    whiteSpace: 'nowrap',\n  };\n  \n  return (\n    <div\n      id={id}\n      style={visuallyHidden}\n      role=\"status\"\n      aria-live={ariaLiveType}\n      aria-atomic\n    >\n      {announcement}\n    </div>\n  );\n}\n","export function isNode(node: Object): node is Node {\n  return 'nodeType' in node;\n}\n","import type {\n  ClientRect,\n  UniqueIdentifier,\n  UseDndContextReturnValue,\n} from '@dnd-kit/core';\n\nexport function getSortedRects(\n  items: UniqueIdentifier[],\n  rects: UseDndContextReturnValue['droppableRects']\n) {\n  return items.reduce<ClientRect[]>((accumulator, id, index) => {\n    const rect = rects.get(id);\n\n    if (rect) {\n      accumulator[index] = rect;\n    }\n\n    return accumulator;\n  }, Array(items.length));\n}\n","import {isWindow} from '../type-guards/isWindow';\nimport {isNode} from '../type-guards/isNode';\n\nexport function getWindow(target: Event['target']): typeof window {\n  if (!target) {\n    return window;\n  }\n\n  if (isWindow(target)) {\n    return target;\n  }\n\n  if (!isNode(target)) {\n    return window;\n  }\n\n  return target.ownerDocument?.defaultView ?? window;\n}\n","import type { ProductVariantRow, Proposal, ProposalItem } from '@/lib/types/proposal';\nimport {\n  calculateItemTotal,\n  calculateProposalSubtotal,\n  calculateVatAmount,\n  calculateProposalTotal,\n  getActiveVariant,\n  getProposalItems,\n  isProductVariantItemRow,\n} from '@/lib/types/proposal';\n\ninterface RenderProposalOptions {\n  proposal: Proposal;\n  workspace?: {\n    logoUrl?: string | null;\n    signatureUrl?: string | null;\n    stampUrl?: string | null;\n    companyName?: string | null;\n    inn?: string | null;\n    ogrn?: string | null;\n    legalAddress?: string | null;\n    bankName?: string | null;\n    bik?: string | null;\n    accountNumber?: string | null;\n  };\n  client?: {\n    name: string;\n    email: string;\n    company?: string | null;\n    middleName?: string | null;\n    position?: string | null;\n  } | null;\n}\n\nfunction escapeHtml(text: string): string {\n  const map: Record<string, string> = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#039;',\n  };\n  return text.replace(/[&<>\"']/g, (m) => map[m]);\n}\n\nfunction formatPrice(amount: number, currency: string = 'RUB'): string {\n  const symbols: Record<string, string> = {\n    RUB: '',\n    USD: '$',\n    EUR: '',\n  };\n  return `${amount.toLocaleString('ru-RU', { minimumFractionDigits: 2, maximumFractionDigits: 2 })} ${symbols[currency] || currency}`;\n}\n\nfunction formatAmount(amount: number): string {\n  return amount.toLocaleString('ru-RU', {\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2,\n  });\n}\n\nfunction getCurrencySymbol(currency: string = 'RUB'): string {\n  const symbols: Record<string, string> = {\n    RUB: '',\n    USD: '$',\n    EUR: '',\n  };\n  return symbols[currency] || currency;\n}\n\nexport function renderProposalToHtml(options: RenderProposalOptions): string {\n  const { proposal, workspace, client } = options;\n\n  const renderedItems = getProposalItems(proposal);\n  const activeVariant = getActiveVariant(proposal);\n  const showUnitColumn = proposal.productsView?.showUnitColumn !== false;\n  const showDiscountColumn = proposal.productsView?.showDiscountColumn !== false;\n  const tableColumnCount = 5 + (showUnitColumn ? 1 : 0) + (showDiscountColumn ? 1 : 0);\n  const currencySymbol = getCurrencySymbol(proposal.currency);\n  const variantRows: ProductVariantRow[] = Array.isArray(activeVariant?.rows) ? activeVariant.rows : [];\n  const hasVariantRows = variantRows.length > 0;\n  const hasProductsToRender = hasVariantRows || renderedItems.length > 0;\n  const subtotal = calculateProposalSubtotal(renderedItems);\n  const vatAmount = calculateVatAmount(proposal);\n  const total = calculateProposalTotal(proposal);\n  const advantages = Array.isArray(proposal.advantages) ? proposal.advantages : [];\n  const advantagesColumns =\n    typeof proposal.advantagesColumns === 'number'\n      ? Math.min(3, Math.max(1, proposal.advantagesColumns))\n      : 3;\n  const effectiveAdvantagesColumns = advantages.length >= 3 ? 3 : advantagesColumns;\n  const visibleSections = Array.isArray(proposal.visibleSections)\n    ? proposal.visibleSections\n    : null;\n  const isSectionVisible = (id: string) => !visibleSections || visibleSections.includes(id);\n\n  return `<!DOCTYPE html>\n<html lang=\"ru\">\n<head>\n  <meta charset=\"utf-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n  <title>${escapeHtml(proposal.title)}</title>\n  <style>\n    * {\n      margin: 0;\n      padding: 0;\n      box-sizing: border-box;\n    }\n    \n    body {\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;\n      font-size: 14px;\n      line-height: 1.6;\n      color: #1a1a1a;\n      padding: 40px;\n      background: #ffffff;\n    }\n    \n    @media print {\n      body {\n        padding: 0;\n      }\n    }\n    \n    @page {\n      size: A4;\n      margin: 20mm 15mm;\n    }\n    \n    .header {\n      display: flex;\n      justify-content: space-between;\n      align-items: flex-start;\n      margin-bottom: 30px;\n      padding-bottom: 20px;\n      border-bottom: 2px solid #e5e5e5;\n    }\n    \n    .logo {\n      max-width: 200px;\n      max-height: 80px;\n    }\n    \n    .company-info {\n      text-align: right;\n      font-size: 12px;\n      color: #666;\n    }\n    \n    h1 {\n      font-size: 24px;\n      font-weight: 700;\n      margin-bottom: 20px;\n      color: #1a1a1a;\n    }\n    \n    .greeting {\n      font-size: 16px;\n      margin-bottom: 20px;\n    }\n    \n    .section {\n      margin-bottom: 25px;\n    }\n    \n    .section-title {\n      font-size: 16px;\n      font-weight: 600;\n      margin-bottom: 10px;\n      color: #333;\n    }\n    \n    .section-content {\n      font-size: 14px;\n      line-height: 1.8;\n      color: #444;\n      white-space: pre-wrap;\n    }\n\n    .advantages-grid {\n      display: grid;\n      grid-template-columns: repeat(var(--advantages-columns, 3), minmax(0, 1fr));\n      gap: 12px;\n      margin-top: 10px;\n    }\n\n    .advantage-card {\n      border: 1px solid #e5e7eb;\n      border-radius: 12px;\n      padding: 14px;\n      background: #fafafa;\n      min-height: 130px;\n    }\n\n    .advantage-icon {\n      width: 42px;\n      height: 42px;\n      border-radius: 9999px;\n      overflow: hidden;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      background: #f0f0f0;\n      margin-bottom: 10px;\n      font-size: 18px;\n    }\n\n    .advantage-icon img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n    }\n\n    .advantage-title {\n      font-size: 14px;\n      font-weight: 600;\n      color: #111827;\n      margin-bottom: 6px;\n      line-height: 1.3;\n    }\n\n    .advantage-description {\n      font-size: 12px;\n      line-height: 1.45;\n      color: #4b5563;\n      white-space: pre-wrap;\n    }\n    \n    .price-table {\n      width: 100%;\n      border-collapse: collapse;\n      margin: 20px 0;\n      font-size: 13px;\n    }\n    \n    .price-table th {\n      background-color: #f5f5f5;\n      padding: 12px 10px;\n      text-align: left;\n      font-weight: 600;\n      border: 1px solid #ddd;\n    }\n    \n    .price-table td {\n      padding: 10px;\n      border: 1px solid #ddd;\n    }\n    \n    .price-table tr:nth-child(even) {\n      background-color: #fafafa;\n    }\n    \n    .price-table .text-right {\n      text-align: right;\n    }\n    \n    .price-table .text-center {\n      text-align: center;\n    }\n\n    .price-table .group-row td {\n      background-color: #f3f2f0;\n      font-weight: 600;\n      color: #3d3d3a;\n    }\n\n    .variant-meta {\n      margin: 12px 0 8px;\n      padding: 10px 12px;\n      border-radius: 10px;\n      background: #f7f6f3;\n      border: 1px solid #e6e4de;\n    }\n\n    .variant-name {\n      font-size: 13px;\n      font-weight: 600;\n      color: #252525;\n      display: inline-flex;\n      align-items: center;\n      gap: 8px;\n    }\n\n    .variant-badge {\n      padding: 2px 8px;\n      border-radius: 9999px;\n      font-size: 10px;\n      font-weight: 600;\n      background: #3cb371;\n      color: #fff;\n    }\n\n    .variant-description {\n      margin-top: 6px;\n      font-size: 12px;\n      color: #666;\n      white-space: pre-wrap;\n    }\n    \n    .totals {\n      margin-top: 10px;\n      text-align: right;\n    }\n    \n    .totals-row {\n      display: flex;\n      justify-content: flex-end;\n      padding: 5px 0;\n      font-size: 14px;\n    }\n    \n    .totals-row.total {\n      font-size: 18px;\n      font-weight: 700;\n      margin-top: 10px;\n      padding-top: 10px;\n      border-top: 2px solid #333;\n    }\n    \n    .totals-label {\n      margin-right: 20px;\n    }\n    \n    .totals-value {\n      min-width: 150px;\n      text-align: right;\n      font-weight: 600;\n    }\n    \n    .terms {\n      display: grid;\n      grid-template-columns: 1fr 1fr;\n      gap: 20px;\n      margin: 20px 0;\n      padding: 15px;\n      background-color: #f9f9f9;\n      border-radius: 8px;\n    }\n    \n    .term-item {\n      font-size: 13px;\n    }\n    \n    .term-label {\n      font-weight: 600;\n      color: #666;\n      margin-bottom: 5px;\n    }\n    \n    .term-value {\n      color: #333;\n    }\n    \n    .gallery {\n      display: grid;\n      grid-template-columns: repeat(3, 1fr);\n      gap: 15px;\n      margin: 20px 0;\n    }\n    \n    .gallery img {\n      width: 100%;\n      height: auto;\n      border-radius: 8px;\n      object-fit: cover;\n    }\n    \n    .cta {\n      margin: 30px 0;\n      padding: 20px;\n      background-color: #f0f0f0;\n      border-radius: 8px;\n      text-align: center;\n    }\n    \n    .cta-text {\n      font-size: 15px;\n      margin-bottom: 15px;\n    }\n    \n    .cta-contacts {\n      font-size: 14px;\n      font-weight: 600;\n    }\n    \n    .footer {\n      margin-top: 50px;\n      padding-top: 20px;\n      border-top: 1px solid #ddd;\n      font-size: 11px;\n      color: #666;\n    }\n    \n    .requisites {\n      margin-bottom: 20px;\n    }\n    \n    .requisites-grid {\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      gap: 8px;\n      margin-top: 10px;\n    }\n    \n    .signatures {\n      display: flex;\n      justify-content: flex-end;\n      gap: 30px;\n      margin-top: 30px;\n    }\n    \n    .signature-item img {\n      max-width: 150px;\n      max-height: 80px;\n    }\n  </style>\n</head>\n<body>\n  <!--  -->\n  <div class=\"header\">\n    <div>\n      ${workspace?.logoUrl ? `<img src=\"${escapeHtml(workspace.logoUrl)}\" alt=\"Logo\" class=\"logo\">` : ''}\n    </div>\n    <div class=\"company-info\">\n      ${workspace?.companyName ? `<div><strong>${escapeHtml(workspace.companyName)}</strong></div>` : ''}\n      ${workspace?.inn ? `<div>: ${escapeHtml(workspace.inn)}</div>` : ''}\n    </div>\n  </div>\n\n  <!--  -->\n  ${isSectionVisible('basic') && proposal.title ? `<h1>${escapeHtml(proposal.title)}</h1>` : ''}\n\n  <!--  -->\n  ${isSectionVisible('basic') && proposal.recipientName ? `<div class=\"greeting\">${escapeHtml(proposal.recipientName)}</div>` : ''}\n\n  <!--   (Point A) -->\n  ${isSectionVisible('context') && proposal.problemDesc ? `\n    <div class=\"section\">\n      <div class=\"section-content\">${escapeHtml(proposal.problemDesc)}</div>\n    </div>\n  ` : ''}\n\n  <!--   (Point B) -->\n  ${isSectionVisible('context') && proposal.solutionDesc ? `\n    <div class=\"section\">\n      <div class=\"section-content\">${escapeHtml(proposal.solutionDesc)}</div>\n    </div>\n  ` : ''}\n\n  <!--   -->\n  ${isSectionVisible('context') && proposal.additionalDesc ? `\n    <div class=\"section\">\n      <div class=\"section-content\">${escapeHtml(proposal.additionalDesc)}</div>\n    </div>\n  ` : ''}\n\n  <!--  -->\n  ${isSectionVisible('advantages') && advantages.length > 0 ? `\n    <div class=\"section\">\n      <div class=\"section-title\"></div>\n      <div class=\"advantages-grid\" style=\"--advantages-columns: ${effectiveAdvantagesColumns}\">\n        ${advantages.map((item) => `\n          <div class=\"advantage-card\">\n            <div class=\"advantage-icon\">\n              ${item.iconUrl ? `<img src=\"${escapeHtml(item.iconUrl)}\" alt=\" \">` : ''}\n            </div>\n            <div class=\"advantage-title\">${escapeHtml(item.title || ' ')}</div>\n            <div class=\"advantage-description\">${escapeHtml(item.description || '')}</div>\n          </div>\n        `).join('')}\n      </div>\n    </div>\n  ` : ''}\n\n  <!--  / -->\n  ${isSectionVisible('products') && hasProductsToRender ? `\n    ${activeVariant ? `\n      <div class=\"variant-meta\">\n        <div class=\"variant-name\">\n          ${escapeHtml(activeVariant.name)}\n          ${activeVariant.isRecommended ? '<span class=\"variant-badge\"></span>' : ''}\n        </div>\n        ${activeVariant.description ? `<div class=\"variant-description\">${escapeHtml(activeVariant.description)}</div>` : ''}\n      </div>\n    ` : ''}\n    <table class=\"price-table\">\n      <thead>\n        <tr>\n          <th></th>\n          <th></th>\n          <th class=\"text-center\">-</th>\n          ${showUnitColumn ? '<th class=\"text-center\">.</th>' : ''}\n          <th class=\"text-right\">, ${currencySymbol}</th>\n          ${showDiscountColumn ? '<th class=\"text-right\"></th>' : ''}\n          <th class=\"text-right\">, ${currencySymbol}</th>\n        </tr>\n      </thead>\n      <tbody>\n        ${hasVariantRows ? (() => {\n          let itemIndex = 0;\n          return variantRows\n            .map((row) => {\n              if (!isProductVariantItemRow(row)) {\n                return `\n                  <tr class=\"group-row\">\n                    <td colspan=\"${tableColumnCount}\">${escapeHtml(row.title || '')}</td>\n                  </tr>\n                `;\n              }\n\n              itemIndex += 1;\n              const item = row as ProposalItem;\n              return `\n                <tr>\n                  <td class=\"text-center\">${itemIndex}</td>\n                  <td>\n                    <strong>${escapeHtml(item.name)}</strong>\n                    ${item.description ? `<br><small style=\"color: #666;\">${escapeHtml(item.description)}</small>` : ''}\n                  </td>\n                  <td class=\"text-center\">${item.qty}</td>\n                  ${showUnitColumn ? `<td class=\"text-center\">${escapeHtml(item.unit || '')}</td>` : ''}\n                  <td class=\"text-right\">${formatAmount(item.price)}</td>\n                  ${showDiscountColumn ? `<td class=\"text-right\">${item.discount ? `${item.discount}%` : '0%'}</td>` : ''}\n                  <td class=\"text-right\"><strong>${formatAmount(calculateItemTotal(item))}</strong></td>\n                </tr>\n              `;\n            })\n            .join('');\n        })() : renderedItems.map((item: ProposalItem, index: number) => `\n          <tr>\n            <td class=\"text-center\">${index + 1}</td>\n            <td>\n              <strong>${escapeHtml(item.name)}</strong>\n              ${item.description ? `<br><small style=\"color: #666;\">${escapeHtml(item.description)}</small>` : ''}\n            </td>\n            <td class=\"text-center\">${item.qty}</td>\n            ${showUnitColumn ? `<td class=\"text-center\">${escapeHtml(item.unit || '')}</td>` : ''}\n            <td class=\"text-right\">${formatAmount(item.price)}</td>\n            ${showDiscountColumn ? `<td class=\"text-right\">${item.discount ? `${item.discount}%` : '0%'}</td>` : ''}\n            <td class=\"text-right\"><strong>${formatAmount(calculateItemTotal(item))}</strong></td>\n          </tr>\n        `).join('')}\n      </tbody>\n    </table>\n\n    <!--  -->\n    <div class=\"totals\">\n      <div class=\"totals-row\">\n        <span class=\"totals-label\">:</span>\n        <span class=\"totals-value\">${formatPrice(subtotal, proposal.currency)}</span>\n      </div>\n      ${proposal.includeVat ? `\n        <div class=\"totals-row\">\n          <span class=\"totals-label\"> ${proposal.vatRate}%:</span>\n          <span class=\"totals-value\">${formatPrice(vatAmount, proposal.currency)}</span>\n        </div>\n        <div class=\"totals-row total\">\n          <span class=\"totals-label\">  :</span>\n          <span class=\"totals-value\">${formatPrice(total, proposal.currency)}</span>\n        </div>\n      ` : `\n        <div class=\"totals-row total\">\n          <span class=\"totals-label\">:</span>\n          <span class=\"totals-value\">${formatPrice(total, proposal.currency)}</span>\n        </div>\n      `}\n    </div>\n  ` : ''}\n\n  <!--  -->\n  ${isSectionVisible('terms') && (proposal.deadline || proposal.paymentTerms || proposal.validUntil) ? `\n    <div class=\"terms\">\n      ${proposal.deadline ? `\n        <div class=\"term-item\">\n          <div class=\"term-label\"> :</div>\n          <div class=\"term-value\">${escapeHtml(proposal.deadline)}</div>\n        </div>\n      ` : ''}\n      ${proposal.paymentTerms ? `\n        <div class=\"term-item\">\n          <div class=\"term-label\"> :</div>\n          <div class=\"term-value\">${\n            proposal.paymentTerms === 'prepaid' ? '100% ' :\n            proposal.paymentTerms === '50-50' ? '50%  / 50%  ' :\n            proposal.paymentTerms === 'postpaid' ? '' :\n            proposal.paymentCustom ? escapeHtml(proposal.paymentCustom) : escapeHtml(proposal.paymentTerms)\n          }</div>\n        </div>\n      ` : ''}\n      ${proposal.validUntil ? `\n        <div class=\"term-item\">\n          <div class=\"term-label\">  :</div>\n          <div class=\"term-value\">${new Date(proposal.validUntil).toLocaleDateString('ru-RU')}</div>\n        </div>\n      ` : ''}\n    </div>\n  ` : ''}\n\n  <!--  -->\n  ${isSectionVisible('gallery') && proposal.galleryImages && proposal.galleryImages.length > 0 ? `\n    <div class=\"section\">\n      <div class=\"section-title\"> </div>\n      <div class=\"gallery\">\n        ${proposal.galleryImages.map((url: string) => `<img src=\"${escapeHtml(url)}\" alt=\"Portfolio image\">`).join('')}\n      </div>\n    </div>\n  ` : ''}\n\n  <!-- CTA -->\n  ${isSectionVisible('contacts') && (proposal.ctaText || proposal.ctaPhone || proposal.ctaEmail) ? `\n    <div class=\"cta\">\n      ${proposal.ctaText ? `<div class=\"cta-text\">${escapeHtml(proposal.ctaText)}</div>` : ''}\n      <div class=\"cta-contacts\">\n        ${proposal.ctaPhone ? ` ${escapeHtml(proposal.ctaPhone)}` : ''}\n        ${proposal.ctaPhone && proposal.ctaEmail ? '  ' : ''}\n        ${proposal.ctaEmail ? ` ${escapeHtml(proposal.ctaEmail)}` : ''}\n      </div>\n    </div>\n  ` : ''}\n\n  <!--  -->\n  ${isSectionVisible('terms') && proposal.notes ? `\n    <div class=\"section\">\n      <div class=\"section-title\"></div>\n      <div class=\"section-content\">${escapeHtml(proposal.notes)}</div>\n    </div>\n  ` : ''}\n\n  <!--    -->\n  ${workspace ? `\n    <div class=\"footer\">\n      <div class=\"requisites\">\n        <div><strong>:</strong></div>\n        <div class=\"requisites-grid\">\n          ${workspace.companyName ? `<div>: ${escapeHtml(workspace.companyName)}</div>` : ''}\n          ${workspace.inn ? `<div>: ${escapeHtml(workspace.inn)}</div>` : ''}\n          ${workspace.ogrn ? `<div>: ${escapeHtml(workspace.ogrn)}</div>` : ''}\n          ${workspace.legalAddress ? `<div style=\"grid-column: 1 / -1;\">. : ${escapeHtml(workspace.legalAddress)}</div>` : ''}\n          ${workspace.bankName ? `<div>: ${escapeHtml(workspace.bankName)}</div>` : ''}\n          ${workspace.bik ? `<div>: ${escapeHtml(workspace.bik)}</div>` : ''}\n          ${workspace.accountNumber ? `<div style=\"grid-column: 1 / -1;\">/: ${escapeHtml(workspace.accountNumber)}</div>` : ''}\n        </div>\n      </div>\n      \n      ${workspace.signatureUrl || workspace.stampUrl ? `\n        <div class=\"signatures\">\n          ${workspace.signatureUrl ? `\n            <div class=\"signature-item\">\n              <img src=\"${escapeHtml(workspace.signatureUrl)}\" alt=\"\">\n            </div>\n          ` : ''}\n          ${workspace.stampUrl ? `\n            <div class=\"signature-item\">\n              <img src=\"${escapeHtml(workspace.stampUrl)}\" alt=\"\">\n            </div>\n          ` : ''}\n        </div>\n      ` : ''}\n    </div>\n  ` : ''}\n\n  <script>\n    //    iframe\n    if (window.parent !== window) {\n      function sendHeight() {\n        const height = document.documentElement.scrollHeight;\n        window.parent.postMessage({ type: 'resize', height: height }, '*');\n      }\n      window.addEventListener('load', sendHeight);\n      window.addEventListener('resize', sendHeight);\n      //   \n      setTimeout(sendHeight, 100);\n    }\n  </script>\n</body>\n</html>`;\n}\n","export function isValidIndex(index: number | null): index is number {\n  return index !== null && index >= 0;\n}\n","import type {UniqueIdentifier} from '@dnd-kit/core';\n\nexport function itemsEqual(a: UniqueIdentifier[], b: UniqueIdentifier[]) {\n  if (a === b) {\n    return true;\n  }\n\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  for (let i = 0; i < a.length; i++) {\n    if (a[i] !== b[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","import type {Announcements, ScreenReaderInstructions} from './types';\n\nexport const defaultScreenReaderInstructions: ScreenReaderInstructions = {\n  draggable: `\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  `,\n};\n\nexport const defaultAnnouncements: Announcements = {\n  onDragStart({active}) {\n    return `Picked up draggable item ${active.id}.`;\n  },\n  onDragOver({active, over}) {\n    if (over) {\n      return `Draggable item ${active.id} was moved over droppable area ${over.id}.`;\n    }\n\n    return `Draggable item ${active.id} is no longer over a droppable area.`;\n  },\n  onDragEnd({active, over}) {\n    if (over) {\n      return `Draggable item ${active.id} was dropped over droppable area ${over.id}`;\n    }\n\n    return `Draggable item ${active.id} was dropped.`;\n  },\n  onDragCancel({active}) {\n    return `Dragging was cancelled. Draggable item ${active.id} was dropped.`;\n  },\n};\n","import {getWindow} from '../execution-context/getWindow';\n\nexport function isDocument(node: Node): node is Document {\n  const {Document} = getWindow(node);\n\n  return node instanceof Document;\n}\n","import {useCallback, useState} from 'react';\n\nexport function useAnnouncement() {\n  const [announcement, setAnnouncement] = useState('');\n  const announce = useCallback((value: string | undefined) => {\n    if (value != null) {\n      setAnnouncement(value);\n    }\n  }, []);\n\n  return {announce, announcement} as const;\n}\n","import {getWindow} from '../execution-context/getWindow';\n\nimport {isWindow} from './isWindow';\n\nexport function isHTMLElement(node: Node | Window): node is HTMLElement {\n  if (isWindow(node)) {\n    return false;\n  }\n\n  return node instanceof getWindow(node).HTMLElement;\n}\n","import type {Disabled} from '../types';\n\nexport function normalizeDisabled(disabled: boolean | Disabled): Disabled {\n  if (typeof disabled === 'boolean') {\n    return {\n      draggable: disabled,\n      droppable: disabled,\n    };\n  }\n\n  return disabled;\n}\n","import {getWindow} from '../execution-context/getWindow';\n\nexport function isSVGElement(node: Node): node is SVGElement {\n  return node instanceof getWindow(node).SVGElement;\n}\n","import {\n  isWindow,\n  isHTMLElement,\n  isDocument,\n  isNode,\n  isSVGElement,\n} from '../type-guards';\n\nexport function getOwnerDocument(target: Event['target']): Document {\n  if (!target) {\n    return document;\n  }\n\n  if (isWindow(target)) {\n    return target.document;\n  }\n\n  if (!isNode(target)) {\n    return document;\n  }\n\n  if (isDocument(target)) {\n    return target;\n  }\n\n  if (isHTMLElement(target) || isSVGElement(target)) {\n    return target.ownerDocument;\n  }\n\n  return document;\n}\n","import type {ClientRect} from '@dnd-kit/core';\nimport type {SortingStrategy} from '../types';\n\n// To-do: We should be calculating scale transformation\nconst defaultScale = {\n  scaleX: 1,\n  scaleY: 1,\n};\n\nexport const horizontalListSortingStrategy: SortingStrategy = ({\n  rects,\n  activeNodeRect: fallbackActiveRect,\n  activeIndex,\n  overIndex,\n  index,\n}) => {\n  const activeNodeRect = rects[activeIndex] ?? fallbackActiveRect;\n\n  if (!activeNodeRect) {\n    return null;\n  }\n\n  const itemGap = getItemGap(rects, index, activeIndex);\n\n  if (index === activeIndex) {\n    const newIndexRect = rects[overIndex];\n\n    if (!newIndexRect) {\n      return null;\n    }\n\n    return {\n      x:\n        activeIndex < overIndex\n          ? newIndexRect.left +\n            newIndexRect.width -\n            (activeNodeRect.left + activeNodeRect.width)\n          : newIndexRect.left - activeNodeRect.left,\n      y: 0,\n      ...defaultScale,\n    };\n  }\n\n  if (index > activeIndex && index <= overIndex) {\n    return {\n      x: -activeNodeRect.width - itemGap,\n      y: 0,\n      ...defaultScale,\n    };\n  }\n\n  if (index < activeIndex && index >= overIndex) {\n    return {\n      x: activeNodeRect.width + itemGap,\n      y: 0,\n      ...defaultScale,\n    };\n  }\n\n  return {\n    x: 0,\n    y: 0,\n    ...defaultScale,\n  };\n};\n\nfunction getItemGap(rects: ClientRect[], index: number, activeIndex: number) {\n  const currentRect: ClientRect | undefined = rects[index];\n  const previousRect: ClientRect | undefined = rects[index - 1];\n  const nextRect: ClientRect | undefined = rects[index + 1];\n\n  if (!currentRect || (!previousRect && !nextRect)) {\n    return 0;\n  }\n\n  if (activeIndex < index) {\n    return previousRect\n      ? currentRect.left - (previousRect.left + previousRect.width)\n      : nextRect.left - (currentRect.left + currentRect.width);\n  }\n\n  return nextRect\n    ? nextRect.left - (currentRect.left + currentRect.width)\n    : currentRect.left - (previousRect.left + previousRect.width);\n}\n","import React, {useEffect, useMemo, useState} from 'react';\nimport {createPortal} from 'react-dom';\nimport {useUniqueId} from '@dnd-kit/utilities';\nimport {HiddenText, LiveRegion, useAnnouncement} from '@dnd-kit/accessibility';\n\nimport {DndMonitorListener, useDndMonitor} from '../DndMonitor';\n\nimport type {Announcements, ScreenReaderInstructions} from './types';\nimport {\n  defaultAnnouncements,\n  defaultScreenReaderInstructions,\n} from './defaults';\n\ninterface Props {\n  announcements?: Announcements;\n  container?: Element;\n  screenReaderInstructions?: ScreenReaderInstructions;\n  hiddenTextDescribedById: string;\n}\n\nexport function Accessibility({\n  announcements = defaultAnnouncements,\n  container,\n  hiddenTextDescribedById,\n  screenReaderInstructions = defaultScreenReaderInstructions,\n}: Props) {\n  const {announce, announcement} = useAnnouncement();\n  const liveRegionId = useUniqueId(`DndLiveRegion`);\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  useDndMonitor(\n    useMemo<DndMonitorListener>(\n      () => ({\n        onDragStart({active}) {\n          announce(announcements.onDragStart({active}));\n        },\n        onDragMove({active, over}) {\n          if (announcements.onDragMove) {\n            announce(announcements.onDragMove({active, over}));\n          }\n        },\n        onDragOver({active, over}) {\n          announce(announcements.onDragOver({active, over}));\n        },\n        onDragEnd({active, over}) {\n          announce(announcements.onDragEnd({active, over}));\n        },\n        onDragCancel({active, over}) {\n          announce(announcements.onDragCancel({active, over}));\n        },\n      }),\n      [announce, announcements]\n    )\n  );\n\n  if (!mounted) {\n    return null;\n  }\n\n  const markup = (\n    <>\n      <HiddenText\n        id={hiddenTextDescribedById}\n        value={screenReaderInstructions.draggable}\n      />\n      <LiveRegion id={liveRegionId} announcement={announcement} />\n    </>\n  );\n\n  return container ? createPortal(markup, container) : markup;\n}\n","import {useEffect, useLayoutEffect} from 'react';\n\nimport {canUseDOM} from '../execution-context';\n\n/**\n * A hook that resolves to useEffect on the server and useLayoutEffect on the client\n * @param callback {function} Callback function that is invoked when the dependencies of the hook change\n */\nexport const useIsomorphicLayoutEffect = canUseDOM\n  ? useLayoutEffect\n  : useEffect;\n","import {useCallback, useRef} from 'react';\n\nimport {useIsomorphicLayoutEffect} from './useIsomorphicLayoutEffect';\n\nexport function useEvent<T extends Function>(handler: T | undefined) {\n  const handlerRef = useRef<T | undefined>(handler);\n\n  useIsomorphicLayoutEffect(() => {\n    handlerRef.current = handler;\n  });\n\n  return useCallback(function (...args: any) {\n    return handlerRef.current?.(...args);\n  }, []);\n}\n","//       (Proposals)\n\nexport type PricingMode = \"single\" | \"variants\";\n\nexport interface ProposalItem {\n  id: string;\n  productId?: string; //    \n  name: string;\n  description?: string;\n  qty: number;\n  price: number;\n  discount?: number; //  \n  unit?: string; // \"\", \"\", \"\"  ..\n}\n\nexport interface ProductVariantGroupRow {\n  id: string;\n  type: \"group\";\n  title: string;\n}\n\nexport interface ProductVariantItemRow extends ProposalItem {\n  type: \"item\";\n  groupId?: string;\n}\n\nexport type ProductVariantRow = ProductVariantGroupRow | ProductVariantItemRow;\n\nexport interface ProductVariant {\n  id: string;\n  name: string;\n  description?: string;\n  isRecommended?: boolean;\n  currency?: string;\n  rows: ProductVariantRow[];\n}\n\nexport interface ProductsViewSettings {\n  showDiscountColumn?: boolean;\n  showUnitColumn?: boolean;\n}\n\nexport interface AdvantageItem {\n  id?: string;\n  iconUrl?: string;\n  title: string;\n  description: string;\n}\n\nexport interface Proposal {\n  id?: string;\n  workspaceId: string;\n  clientId?: string;\n\n  //  \n  title: string;\n  recipientName?: string; // \"  !\"\n\n  //   \n  problemDesc?: string; //    (Point A)\n  solutionDesc?: string; //   (Point B)\n  additionalDesc?: string; //  \n\n  // /\n  items: ProposalItem[]; // legacy/single mode\n  currency: string; // \"RUB\", \"USD\", \"EUR\"\n  pricingMode?: PricingMode;\n  productVariants?: ProductVariant[];\n  activeVariantId?: string;\n  productsView?: ProductsViewSettings;\n\n  // \n  deadline?: string; //  : \"2 \", \" 31.12.2024\"\n  paymentTerms?: string; // \"prepaid\" | \"50-50\" | \"postpaid\" | \"custom\"\n  paymentCustom?: string; //  paymentTerms = \"custom\"\n  validUntil?: Date | string; //   \n\n  // \n  includeVat: boolean;\n  vatRate: number; //  \n\n  // \n  galleryImages?: string[]; //  URL \n\n  // \n  advantages?: AdvantageItem[];\n  advantagesColumns?: 1 | 2 | 3;\n\n  //   \n  visibleSections?: string[];\n\n  // CTA (  )\n  ctaText?: string;\n  ctaPhone?: string;\n  ctaEmail?: string;\n\n  // \n  notes?: string;\n\n  // \n  version?: number;\n  status?: \"draft\" | \"sent\" | \"accepted\" | \"rejected\";\n  createdBy?: string;\n  updatedBy?: string;\n  createdAt?: Date | string;\n  updatedAt?: Date | string;\n}\n\n//   ()\nexport const PAYMENT_TERMS_OPTIONS = [\n  { value: \"prepaid\", label: \"100% \" },\n  { value: \"50-50\", label: \"50%  / 50%  \" },\n  { value: \"postpaid\", label: \"\" },\n  { value: \"custom\", label: \" \" },\n] as const;\n\nexport type PaymentTermsValue = typeof PAYMENT_TERMS_OPTIONS[number][\"value\"];\n\n// \nexport const CURRENCY_OPTIONS = [\n  { value: \"RUB\", label: \" \", symbol: \"\" },\n  { value: \"USD\", label: \"$ \", symbol: \"$\" },\n  { value: \"EUR\", label: \" \", symbol: \"\" },\n] as const;\n\nexport type CurrencyValue = typeof CURRENCY_OPTIONS[number][\"value\"];\n\nexport function isProductVariantItemRow(row: ProductVariantRow): row is ProductVariantItemRow {\n  return row.type === \"item\";\n}\n\nexport function getVariantItems(variant: ProductVariant | null | undefined): ProposalItem[] {\n  if (!variant) return [];\n  return variant.rows.filter(isProductVariantItemRow).map((row) => ({\n    id: row.id,\n    productId: row.productId,\n    name: row.name,\n    description: row.description,\n    qty: row.qty,\n    price: row.price,\n    discount: row.discount,\n    unit: row.unit,\n  }));\n}\n\nexport function getActiveVariant(proposal: Proposal): ProductVariant | null {\n  if (proposal.pricingMode !== \"variants\" || !Array.isArray(proposal.productVariants) || proposal.productVariants.length === 0) {\n    return null;\n  }\n  if (proposal.activeVariantId) {\n    const byActiveId = proposal.productVariants.find((variant) => variant.id === proposal.activeVariantId);\n    if (byActiveId) return byActiveId;\n  }\n  const recommended = proposal.productVariants.find((variant) => variant.isRecommended);\n  return recommended ?? proposal.productVariants[0];\n}\n\nexport function getProposalItems(proposal: Proposal): ProposalItem[] {\n  const activeVariant = getActiveVariant(proposal);\n  if (activeVariant) {\n    return getVariantItems(activeVariant);\n  }\n  return Array.isArray(proposal.items) ? proposal.items : [];\n}\n\n//   \nexport function calculateItemTotal(item: ProposalItem): number {\n  const subtotal = item.qty * item.price;\n  if (item.discount && item.discount > 0) {\n    return subtotal * (1 - item.discount / 100);\n  }\n  return subtotal;\n}\n\nexport function calculateProposalSubtotal(items: ProposalItem[]): number {\n  return items.reduce((sum, item) => sum + calculateItemTotal(item), 0);\n}\n\nexport function calculateProposalTotal(proposal: Proposal): number {\n  const subtotal = calculateProposalSubtotal(getProposalItems(proposal));\n  if (proposal.includeVat && proposal.vatRate > 0) {\n    return subtotal * (1 + proposal.vatRate / 100);\n  }\n  return subtotal;\n}\n\nexport function calculateVatAmount(proposal: Proposal): number {\n  if (!proposal.includeVat || proposal.vatRate === 0) return 0;\n  const subtotal = calculateProposalSubtotal(getProposalItems(proposal));\n  return subtotal * (proposal.vatRate / 100);\n}\n","import {useCallback, useRef} from 'react';\n\nexport function useInterval() {\n  const intervalRef = useRef<number | null>(null);\n\n  const set = useCallback((listener: Function, duration: number) => {\n    intervalRef.current = setInterval(listener, duration);\n  }, []);\n\n  const clear = useCallback(() => {\n    if (intervalRef.current !== null) {\n      clearInterval(intervalRef.current);\n      intervalRef.current = null;\n    }\n  }, []);\n\n  return [set, clear] as const;\n}\n","import {useRef} from 'react';\nimport type {DependencyList} from 'react';\n\nimport {useIsomorphicLayoutEffect} from './useIsomorphicLayoutEffect';\n\nexport function useLatestValue<T extends any>(\n  value: T,\n  dependencies: DependencyList = [value]\n) {\n  const valueRef = useRef<T>(value);\n\n  useIsomorphicLayoutEffect(() => {\n    if (valueRef.current !== value) {\n      valueRef.current = value;\n    }\n  }, dependencies);\n\n  return valueRef;\n}\n","import {useMemo, useRef} from 'react';\n\nexport function useLazyMemo<T>(\n  callback: (prevValue: T | undefined) => T,\n  dependencies: any[]\n) {\n  const valueRef = useRef<T>();\n\n  return useMemo(\n    () => {\n      const newValue = callback(valueRef.current);\n      valueRef.current = newValue;\n\n      return newValue;\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [...dependencies]\n  );\n}\n","import {arrayMove} from '../utilities';\nimport type {SortingStrategy} from '../types';\n\nexport const rectSortingStrategy: SortingStrategy = ({\n  rects,\n  activeIndex,\n  overIndex,\n  index,\n}) => {\n  const newRects = arrayMove(rects, overIndex, activeIndex);\n\n  const oldRect = rects[index];\n  const newRect = newRects[index];\n\n  if (!newRect || !oldRect) {\n    return null;\n  }\n\n  return {\n    x: newRect.left - oldRect.left,\n    y: newRect.top - oldRect.top,\n    scaleX: newRect.width / oldRect.width,\n    scaleY: newRect.height / oldRect.height,\n  };\n};\n","import {useRef, useCallback} from 'react';\n\nimport {useEvent} from './useEvent';\n\nexport function useNodeRef(\n  onChange?: (\n    newElement: HTMLElement | null,\n    previousElement: HTMLElement | null\n  ) => void\n) {\n  const onChangeHandler = useEvent(onChange);\n  const node = useRef<HTMLElement | null>(null);\n  const setNodeRef = useCallback(\n    (element: HTMLElement | null) => {\n      if (element !== node.current) {\n        onChangeHandler?.(element, node.current);\n      }\n\n      node.current = element;\n    },\n    //eslint-disable-next-line\n    []\n  );\n\n  return [node, setNodeRef] as const;\n}\n","import {useRef, useEffect} from 'react';\n\nexport function usePrevious<T>(value: T) {\n  const ref = useRef<T>();\n\n  useEffect(() => {\n    ref.current = value;\n  }, [value]);\n\n  return ref.current;\n}\n","import {useMemo} from 'react';\n\nlet ids: Record<string, number> = {};\n\nexport function useUniqueId(prefix: string, value?: string) {\n  return useMemo(() => {\n    if (value) {\n      return value;\n    }\n\n    const id = ids[prefix] == null ? 0 : ids[prefix] + 1;\n    ids[prefix] = id;\n\n    return `${prefix}-${id}`;\n  }, [prefix, value]);\n}\n","import type {SortingStrategy} from '../types';\n\nexport const rectSwappingStrategy: SortingStrategy = ({\n  activeIndex,\n  index,\n  rects,\n  overIndex,\n}) => {\n  let oldRect;\n  let newRect;\n\n  if (index === activeIndex) {\n    oldRect = rects[index];\n    newRect = rects[overIndex];\n  }\n\n  if (index === overIndex) {\n    oldRect = rects[index];\n    newRect = rects[activeIndex];\n  }\n\n  if (!newRect || !oldRect) {\n    return null;\n  }\n\n  return {\n    x: newRect.left - oldRect.left,\n    y: newRect.top - oldRect.top,\n    scaleX: newRect.width / oldRect.width,\n    scaleY: newRect.height / oldRect.height,\n  };\n};\n","import type {Coordinates, UniqueIdentifier} from '../types';\nimport type {DroppableContainer} from './types';\n\nexport enum Action {\n  DragStart = 'dragStart',\n  DragMove = 'dragMove',\n  DragEnd = 'dragEnd',\n  DragCancel = 'dragCancel',\n  DragOver = 'dragOver',\n  RegisterDroppable = 'registerDroppable',\n  SetDroppableDisabled = 'setDroppableDisabled',\n  UnregisterDroppable = 'unregisterDroppable',\n}\n\nexport type Actions =\n  | {\n      type: Action.DragStart;\n      active: UniqueIdentifier;\n      initialCoordinates: Coordinates;\n    }\n  | {type: Action.DragMove; coordinates: Coordinates}\n  | {type: Action.DragEnd}\n  | {type: Action.DragCancel}\n  | {\n      type: Action.RegisterDroppable;\n      element: DroppableContainer;\n    }\n  | {\n      type: Action.SetDroppableDisabled;\n      id: UniqueIdentifier;\n      key: UniqueIdentifier;\n      disabled: boolean;\n    }\n  | {\n      type: Action.UnregisterDroppable;\n      id: UniqueIdentifier;\n      key: UniqueIdentifier;\n    };\n","function createAdjustmentFn(modifier: number) {\n  return <T extends Record<U, number>, U extends string>(\n    object: T,\n    ...adjustments: Partial<T>[]\n  ): T => {\n    return adjustments.reduce<T>(\n      (accumulator, adjustment) => {\n        const entries = Object.entries(adjustment) as [U, number][];\n\n        for (const [key, valueAdjustment] of entries) {\n          const value = accumulator[key];\n\n          if (value != null) {\n            accumulator[key] = (value + modifier * valueAdjustment) as T[U];\n          }\n        }\n\n        return accumulator;\n      },\n      {\n        ...object,\n      }\n    );\n  };\n}\n\nexport const add = createAdjustmentFn(1);\nexport const subtract = createAdjustmentFn(-1);\n","export function noop(..._args: any) {}\n","import {useMemo} from 'react';\n\nimport type {Sensor, SensorDescriptor, SensorOptions} from './types';\n\nexport function useSensor<T extends SensorOptions>(\n  sensor: Sensor<T>,\n  options?: T\n): SensorDescriptor<T> {\n  return useMemo(\n    () => ({\n      sensor,\n      options: options ?? ({} as T),\n    }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [sensor, options]\n  );\n}\n","import {useMemo} from 'react';\n\nimport type {SensorDescriptor, SensorOptions} from './types';\n\nexport function useSensors(\n  ...sensors: (SensorDescriptor<any> | undefined | null)[]\n): SensorDescriptor<SensorOptions>[] {\n  return useMemo(\n    () =>\n      [...sensors].filter(\n        (sensor): sensor is SensorDescriptor<any> => sensor != null\n      ),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [...sensors]\n  );\n}\n","import type {ClientRect} from '@dnd-kit/core';\nimport type {SortingStrategy} from '../types';\n\n// To-do: We should be calculating scale transformation\nconst defaultScale = {\n  scaleX: 1,\n  scaleY: 1,\n};\n\nexport const verticalListSortingStrategy: SortingStrategy = ({\n  activeIndex,\n  activeNodeRect: fallbackActiveRect,\n  index,\n  rects,\n  overIndex,\n}) => {\n  const activeNodeRect = rects[activeIndex] ?? fallbackActiveRect;\n\n  if (!activeNodeRect) {\n    return null;\n  }\n\n  if (index === activeIndex) {\n    const overIndexRect = rects[overIndex];\n\n    if (!overIndexRect) {\n      return null;\n    }\n\n    return {\n      x: 0,\n      y:\n        activeIndex < overIndex\n          ? overIndexRect.top +\n            overIndexRect.height -\n            (activeNodeRect.top + activeNodeRect.height)\n          : overIndexRect.top - activeNodeRect.top,\n      ...defaultScale,\n    };\n  }\n\n  const itemGap = getItemGap(rects, index, activeIndex);\n\n  if (index > activeIndex && index <= overIndex) {\n    return {\n      x: 0,\n      y: -activeNodeRect.height - itemGap,\n      ...defaultScale,\n    };\n  }\n\n  if (index < activeIndex && index >= overIndex) {\n    return {\n      x: 0,\n      y: activeNodeRect.height + itemGap,\n      ...defaultScale,\n    };\n  }\n\n  return {\n    x: 0,\n    y: 0,\n    ...defaultScale,\n  };\n};\n\nfunction getItemGap(\n  clientRects: ClientRect[],\n  index: number,\n  activeIndex: number\n) {\n  const currentRect: ClientRect | undefined = clientRects[index];\n  const previousRect: ClientRect | undefined = clientRects[index - 1];\n  const nextRect: ClientRect | undefined = clientRects[index + 1];\n\n  if (!currentRect) {\n    return 0;\n  }\n\n  if (activeIndex < index) {\n    return previousRect\n      ? currentRect.top - (previousRect.top + previousRect.height)\n      : nextRect\n      ? nextRect.top - (currentRect.top + currentRect.height)\n      : 0;\n  }\n\n  return nextRect\n    ? nextRect.top - (currentRect.top + currentRect.height)\n    : previousRect\n    ? currentRect.top - (previousRect.top + previousRect.height)\n    : 0;\n}\n","import type {Coordinates} from '../../types';\n\nexport const defaultCoordinates: Coordinates = Object.freeze({\n  x: 0,\n  y: 0,\n});\n","export function hasViewportRelativeCoordinates(\n  event: Event\n): event is Event & Pick<PointerEvent, 'clientX' | 'clientY'> {\n  return 'clientX' in event && 'clientY' in event;\n}\n","import {getWindow} from '../execution-context';\n\nexport function isKeyboardEvent(\n  event: Event | undefined | null\n): event is KeyboardEvent {\n  if (!event) {\n    return false;\n  }\n\n  const {KeyboardEvent} = getWindow(event.target);\n\n  return KeyboardEvent && event instanceof KeyboardEvent;\n}\n","import type {Coordinates} from '../../types';\n\n/**\n * Returns the distance between two points\n */\nexport function distanceBetween(p1: Coordinates, p2: Coordinates) {\n  return Math.sqrt(Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2));\n}\n","import {getEventCoordinates} from '@dnd-kit/utilities';\nimport type {ClientRect} from '../../types';\n\nexport function getRelativeTransformOrigin(\n  event: MouseEvent | TouchEvent | KeyboardEvent,\n  rect: ClientRect\n) {\n  const eventCoordinates = getEventCoordinates(event);\n\n  if (!eventCoordinates) {\n    return '0 0';\n  }\n\n  const transformOrigin = {\n    x: ((eventCoordinates.x - rect.left) / rect.width) * 100,\n    y: ((eventCoordinates.y - rect.top) / rect.height) * 100,\n  };\n\n  return `${transformOrigin.x}% ${transformOrigin.y}%`;\n}\n","import {getWindow} from '../execution-context';\n\nexport function isTouchEvent(\n  event: Event | undefined | null\n): event is TouchEvent {\n  if (!event) {\n    return false;\n  }\n\n  const {TouchEvent} = getWindow(event.target);\n\n  return TouchEvent && event instanceof TouchEvent;\n}\n","import type {Coordinates} from './types';\nimport {isTouchEvent, hasViewportRelativeCoordinates} from '../event';\n\n/**\n * Returns the normalized x and y coordinates for mouse and touch events.\n */\nexport function getEventCoordinates(event: Event): Coordinates | null {\n  if (isTouchEvent(event)) {\n    if (event.touches && event.touches.length) {\n      const {clientX: x, clientY: y} = event.touches[0];\n\n      return {\n        x,\n        y,\n      };\n    } else if (event.changedTouches && event.changedTouches.length) {\n      const {clientX: x, clientY: y} = event.changedTouches[0];\n\n      return {\n        x,\n        y,\n      };\n    }\n  }\n\n  if (hasViewportRelativeCoordinates(event)) {\n    return {\n      x: event.clientX,\n      y: event.clientY,\n    };\n  }\n\n  return null;\n}\n","/* eslint-disable no-redeclare */\nimport type {ClientRect} from '../../types';\n\nimport type {Collision, CollisionDescriptor} from './types';\n\n/**\n * Sort collisions from smallest to greatest value\n */\nexport function sortCollisionsAsc(\n  {data: {value: a}}: CollisionDescriptor,\n  {data: {value: b}}: CollisionDescriptor\n) {\n  return a - b;\n}\n\n/**\n * Sort collisions from greatest to smallest value\n */\nexport function sortCollisionsDesc(\n  {data: {value: a}}: CollisionDescriptor,\n  {data: {value: b}}: CollisionDescriptor\n) {\n  return b - a;\n}\n\n/**\n * Returns the coordinates of the corners of a given rectangle:\n * [TopLeft {x, y}, TopRight {x, y}, BottomLeft {x, y}, BottomRight {x, y}]\n */\nexport function cornersOfRectangle({left, top, height, width}: ClientRect) {\n  return [\n    {\n      x: left,\n      y: top,\n    },\n    {\n      x: left + width,\n      y: top,\n    },\n    {\n      x: left,\n      y: top + height,\n    },\n    {\n      x: left + width,\n      y: top + height,\n    },\n  ];\n}\n\n/**\n * Returns the first collision, or null if there isn't one.\n * If a property is specified, returns the specified property of the first collision.\n */\nexport function getFirstCollision(\n  collisions: Collision[] | null | undefined\n): Collision | null;\nexport function getFirstCollision<T extends keyof Collision>(\n  collisions: Collision[] | null | undefined,\n  property: T\n): Collision[T] | null;\nexport function getFirstCollision(\n  collisions: Collision[] | null | undefined,\n  property?: keyof Collision\n) {\n  if (!collisions || collisions.length === 0) {\n    return null;\n  }\n\n  const [firstCollision] = collisions;\n\n  return property ? firstCollision[property] : firstCollision;\n}\n","export type Transform = {\n  x: number;\n  y: number;\n  scaleX: number;\n  scaleY: number;\n};\n\nexport interface Transition {\n  property: string;\n  easing: string;\n  duration: number;\n}\n\nexport const CSS = Object.freeze({\n  Translate: {\n    toString(transform: Transform | null) {\n      if (!transform) {\n        return;\n      }\n\n      const {x, y} = transform;\n\n      return `translate3d(${x ? Math.round(x) : 0}px, ${\n        y ? Math.round(y) : 0\n      }px, 0)`;\n    },\n  },\n  Scale: {\n    toString(transform: Transform | null) {\n      if (!transform) {\n        return;\n      }\n\n      const {scaleX, scaleY} = transform;\n\n      return `scaleX(${scaleX}) scaleY(${scaleY})`;\n    },\n  },\n  Transform: {\n    toString(transform: Transform | null) {\n      if (!transform) {\n        return;\n      }\n\n      return [\n        CSS.Translate.toString(transform),\n        CSS.Scale.toString(transform),\n      ].join(' ');\n    },\n  },\n  Transition: {\n    toString({property, duration, easing}: Transition) {\n      return `${property} ${duration}ms ${easing}`;\n    },\n  },\n});\n","import React, {useEffect, useMemo, useRef} from 'react';\nimport {useDndContext, ClientRect, UniqueIdentifier} from '@dnd-kit/core';\nimport {useIsomorphicLayoutEffect, useUniqueId} from '@dnd-kit/utilities';\n\nimport type {Disabled, SortingStrategy} from '../types';\nimport {getSortedRects, itemsEqual, normalizeDisabled} from '../utilities';\nimport {rectSortingStrategy} from '../strategies';\n\nexport interface Props {\n  children: React.ReactNode;\n  items: (UniqueIdentifier | {id: UniqueIdentifier})[];\n  strategy?: SortingStrategy;\n  id?: string;\n  disabled?: boolean | Disabled;\n}\n\nconst ID_PREFIX = 'Sortable';\n\ninterface ContextDescriptor {\n  activeIndex: number;\n  containerId: string;\n  disabled: Disabled;\n  disableTransforms: boolean;\n  items: UniqueIdentifier[];\n  overIndex: number;\n  useDragOverlay: boolean;\n  sortedRects: ClientRect[];\n  strategy: SortingStrategy;\n}\n\nexport const Context = React.createContext<ContextDescriptor>({\n  activeIndex: -1,\n  containerId: ID_PREFIX,\n  disableTransforms: false,\n  items: [],\n  overIndex: -1,\n  useDragOverlay: false,\n  sortedRects: [],\n  strategy: rectSortingStrategy,\n  disabled: {\n    draggable: false,\n    droppable: false,\n  },\n});\n\nexport function SortableContext({\n  children,\n  id,\n  items: userDefinedItems,\n  strategy = rectSortingStrategy,\n  disabled: disabledProp = false,\n}: Props) {\n  const {\n    active,\n    dragOverlay,\n    droppableRects,\n    over,\n    measureDroppableContainers,\n  } = useDndContext();\n  const containerId = useUniqueId(ID_PREFIX, id);\n  const useDragOverlay = Boolean(dragOverlay.rect !== null);\n  const items = useMemo<UniqueIdentifier[]>(\n    () =>\n      userDefinedItems.map((item) =>\n        typeof item === 'object' && 'id' in item ? item.id : item\n      ),\n    [userDefinedItems]\n  );\n  const isDragging = active != null;\n  const activeIndex = active ? items.indexOf(active.id) : -1;\n  const overIndex = over ? items.indexOf(over.id) : -1;\n  const previousItemsRef = useRef(items);\n  const itemsHaveChanged = !itemsEqual(items, previousItemsRef.current);\n  const disableTransforms =\n    (overIndex !== -1 && activeIndex === -1) || itemsHaveChanged;\n  const disabled = normalizeDisabled(disabledProp);\n\n  useIsomorphicLayoutEffect(() => {\n    if (itemsHaveChanged && isDragging) {\n      measureDroppableContainers(items);\n    }\n  }, [itemsHaveChanged, items, isDragging, measureDroppableContainers]);\n\n  useEffect(() => {\n    previousItemsRef.current = items;\n  }, [items]);\n\n  const contextValue = useMemo(\n    (): ContextDescriptor => ({\n      activeIndex,\n      containerId,\n      disabled,\n      disableTransforms,\n      items,\n      overIndex,\n      useDragOverlay,\n      sortedRects: getSortedRects(items, droppableRects),\n      strategy,\n    }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n      activeIndex,\n      containerId,\n      disabled.draggable,\n      disabled.droppable,\n      disableTransforms,\n      items,\n      overIndex,\n      droppableRects,\n      useDragOverlay,\n      strategy,\n    ]\n  );\n\n  return <Context.Provider value={contextValue}>{children}</Context.Provider>;\n}\n","import {distanceBetween} from '../coordinates';\nimport type {Coordinates, ClientRect} from '../../types';\n\nimport type {CollisionDescriptor, CollisionDetection} from './types';\nimport {sortCollisionsAsc} from './helpers';\n\n/**\n * Returns the coordinates of the center of a given ClientRect\n */\nfunction centerOfRectangle(\n  rect: ClientRect,\n  left = rect.left,\n  top = rect.top\n): Coordinates {\n  return {\n    x: left + rect.width * 0.5,\n    y: top + rect.height * 0.5,\n  };\n}\n\n/**\n * Returns the closest rectangles from an array of rectangles to the center of a given\n * rectangle.\n */\nexport const closestCenter: CollisionDetection = ({\n  collisionRect,\n  droppableRects,\n  droppableContainers,\n}) => {\n  const centerRect = centerOfRectangle(\n    collisionRect,\n    collisionRect.left,\n    collisionRect.top\n  );\n  const collisions: CollisionDescriptor[] = [];\n\n  for (const droppableContainer of droppableContainers) {\n    const {id} = droppableContainer;\n    const rect = droppableRects.get(id);\n\n    if (rect) {\n      const distBetween = distanceBetween(centerOfRectangle(rect), centerRect);\n\n      collisions.push({id, data: {droppableContainer, value: distBetween}});\n    }\n  }\n\n  return collisions.sort(sortCollisionsAsc);\n};\n","const SELECTOR =\n  'a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]';\n\nexport function findFirstFocusableNode(\n  element: HTMLElement\n): HTMLElement | null {\n  if (element.matches(SELECTOR)) {\n    return element;\n  }\n\n  return element.querySelector(SELECTOR);\n}\n","import {CSS} from '@dnd-kit/utilities';\n\nimport {arrayMove} from '../utilities';\n\nimport type {\n  AnimateLayoutChanges,\n  NewIndexGetter,\n  SortableTransition,\n} from './types';\n\nexport const defaultNewIndexGetter: NewIndexGetter = ({\n  id,\n  items,\n  activeIndex,\n  overIndex,\n}) => arrayMove(items, activeIndex, overIndex).indexOf(id);\n\nexport const defaultAnimateLayoutChanges: AnimateLayoutChanges = ({\n  containerId,\n  isSorting,\n  wasDragging,\n  index,\n  items,\n  newIndex,\n  previousItems,\n  previousContainerId,\n  transition,\n}) => {\n  if (!transition || !wasDragging) {\n    return false;\n  }\n\n  if (previousItems !== items && index === newIndex) {\n    return false;\n  }\n\n  if (isSorting) {\n    return true;\n  }\n\n  return newIndex !== index && containerId === previousContainerId;\n};\n\nexport const defaultTransition: SortableTransition = {\n  duration: 200,\n  easing: 'ease',\n};\n\nexport const transitionProperty = 'transform';\n\nexport const disabledTransition = CSS.Transition.toString({\n  property: transitionProperty,\n  duration: 0,\n  easing: 'linear',\n});\n\nexport const defaultAttributes = {\n  roleDescription: 'sortable',\n};\n","import {distanceBetween} from '../coordinates';\n\nimport type {CollisionDescriptor, CollisionDetection} from './types';\nimport {cornersOfRectangle, sortCollisionsAsc} from './helpers';\n\n/**\n * Returns the closest rectangles from an array of rectangles to the corners of\n * another rectangle.\n */\nexport const closestCorners: CollisionDetection = ({\n  collisionRect,\n  droppableRects,\n  droppableContainers,\n}) => {\n  const corners = cornersOfRectangle(collisionRect);\n  const collisions: CollisionDescriptor[] = [];\n\n  for (const droppableContainer of droppableContainers) {\n    const {id} = droppableContainer;\n    const rect = droppableRects.get(id);\n\n    if (rect) {\n      const rectCorners = cornersOfRectangle(rect);\n      const distances = corners.reduce((accumulator, corner, index) => {\n        return accumulator + distanceBetween(rectCorners[index], corner);\n      }, 0);\n      const effectiveDistance = Number((distances / 4).toFixed(4));\n\n      collisions.push({\n        id,\n        data: {droppableContainer, value: effectiveDistance},\n      });\n    }\n  }\n\n  return collisions.sort(sortCollisionsAsc);\n};\n","import {useEffect, useRef, useState} from 'react';\nimport {getClientRect, ClientRect} from '@dnd-kit/core';\nimport {Transform, useIsomorphicLayoutEffect} from '@dnd-kit/utilities';\n\ninterface Arguments {\n  rect: React.MutableRefObject<ClientRect | null>;\n  disabled: boolean;\n  index: number;\n  node: React.MutableRefObject<HTMLElement | null>;\n}\n\n/*\n * When the index of an item changes while sorting,\n * we need to temporarily disable the transforms\n */\nexport function useDerivedTransform({disabled, index, node, rect}: Arguments) {\n  const [derivedTransform, setDerivedtransform] = useState<Transform | null>(\n    null\n  );\n  const previousIndex = useRef(index);\n\n  useIsomorphicLayoutEffect(() => {\n    if (!disabled && index !== previousIndex.current && node.current) {\n      const initial = rect.current;\n\n      if (initial) {\n        const current = getClientRect(node.current, {\n          ignoreTransform: true,\n        });\n\n        const delta = {\n          x: initial.left - current.left,\n          y: initial.top - current.top,\n          scaleX: initial.width / current.width,\n          scaleY: initial.height / current.height,\n        };\n\n        if (delta.x || delta.y) {\n          setDerivedtransform(delta);\n        }\n      }\n    }\n\n    if (index !== previousIndex.current) {\n      previousIndex.current = index;\n    }\n  }, [disabled, index, node, rect]);\n\n  useEffect(() => {\n    if (derivedTransform) {\n      setDerivedtransform(null);\n    }\n  }, [derivedTransform]);\n\n  return derivedTransform;\n}\n","import type {ClientRect} from '../../types';\n\nimport type {CollisionDescriptor, CollisionDetection} from './types';\nimport {sortCollisionsDesc} from './helpers';\n\n/**\n * Returns the intersecting rectangle area between two rectangles\n */\nexport function getIntersectionRatio(\n  entry: ClientRect,\n  target: ClientRect\n): number {\n  const top = Math.max(target.top, entry.top);\n  const left = Math.max(target.left, entry.left);\n  const right = Math.min(target.left + target.width, entry.left + entry.width);\n  const bottom = Math.min(target.top + target.height, entry.top + entry.height);\n  const width = right - left;\n  const height = bottom - top;\n\n  if (left < right && top < bottom) {\n    const targetArea = target.width * target.height;\n    const entryArea = entry.width * entry.height;\n    const intersectionArea = width * height;\n    const intersectionRatio =\n      intersectionArea / (targetArea + entryArea - intersectionArea);\n\n    return Number(intersectionRatio.toFixed(4));\n  }\n\n  // Rectangles do not overlap, or overlap has an area of zero (edge/corner overlap)\n  return 0;\n}\n\n/**\n * Returns the rectangles that has the greatest intersection area with a given\n * rectangle in an array of rectangles.\n */\nexport const rectIntersection: CollisionDetection = ({\n  collisionRect,\n  droppableRects,\n  droppableContainers,\n}) => {\n  const collisions: CollisionDescriptor[] = [];\n\n  for (const droppableContainer of droppableContainers) {\n    const {id} = droppableContainer;\n    const rect = droppableRects.get(id);\n\n    if (rect) {\n      const intersectionRatio = getIntersectionRatio(rect, collisionRect);\n\n      if (intersectionRatio > 0) {\n        collisions.push({\n          id,\n          data: {droppableContainer, value: intersectionRatio},\n        });\n      }\n    }\n  }\n\n  return collisions.sort(sortCollisionsDesc);\n};\n","import {useContext, useEffect, useMemo, useRef} from 'react';\nimport {\n  useDraggable,\n  useDroppable,\n  UseDraggableArguments,\n  UseDroppableArguments,\n} from '@dnd-kit/core';\nimport type {Data} from '@dnd-kit/core';\nimport {CSS, isKeyboardEvent, useCombinedRefs} from '@dnd-kit/utilities';\n\nimport {Context} from '../components';\nimport type {Disabled, SortableData, SortingStrategy} from '../types';\nimport {isValidIndex} from '../utilities';\nimport {\n  defaultAnimateLayoutChanges,\n  defaultAttributes,\n  defaultNewIndexGetter,\n  defaultTransition,\n  disabledTransition,\n  transitionProperty,\n} from './defaults';\nimport type {\n  AnimateLayoutChanges,\n  NewIndexGetter,\n  SortableTransition,\n} from './types';\nimport {useDerivedTransform} from './utilities';\n\nexport interface Arguments\n  extends Omit<UseDraggableArguments, 'disabled'>,\n    Pick<UseDroppableArguments, 'resizeObserverConfig'> {\n  animateLayoutChanges?: AnimateLayoutChanges;\n  disabled?: boolean | Disabled;\n  getNewIndex?: NewIndexGetter;\n  strategy?: SortingStrategy;\n  transition?: SortableTransition | null;\n}\n\nexport function useSortable({\n  animateLayoutChanges = defaultAnimateLayoutChanges,\n  attributes: userDefinedAttributes,\n  disabled: localDisabled,\n  data: customData,\n  getNewIndex = defaultNewIndexGetter,\n  id,\n  strategy: localStrategy,\n  resizeObserverConfig,\n  transition = defaultTransition,\n}: Arguments) {\n  const {\n    items,\n    containerId,\n    activeIndex,\n    disabled: globalDisabled,\n    disableTransforms,\n    sortedRects,\n    overIndex,\n    useDragOverlay,\n    strategy: globalStrategy,\n  } = useContext(Context);\n  const disabled: Disabled = normalizeLocalDisabled(\n    localDisabled,\n    globalDisabled\n  );\n  const index = items.indexOf(id);\n  const data = useMemo<SortableData & Data>(\n    () => ({sortable: {containerId, index, items}, ...customData}),\n    [containerId, customData, index, items]\n  );\n  const itemsAfterCurrentSortable = useMemo(\n    () => items.slice(items.indexOf(id)),\n    [items, id]\n  );\n  const {\n    rect,\n    node,\n    isOver,\n    setNodeRef: setDroppableNodeRef,\n  } = useDroppable({\n    id,\n    data,\n    disabled: disabled.droppable,\n    resizeObserverConfig: {\n      updateMeasurementsFor: itemsAfterCurrentSortable,\n      ...resizeObserverConfig,\n    },\n  });\n  const {\n    active,\n    activatorEvent,\n    activeNodeRect,\n    attributes,\n    setNodeRef: setDraggableNodeRef,\n    listeners,\n    isDragging,\n    over,\n    setActivatorNodeRef,\n    transform,\n  } = useDraggable({\n    id,\n    data,\n    attributes: {\n      ...defaultAttributes,\n      ...userDefinedAttributes,\n    },\n    disabled: disabled.draggable,\n  });\n  const setNodeRef = useCombinedRefs(setDroppableNodeRef, setDraggableNodeRef);\n  const isSorting = Boolean(active);\n  const displaceItem =\n    isSorting &&\n    !disableTransforms &&\n    isValidIndex(activeIndex) &&\n    isValidIndex(overIndex);\n  const shouldDisplaceDragSource = !useDragOverlay && isDragging;\n  const dragSourceDisplacement =\n    shouldDisplaceDragSource && displaceItem ? transform : null;\n  const strategy = localStrategy ?? globalStrategy;\n  const finalTransform = displaceItem\n    ? dragSourceDisplacement ??\n      strategy({\n        rects: sortedRects,\n        activeNodeRect,\n        activeIndex,\n        overIndex,\n        index,\n      })\n    : null;\n  const newIndex =\n    isValidIndex(activeIndex) && isValidIndex(overIndex)\n      ? getNewIndex({id, items, activeIndex, overIndex})\n      : index;\n  const activeId = active?.id;\n  const previous = useRef({\n    activeId,\n    items,\n    newIndex,\n    containerId,\n  });\n  const itemsHaveChanged = items !== previous.current.items;\n  const shouldAnimateLayoutChanges = animateLayoutChanges({\n    active,\n    containerId,\n    isDragging,\n    isSorting,\n    id,\n    index,\n    items,\n    newIndex: previous.current.newIndex,\n    previousItems: previous.current.items,\n    previousContainerId: previous.current.containerId,\n    transition,\n    wasDragging: previous.current.activeId != null,\n  });\n\n  const derivedTransform = useDerivedTransform({\n    disabled: !shouldAnimateLayoutChanges,\n    index,\n    node,\n    rect,\n  });\n\n  useEffect(() => {\n    if (isSorting && previous.current.newIndex !== newIndex) {\n      previous.current.newIndex = newIndex;\n    }\n\n    if (containerId !== previous.current.containerId) {\n      previous.current.containerId = containerId;\n    }\n\n    if (items !== previous.current.items) {\n      previous.current.items = items;\n    }\n  }, [isSorting, newIndex, containerId, items]);\n\n  useEffect(() => {\n    if (activeId === previous.current.activeId) {\n      return;\n    }\n\n    if (activeId != null && previous.current.activeId == null) {\n      previous.current.activeId = activeId;\n      return;\n    }\n\n    const timeoutId = setTimeout(() => {\n      previous.current.activeId = activeId;\n    }, 50);\n\n    return () => clearTimeout(timeoutId);\n  }, [activeId]);\n\n  return {\n    active,\n    activeIndex,\n    attributes,\n    data,\n    rect,\n    index,\n    newIndex,\n    items,\n    isOver,\n    isSorting,\n    isDragging,\n    listeners,\n    node,\n    overIndex,\n    over,\n    setNodeRef,\n    setActivatorNodeRef,\n    setDroppableNodeRef,\n    setDraggableNodeRef,\n    transform: derivedTransform ?? finalTransform,\n    transition: getTransition(),\n  };\n\n  function getTransition() {\n    if (\n      // Temporarily disable transitions for a single frame to set up derived transforms\n      derivedTransform ||\n      // Or to prevent items jumping to back to their \"new\" position when items change\n      (itemsHaveChanged && previous.current.newIndex === index)\n    ) {\n      return disabledTransition;\n    }\n\n    if (\n      (shouldDisplaceDragSource && !isKeyboardEvent(activatorEvent)) ||\n      !transition\n    ) {\n      return undefined;\n    }\n\n    if (isSorting || shouldAnimateLayoutChanges) {\n      return CSS.Transition.toString({\n        ...transition,\n        property: transitionProperty,\n      });\n    }\n\n    return undefined;\n  }\n}\n\nfunction normalizeLocalDisabled(\n  localDisabled: Arguments['disabled'],\n  globalDisabled: Disabled\n) {\n  if (typeof localDisabled === 'boolean') {\n    return {\n      draggable: localDisabled,\n      // Backwards compatibility\n      droppable: false,\n    };\n  }\n\n  return {\n    draggable: localDisabled?.draggable ?? globalDisabled.draggable,\n    droppable: localDisabled?.droppable ?? globalDisabled.droppable,\n  };\n}\n","import type {Coordinates, ClientRect} from '../../types';\nimport {distanceBetween} from '../coordinates';\n\nimport type {CollisionDescriptor, CollisionDetection} from './types';\nimport {cornersOfRectangle, sortCollisionsAsc} from './helpers';\n\n/**\n * Check if a given point is contained within a bounding rectangle\n */\nfunction isPointWithinRect(point: Coordinates, rect: ClientRect): boolean {\n  const {top, left, bottom, right} = rect;\n\n  return (\n    top <= point.y && point.y <= bottom && left <= point.x && point.x <= right\n  );\n}\n\n/**\n * Returns the rectangles that the pointer is hovering over\n */\nexport const pointerWithin: CollisionDetection = ({\n  droppableContainers,\n  droppableRects,\n  pointerCoordinates,\n}) => {\n  if (!pointerCoordinates) {\n    return [];\n  }\n\n  const collisions: CollisionDescriptor[] = [];\n\n  for (const droppableContainer of droppableContainers) {\n    const {id} = droppableContainer;\n    const rect = droppableRects.get(id);\n\n    if (rect && isPointWithinRect(pointerCoordinates, rect)) {\n      /* There may be more than a single rectangle intersecting\n       * with the pointer coordinates. In order to sort the\n       * colliding rectangles, we measure the distance between\n       * the pointer and the corners of the intersecting rectangle\n       */\n      const corners = cornersOfRectangle(rect);\n      const distances = corners.reduce((accumulator, corner) => {\n        return accumulator + distanceBetween(pointerCoordinates, corner);\n      }, 0);\n      const effectiveDistance = Number((distances / 4).toFixed(4));\n\n      collisions.push({\n        id,\n        data: {droppableContainer, value: effectiveDistance},\n      });\n    }\n  }\n\n  return collisions.sort(sortCollisionsAsc);\n};\n","import type {Transform} from '@dnd-kit/utilities';\nimport type {ClientRect} from '../../types';\n\nexport function adjustScale(\n  transform: Transform,\n  rect1: ClientRect | null,\n  rect2: ClientRect | null\n): Transform {\n  return {\n    ...transform,\n    scaleX: rect1 && rect2 ? rect1.width / rect2.width : 1,\n    scaleY: rect1 && rect2 ? rect1.height / rect2.height : 1,\n  };\n}\n","import type {Coordinates, ClientRect} from '../../types';\nimport {defaultCoordinates} from '../coordinates';\n\nexport function getRectDelta(\n  rect1: ClientRect | null,\n  rect2: ClientRect | null\n): Coordinates {\n  return rect1 && rect2\n    ? {\n        x: rect1.left - rect2.left,\n        y: rect1.top - rect2.top,\n      }\n    : defaultCoordinates;\n}\n","import type {Coordinates, ClientRect} from '../../types';\n\nexport function createRectAdjustmentFn(modifier: number) {\n  return function adjustClientRect(\n    rect: ClientRect,\n    ...adjustments: Coordinates[]\n  ): ClientRect {\n    return adjustments.reduce<ClientRect>(\n      (acc, adjustment) => ({\n        ...acc,\n        top: acc.top + modifier * adjustment.y,\n        bottom: acc.bottom + modifier * adjustment.y,\n        left: acc.left + modifier * adjustment.x,\n        right: acc.right + modifier * adjustment.x,\n      }),\n      {...rect}\n    );\n  };\n}\n\nexport const getAdjustedRect = createRectAdjustmentFn(1);\n","import type {Transform} from '@dnd-kit/utilities';\n\nexport function parseTransform(transform: string): Transform | null {\n  if (transform.startsWith('matrix3d(')) {\n    const transformArray = transform.slice(9, -1).split(/, /);\n\n    return {\n      x: +transformArray[12],\n      y: +transformArray[13],\n      scaleX: +transformArray[0],\n      scaleY: +transformArray[5],\n    };\n  } else if (transform.startsWith('matrix(')) {\n    const transformArray = transform.slice(7, -1).split(/, /);\n\n    return {\n      x: +transformArray[4],\n      y: +transformArray[5],\n      scaleX: +transformArray[0],\n      scaleY: +transformArray[3],\n    };\n  }\n\n  return null;\n}\n","import type {ClientRect} from '../../types';\n\nimport {parseTransform} from './parseTransform';\n\nexport function inverseTransform(\n  rect: ClientRect,\n  transform: string,\n  transformOrigin: string\n): ClientRect {\n  const parsedTransform = parseTransform(transform);\n\n  if (!parsedTransform) {\n    return rect;\n  }\n\n  const {scaleX, scaleY, x: translateX, y: translateY} = parsedTransform;\n\n  const x = rect.left - translateX - (1 - scaleX) * parseFloat(transformOrigin);\n  const y =\n    rect.top -\n    translateY -\n    (1 - scaleY) *\n      parseFloat(transformOrigin.slice(transformOrigin.indexOf(' ') + 1));\n  const w = scaleX ? rect.width / scaleX : rect.width;\n  const h = scaleY ? rect.height / scaleY : rect.height;\n\n  return {\n    width: w,\n    height: h,\n    top: y,\n    right: x + w,\n    bottom: y + h,\n    left: x,\n  };\n}\n","import {getWindow} from '@dnd-kit/utilities';\n\nimport type {ClientRect} from '../../types';\nimport {inverseTransform} from '../transform';\n\ninterface Options {\n  ignoreTransform?: boolean;\n}\n\nconst defaultOptions: Options = {ignoreTransform: false};\n\n/**\n * Returns the bounding client rect of an element relative to the viewport.\n */\nexport function getClientRect(\n  element: Element,\n  options: Options = defaultOptions\n) {\n  let rect: ClientRect = element.getBoundingClientRect();\n\n  if (options.ignoreTransform) {\n    const {transform, transformOrigin} =\n      getWindow(element).getComputedStyle(element);\n\n    if (transform) {\n      rect = inverseTransform(rect, transform, transformOrigin);\n    }\n  }\n\n  const {top, left, width, height, bottom, right} = rect;\n\n  return {\n    top,\n    left,\n    width,\n    height,\n    bottom,\n    right,\n  };\n}\n\n/**\n * Returns the bounding client rect of an element relative to the viewport.\n *\n * @remarks\n * The ClientRect returned by this method does not take into account transforms\n * applied to the element it measures.\n *\n */\nexport function getTransformAgnosticClientRect(element: Element): ClientRect {\n  return getClientRect(element, {ignoreTransform: true});\n}\n","import type {\n  Active,\n  Data,\n  DroppableContainer,\n  DraggableNode,\n  Over,\n} from '@dnd-kit/core';\n\nimport type {SortableData} from './data';\n\nexport function hasSortableData<\n  T extends Active | Over | DraggableNode | DroppableContainer\n>(\n  entry: T | null | undefined\n): entry is T & {data: {current: Data<SortableData>}} {\n  if (!entry) {\n    return false;\n  }\n\n  const data = entry.data.current;\n\n  if (\n    data &&\n    'sortable' in data &&\n    typeof data.sortable === 'object' &&\n    'containerId' in data.sortable &&\n    'items' in data.sortable &&\n    'index' in data.sortable\n  ) {\n    return true;\n  }\n\n  return false;\n}\n","import type {ClientRect} from '../../types';\n\nexport function getWindowClientRect(element: typeof window): ClientRect {\n  const width = element.innerWidth;\n  const height = element.innerHeight;\n\n  return {\n    top: 0,\n    left: 0,\n    right: width,\n    bottom: height,\n    width,\n    height,\n  };\n}\n","import {\n  closestCorners,\n  getScrollableAncestors,\n  getFirstCollision,\n  KeyboardCode,\n  DroppableContainer,\n  KeyboardCoordinateGetter,\n} from '@dnd-kit/core';\nimport {subtract} from '@dnd-kit/utilities';\n\nimport {hasSortableData} from '../../types';\n\nconst directions: string[] = [\n  KeyboardCode.Down,\n  KeyboardCode.Right,\n  KeyboardCode.Up,\n  KeyboardCode.Left,\n];\n\nexport const sortableKeyboardCoordinates: KeyboardCoordinateGetter = (\n  event,\n  {\n    context: {\n      active,\n      collisionRect,\n      droppableRects,\n      droppableContainers,\n      over,\n      scrollableAncestors,\n    },\n  }\n) => {\n  if (directions.includes(event.code)) {\n    event.preventDefault();\n\n    if (!active || !collisionRect) {\n      return;\n    }\n\n    const filteredContainers: DroppableContainer[] = [];\n\n    droppableContainers.getEnabled().forEach((entry) => {\n      if (!entry || entry?.disabled) {\n        return;\n      }\n\n      const rect = droppableRects.get(entry.id);\n\n      if (!rect) {\n        return;\n      }\n\n      switch (event.code) {\n        case KeyboardCode.Down:\n          if (collisionRect.top < rect.top) {\n            filteredContainers.push(entry);\n          }\n          break;\n        case KeyboardCode.Up:\n          if (collisionRect.top > rect.top) {\n            filteredContainers.push(entry);\n          }\n          break;\n        case KeyboardCode.Left:\n          if (collisionRect.left > rect.left) {\n            filteredContainers.push(entry);\n          }\n          break;\n        case KeyboardCode.Right:\n          if (collisionRect.left < rect.left) {\n            filteredContainers.push(entry);\n          }\n          break;\n      }\n    });\n\n    const collisions = closestCorners({\n      active,\n      collisionRect: collisionRect,\n      droppableRects,\n      droppableContainers: filteredContainers,\n      pointerCoordinates: null,\n    });\n    let closestId = getFirstCollision(collisions, 'id');\n\n    if (closestId === over?.id && collisions.length > 1) {\n      closestId = collisions[1].id;\n    }\n\n    if (closestId != null) {\n      const activeDroppable = droppableContainers.get(active.id);\n      const newDroppable = droppableContainers.get(closestId);\n      const newRect = newDroppable ? droppableRects.get(newDroppable.id) : null;\n      const newNode = newDroppable?.node.current;\n\n      if (newNode && newRect && activeDroppable && newDroppable) {\n        const newScrollAncestors = getScrollableAncestors(newNode);\n        const hasDifferentScrollAncestors = newScrollAncestors.some(\n          (element, index) => scrollableAncestors[index] !== element\n        );\n        const hasSameContainer = isSameContainer(activeDroppable, newDroppable);\n        const isAfterActive = isAfter(activeDroppable, newDroppable);\n        const offset =\n          hasDifferentScrollAncestors || !hasSameContainer\n            ? {\n                x: 0,\n                y: 0,\n              }\n            : {\n                x: isAfterActive ? collisionRect.width - newRect.width : 0,\n                y: isAfterActive ? collisionRect.height - newRect.height : 0,\n              };\n        const rectCoordinates = {\n          x: newRect.left,\n          y: newRect.top,\n        };\n\n        const newCoordinates =\n          offset.x && offset.y\n            ? rectCoordinates\n            : subtract(rectCoordinates, offset);\n\n        return newCoordinates;\n      }\n    }\n  }\n\n  return undefined;\n};\n\nfunction isSameContainer(a: DroppableContainer, b: DroppableContainer) {\n  if (!hasSortableData(a) || !hasSortableData(b)) {\n    return false;\n  }\n\n  return (\n    a.data.current.sortable.containerId === b.data.current.sortable.containerId\n  );\n}\n\nfunction isAfter(a: DroppableContainer, b: DroppableContainer) {\n  if (!hasSortableData(a) || !hasSortableData(b)) {\n    return false;\n  }\n\n  if (!isSameContainer(a, b)) {\n    return false;\n  }\n\n  return a.data.current.sortable.index < b.data.current.sortable.index;\n}\n","import {getWindow} from '@dnd-kit/utilities';\n\nexport function isFixed(\n  node: HTMLElement,\n  computedStyle: CSSStyleDeclaration = getWindow(node).getComputedStyle(node)\n): boolean {\n  return computedStyle.position === 'fixed';\n}\n","import {getWindow} from '@dnd-kit/utilities';\n\nexport function isScrollable(\n  element: HTMLElement,\n  computedStyle: CSSStyleDeclaration = getWindow(element).getComputedStyle(\n    element\n  )\n): boolean {\n  const overflowRegex = /(auto|scroll|overlay)/;\n  const properties = ['overflow', 'overflowX', 'overflowY'];\n\n  return properties.some((property) => {\n    const value = computedStyle[property as keyof CSSStyleDeclaration];\n\n    return typeof value === 'string' ? overflowRegex.test(value) : false;\n  });\n}\n","import {\n  getWindow,\n  isDocument,\n  isHTMLElement,\n  isSVGElement,\n} from '@dnd-kit/utilities';\n\nimport {isFixed} from './isFixed';\nimport {isScrollable} from './isScrollable';\n\nexport function getScrollableAncestors(\n  element: Node | null,\n  limit?: number\n): Element[] {\n  const scrollParents: Element[] = [];\n\n  function findScrollableAncestors(node: Node | null): Element[] {\n    if (limit != null && scrollParents.length >= limit) {\n      return scrollParents;\n    }\n\n    if (!node) {\n      return scrollParents;\n    }\n\n    if (\n      isDocument(node) &&\n      node.scrollingElement != null &&\n      !scrollParents.includes(node.scrollingElement)\n    ) {\n      scrollParents.push(node.scrollingElement);\n\n      return scrollParents;\n    }\n\n    if (!isHTMLElement(node) || isSVGElement(node)) {\n      return scrollParents;\n    }\n\n    if (scrollParents.includes(node)) {\n      return scrollParents;\n    }\n\n    const computedStyle = getWindow(element).getComputedStyle(node);\n\n    if (node !== element) {\n      if (isScrollable(node, computedStyle)) {\n        scrollParents.push(node);\n      }\n    }\n\n    if (isFixed(node, computedStyle)) {\n      return scrollParents;\n    }\n\n    return findScrollableAncestors(node.parentNode);\n  }\n\n  if (!element) {\n    return scrollParents;\n  }\n\n  return findScrollableAncestors(element);\n}\n\nexport function getFirstScrollableAncestor(node: Node | null): Element | null {\n  const [firstScrollableAncestor] = getScrollableAncestors(node, 1);\n\n  return firstScrollableAncestor ?? null;\n}\n","import {\n  canUseDOM,\n  isHTMLElement,\n  isDocument,\n  getOwnerDocument,\n  isNode,\n  isWindow,\n} from '@dnd-kit/utilities';\n\nexport function getScrollableElement(element: EventTarget | null) {\n  if (!canUseDOM || !element) {\n    return null;\n  }\n\n  if (isWindow(element)) {\n    return element;\n  }\n\n  if (!isNode(element)) {\n    return null;\n  }\n\n  if (\n    isDocument(element) ||\n    element === getOwnerDocument(element).scrollingElement\n  ) {\n    return window;\n  }\n\n  if (isHTMLElement(element)) {\n    return element;\n  }\n\n  return null;\n}\n","import {isWindow} from '@dnd-kit/utilities';\n\nimport type {Coordinates} from '../../types';\n\nexport function getScrollXCoordinate(element: Element | typeof window): number {\n  if (isWindow(element)) {\n    return element.scrollX;\n  }\n\n  return element.scrollLeft;\n}\n\nexport function getScrollYCoordinate(element: Element | typeof window): number {\n  if (isWindow(element)) {\n    return element.scrollY;\n  }\n\n  return element.scrollTop;\n}\n\nexport function getScrollCoordinates(\n  element: Element | typeof window\n): Coordinates {\n  return {\n    x: getScrollXCoordinate(element),\n    y: getScrollYCoordinate(element),\n  };\n}\n","export enum Direction {\n  Forward = 1,\n  Backward = -1,\n}\n","import {canUseDOM} from '@dnd-kit/utilities';\n\nexport function isDocumentScrollingElement(element: Element | null) {\n  if (!canUseDOM || !element) {\n    return false;\n  }\n\n  return element === document.scrollingElement;\n}\n","import {isDocumentScrollingElement} from './documentScrollingElement';\n\nexport function getScrollPosition(scrollingContainer: Element) {\n  const minScroll = {\n    x: 0,\n    y: 0,\n  };\n  const dimensions = isDocumentScrollingElement(scrollingContainer)\n    ? {\n        height: window.innerHeight,\n        width: window.innerWidth,\n      }\n    : {\n        height: scrollingContainer.clientHeight,\n        width: scrollingContainer.clientWidth,\n      };\n  const maxScroll = {\n    x: scrollingContainer.scrollWidth - dimensions.width,\n    y: scrollingContainer.scrollHeight - dimensions.height,\n  };\n\n  const isTop = scrollingContainer.scrollTop <= minScroll.y;\n  const isLeft = scrollingContainer.scrollLeft <= minScroll.x;\n  const isBottom = scrollingContainer.scrollTop >= maxScroll.y;\n  const isRight = scrollingContainer.scrollLeft >= maxScroll.x;\n\n  return {\n    isTop,\n    isLeft,\n    isBottom,\n    isRight,\n    maxScroll,\n    minScroll,\n  };\n}\n","import {Direction, ClientRect} from '../../types';\nimport {getScrollPosition} from './getScrollPosition';\n\ninterface PositionalCoordinates\n  extends Pick<ClientRect, 'top' | 'left' | 'right' | 'bottom'> {}\n\nconst defaultThreshold = {\n  x: 0.2,\n  y: 0.2,\n};\n\nexport function getScrollDirectionAndSpeed(\n  scrollContainer: Element,\n  scrollContainerRect: ClientRect,\n  {top, left, right, bottom}: PositionalCoordinates,\n  acceleration = 10,\n  thresholdPercentage = defaultThreshold\n) {\n  const {isTop, isBottom, isLeft, isRight} = getScrollPosition(scrollContainer);\n\n  const direction = {\n    x: 0,\n    y: 0,\n  };\n  const speed = {\n    x: 0,\n    y: 0,\n  };\n  const threshold = {\n    height: scrollContainerRect.height * thresholdPercentage.y,\n    width: scrollContainerRect.width * thresholdPercentage.x,\n  };\n\n  if (!isTop && top <= scrollContainerRect.top + threshold.height) {\n    // Scroll Up\n    direction.y = Direction.Backward;\n    speed.y =\n      acceleration *\n      Math.abs(\n        (scrollContainerRect.top + threshold.height - top) / threshold.height\n      );\n  } else if (\n    !isBottom &&\n    bottom >= scrollContainerRect.bottom - threshold.height\n  ) {\n    // Scroll Down\n    direction.y = Direction.Forward;\n    speed.y =\n      acceleration *\n      Math.abs(\n        (scrollContainerRect.bottom - threshold.height - bottom) /\n          threshold.height\n      );\n  }\n\n  if (!isRight && right >= scrollContainerRect.right - threshold.width) {\n    // Scroll Right\n    direction.x = Direction.Forward;\n    speed.x =\n      acceleration *\n      Math.abs(\n        (scrollContainerRect.right - threshold.width - right) / threshold.width\n      );\n  } else if (!isLeft && left <= scrollContainerRect.left + threshold.width) {\n    // Scroll Left\n    direction.x = Direction.Backward;\n    speed.x =\n      acceleration *\n      Math.abs(\n        (scrollContainerRect.left + threshold.width - left) / threshold.width\n      );\n  }\n\n  return {\n    direction,\n    speed,\n  };\n}\n","export function getScrollElementRect(element: Element) {\n  if (element === document.scrollingElement) {\n    const {innerWidth, innerHeight} = window;\n\n    return {\n      top: 0,\n      left: 0,\n      right: innerWidth,\n      bottom: innerHeight,\n      width: innerWidth,\n      height: innerHeight,\n    };\n  }\n\n  const {top, left, right, bottom} = element.getBoundingClientRect();\n\n  return {\n    top,\n    left,\n    right,\n    bottom,\n    width: element.clientWidth,\n    height: element.clientHeight,\n  };\n}\n","import {add} from '@dnd-kit/utilities';\n\nimport type {Coordinates} from '../../types';\nimport {\n  getScrollCoordinates,\n  getScrollXCoordinate,\n  getScrollYCoordinate,\n} from './getScrollCoordinates';\nimport {defaultCoordinates} from '../coordinates';\n\nexport function getScrollOffsets(scrollableAncestors: Element[]): Coordinates {\n  return scrollableAncestors.reduce<Coordinates>((acc, node) => {\n    return add(acc, getScrollCoordinates(node));\n  }, defaultCoordinates);\n}\n\nexport function getScrollXOffset(scrollableAncestors: Element[]): number {\n  return scrollableAncestors.reduce<number>((acc, node) => {\n    return acc + getScrollXCoordinate(node);\n  }, 0);\n}\n\nexport function getScrollYOffset(scrollableAncestors: Element[]): number {\n  return scrollableAncestors.reduce<number>((acc, node) => {\n    return acc + getScrollYCoordinate(node);\n  }, 0);\n}\n","import type {ClientRect} from '../../types';\nimport {getClientRect} from '../rect/getRect';\nimport {getFirstScrollableAncestor} from './getScrollableAncestors';\n\nexport function scrollIntoViewIfNeeded(\n  element: HTMLElement | null | undefined,\n  measure: (node: HTMLElement) => ClientRect = getClientRect\n) {\n  if (!element) {\n    return;\n  }\n\n  const {top, left, bottom, right} = measure(element);\n  const firstScrollableAncestor = getFirstScrollableAncestor(element);\n\n  if (!firstScrollableAncestor) {\n    return;\n  }\n\n  if (\n    bottom <= 0 ||\n    right <= 0 ||\n    top >= window.innerHeight ||\n    left >= window.innerWidth\n  ) {\n    element.scrollIntoView({\n      block: 'center',\n      inline: 'center',\n    });\n  }\n}\n","import type {ClientRect} from '../../types/rect';\nimport {\n  getScrollableAncestors,\n  getScrollOffsets,\n  getScrollXOffset,\n  getScrollYOffset,\n} from '../scroll';\n\nconst properties = [\n  ['x', ['left', 'right'], getScrollXOffset],\n  ['y', ['top', 'bottom'], getScrollYOffset],\n] as const;\n\nexport class Rect {\n  constructor(rect: ClientRect, element: Element) {\n    const scrollableAncestors = getScrollableAncestors(element);\n    const scrollOffsets = getScrollOffsets(scrollableAncestors);\n\n    this.rect = {...rect};\n    this.width = rect.width;\n    this.height = rect.height;\n\n    for (const [axis, keys, getScrollOffset] of properties) {\n      for (const key of keys) {\n        Object.defineProperty(this, key, {\n          get: () => {\n            const currentOffsets = getScrollOffset(scrollableAncestors);\n            const scrollOffsetsDeltla = scrollOffsets[axis] - currentOffsets;\n\n            return this.rect[key] + scrollOffsetsDeltla;\n          },\n          enumerable: true,\n        });\n      }\n    }\n\n    Object.defineProperty(this, 'rect', {enumerable: false});\n  }\n\n  private rect: ClientRect;\n\n  public width: number;\n\n  public height: number;\n\n  // The below properties are set by the `Object.defineProperty` calls in the constructor\n  // @ts-ignore\n  public top: number;\n  // @ts-ignore\n  public bottom: number;\n  // @ts-ignore\n  public right: number;\n  // @ts-ignore\n  public left: number;\n}\n","export class Listeners {\n  private listeners: [\n    string,\n    EventListenerOrEventListenerObject,\n    AddEventListenerOptions | boolean | undefined\n  ][] = [];\n\n  constructor(private target: EventTarget | null) {}\n\n  public add<T extends Event>(\n    eventName: string,\n    handler: (event: T) => void,\n    options?: AddEventListenerOptions | boolean\n  ) {\n    this.target?.addEventListener(eventName, handler as EventListener, options);\n    this.listeners.push([eventName, handler as EventListener, options]);\n  }\n\n  public removeAll = () => {\n    this.listeners.forEach((listener) =>\n      this.target?.removeEventListener(...listener)\n    );\n  };\n}\n","import {getOwnerDocument, getWindow} from '@dnd-kit/utilities';\n\nexport function getEventListenerTarget(\n  target: EventTarget | null\n): EventTarget | Document {\n  // If the `event.target` element is removed from the document events will still be targeted\n  // at it, and hence won't always bubble up to the window or document anymore.\n  // If there is any risk of an element being removed while it is being dragged,\n  // the best practice is to attach the event listeners directly to the target.\n  // https://developer.mozilla.org/en-US/docs/Web/API/EventTarget\n\n  const {EventTarget} = getWindow(target);\n\n  return target instanceof EventTarget ? target : getOwnerDocument(target);\n}\n","import type {Coordinates, DistanceMeasurement} from '../../types';\n\nexport function hasExceededDistance(\n  delta: Coordinates,\n  measurement: DistanceMeasurement\n): boolean {\n  const dx = Math.abs(delta.x);\n  const dy = Math.abs(delta.y);\n\n  if (typeof measurement === 'number') {\n    return Math.sqrt(dx ** 2 + dy ** 2) > measurement;\n  }\n\n  if ('x' in measurement && 'y' in measurement) {\n    return dx > measurement.x && dy > measurement.y;\n  }\n\n  if ('x' in measurement) {\n    return dx > measurement.x;\n  }\n\n  if ('y' in measurement) {\n    return dy > measurement.y;\n  }\n\n  return false;\n}\n","export enum EventName {\n  Click = 'click',\n  DragStart = 'dragstart',\n  Keydown = 'keydown',\n  ContextMenu = 'contextmenu',\n  Resize = 'resize',\n  SelectionChange = 'selectionchange',\n  VisibilityChange = 'visibilitychange',\n}\n\nexport function preventDefault(event: Event) {\n  event.preventDefault();\n}\n\nexport function stopPropagation(event: Event) {\n  event.stopPropagation();\n}\n","import type {Coordinates, UniqueIdentifier} from '../../types';\nimport type {SensorContext} from '../types';\n\nexport enum KeyboardCode {\n  Space = 'Space',\n  Down = 'ArrowDown',\n  Right = 'ArrowRight',\n  Left = 'ArrowLeft',\n  Up = 'ArrowUp',\n  Esc = 'Escape',\n  Enter = 'Enter',\n  Tab = 'Tab',\n}\n\nexport type KeyboardCodes = {\n  start: KeyboardEvent['code'][];\n  cancel: KeyboardEvent['code'][];\n  end: KeyboardEvent['code'][];\n};\n\nexport type KeyboardCoordinateGetter = (\n  event: KeyboardEvent,\n  args: {\n    active: UniqueIdentifier;\n    currentCoordinates: Coordinates;\n    context: SensorContext;\n  }\n) => Coordinates | void;\n","import {KeyboardCoordinateGetter, KeyboardCode, KeyboardCodes} from './types';\n\nexport const defaultKeyboardCodes: KeyboardCodes = {\n  start: [KeyboardCode.Space, KeyboardCode.Enter],\n  cancel: [KeyboardCode.Esc],\n  end: [KeyboardCode.Space, KeyboardCode.Enter, KeyboardCode.Tab],\n};\n\nexport const defaultKeyboardCoordinateGetter: KeyboardCoordinateGetter = (\n  event,\n  {currentCoordinates}\n) => {\n  switch (event.code) {\n    case KeyboardCode.Right:\n      return {\n        ...currentCoordinates,\n        x: currentCoordinates.x + 25,\n      };\n    case KeyboardCode.Left:\n      return {\n        ...currentCoordinates,\n        x: currentCoordinates.x - 25,\n      };\n    case KeyboardCode.Down:\n      return {\n        ...currentCoordinates,\n        y: currentCoordinates.y + 25,\n      };\n    case KeyboardCode.Up:\n      return {\n        ...currentCoordinates,\n        y: currentCoordinates.y - 25,\n      };\n  }\n\n  return undefined;\n};\n","import {\n  add as getAdjustedCoordinates,\n  subtract as getCoordinatesDelta,\n  getOwnerDocument,\n  getWindow,\n  isKeyboardEvent,\n} from '@dnd-kit/utilities';\n\nimport type {Coordinates} from '../../types';\nimport {\n  defaultCoordinates,\n  getScrollPosition,\n  getScrollElementRect,\n} from '../../utilities';\nimport {scrollIntoViewIfNeeded} from '../../utilities/scroll';\nimport {EventName} from '../events';\nimport {Listeners} from '../utilities';\nimport type {\n  Activators,\n  SensorInstance,\n  SensorProps,\n  SensorOptions,\n} from '../types';\n\nimport {KeyboardCoordinateGetter, KeyboardCode, KeyboardCodes} from './types';\nimport {\n  defaultKeyboardCodes,\n  defaultKeyboardCoordinateGetter,\n} from './defaults';\n\nexport interface KeyboardSensorOptions extends SensorOptions {\n  keyboardCodes?: KeyboardCodes;\n  coordinateGetter?: KeyboardCoordinateGetter;\n  scrollBehavior?: ScrollBehavior;\n  onActivation?({event}: {event: KeyboardEvent}): void;\n}\n\nexport type KeyboardSensorProps = SensorProps<KeyboardSensorOptions>;\n\nexport class KeyboardSensor implements SensorInstance {\n  public autoScrollEnabled = false;\n  private referenceCoordinates: Coordinates | undefined;\n  private listeners: Listeners;\n  private windowListeners: Listeners;\n\n  constructor(private props: KeyboardSensorProps) {\n    const {\n      event: {target},\n    } = props;\n\n    this.props = props;\n    this.listeners = new Listeners(getOwnerDocument(target));\n    this.windowListeners = new Listeners(getWindow(target));\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n\n    this.attach();\n  }\n\n  private attach() {\n    this.handleStart();\n\n    this.windowListeners.add(EventName.Resize, this.handleCancel);\n    this.windowListeners.add(EventName.VisibilityChange, this.handleCancel);\n\n    setTimeout(() => this.listeners.add(EventName.Keydown, this.handleKeyDown));\n  }\n\n  private handleStart() {\n    const {activeNode, onStart} = this.props;\n    const node = activeNode.node.current;\n\n    if (node) {\n      scrollIntoViewIfNeeded(node);\n    }\n\n    onStart(defaultCoordinates);\n  }\n\n  private handleKeyDown(event: Event) {\n    if (isKeyboardEvent(event)) {\n      const {active, context, options} = this.props;\n      const {\n        keyboardCodes = defaultKeyboardCodes,\n        coordinateGetter = defaultKeyboardCoordinateGetter,\n        scrollBehavior = 'smooth',\n      } = options;\n      const {code} = event;\n\n      if (keyboardCodes.end.includes(code)) {\n        this.handleEnd(event);\n        return;\n      }\n\n      if (keyboardCodes.cancel.includes(code)) {\n        this.handleCancel(event);\n        return;\n      }\n\n      const {collisionRect} = context.current;\n      const currentCoordinates = collisionRect\n        ? {x: collisionRect.left, y: collisionRect.top}\n        : defaultCoordinates;\n\n      if (!this.referenceCoordinates) {\n        this.referenceCoordinates = currentCoordinates;\n      }\n\n      const newCoordinates = coordinateGetter(event, {\n        active,\n        context: context.current,\n        currentCoordinates,\n      });\n\n      if (newCoordinates) {\n        const coordinatesDelta = getCoordinatesDelta(\n          newCoordinates,\n          currentCoordinates\n        );\n        const scrollDelta = {\n          x: 0,\n          y: 0,\n        };\n        const {scrollableAncestors} = context.current;\n\n        for (const scrollContainer of scrollableAncestors) {\n          const direction = event.code;\n          const {isTop, isRight, isLeft, isBottom, maxScroll, minScroll} =\n            getScrollPosition(scrollContainer);\n          const scrollElementRect = getScrollElementRect(scrollContainer);\n\n          const clampedCoordinates = {\n            x: Math.min(\n              direction === KeyboardCode.Right\n                ? scrollElementRect.right - scrollElementRect.width / 2\n                : scrollElementRect.right,\n              Math.max(\n                direction === KeyboardCode.Right\n                  ? scrollElementRect.left\n                  : scrollElementRect.left + scrollElementRect.width / 2,\n                newCoordinates.x\n              )\n            ),\n            y: Math.min(\n              direction === KeyboardCode.Down\n                ? scrollElementRect.bottom - scrollElementRect.height / 2\n                : scrollElementRect.bottom,\n              Math.max(\n                direction === KeyboardCode.Down\n                  ? scrollElementRect.top\n                  : scrollElementRect.top + scrollElementRect.height / 2,\n                newCoordinates.y\n              )\n            ),\n          };\n\n          const canScrollX =\n            (direction === KeyboardCode.Right && !isRight) ||\n            (direction === KeyboardCode.Left && !isLeft);\n          const canScrollY =\n            (direction === KeyboardCode.Down && !isBottom) ||\n            (direction === KeyboardCode.Up && !isTop);\n\n          if (canScrollX && clampedCoordinates.x !== newCoordinates.x) {\n            const newScrollCoordinates =\n              scrollContainer.scrollLeft + coordinatesDelta.x;\n            const canScrollToNewCoordinates =\n              (direction === KeyboardCode.Right &&\n                newScrollCoordinates <= maxScroll.x) ||\n              (direction === KeyboardCode.Left &&\n                newScrollCoordinates >= minScroll.x);\n\n            if (canScrollToNewCoordinates && !coordinatesDelta.y) {\n              // We don't need to update coordinates, the scroll adjustment alone will trigger\n              // logic to auto-detect the new container we are over\n              scrollContainer.scrollTo({\n                left: newScrollCoordinates,\n                behavior: scrollBehavior,\n              });\n              return;\n            }\n\n            if (canScrollToNewCoordinates) {\n              scrollDelta.x = scrollContainer.scrollLeft - newScrollCoordinates;\n            } else {\n              scrollDelta.x =\n                direction === KeyboardCode.Right\n                  ? scrollContainer.scrollLeft - maxScroll.x\n                  : scrollContainer.scrollLeft - minScroll.x;\n            }\n\n            if (scrollDelta.x) {\n              scrollContainer.scrollBy({\n                left: -scrollDelta.x,\n                behavior: scrollBehavior,\n              });\n            }\n            break;\n          } else if (canScrollY && clampedCoordinates.y !== newCoordinates.y) {\n            const newScrollCoordinates =\n              scrollContainer.scrollTop + coordinatesDelta.y;\n            const canScrollToNewCoordinates =\n              (direction === KeyboardCode.Down &&\n                newScrollCoordinates <= maxScroll.y) ||\n              (direction === KeyboardCode.Up &&\n                newScrollCoordinates >= minScroll.y);\n\n            if (canScrollToNewCoordinates && !coordinatesDelta.x) {\n              // We don't need to update coordinates, the scroll adjustment alone will trigger\n              // logic to auto-detect the new container we are over\n              scrollContainer.scrollTo({\n                top: newScrollCoordinates,\n                behavior: scrollBehavior,\n              });\n              return;\n            }\n\n            if (canScrollToNewCoordinates) {\n              scrollDelta.y = scrollContainer.scrollTop - newScrollCoordinates;\n            } else {\n              scrollDelta.y =\n                direction === KeyboardCode.Down\n                  ? scrollContainer.scrollTop - maxScroll.y\n                  : scrollContainer.scrollTop - minScroll.y;\n            }\n\n            if (scrollDelta.y) {\n              scrollContainer.scrollBy({\n                top: -scrollDelta.y,\n                behavior: scrollBehavior,\n              });\n            }\n\n            break;\n          }\n        }\n\n        this.handleMove(\n          event,\n          getAdjustedCoordinates(\n            getCoordinatesDelta(newCoordinates, this.referenceCoordinates),\n            scrollDelta\n          )\n        );\n      }\n    }\n  }\n\n  private handleMove(event: Event, coordinates: Coordinates) {\n    const {onMove} = this.props;\n\n    event.preventDefault();\n    onMove(coordinates);\n  }\n\n  private handleEnd(event: Event) {\n    const {onEnd} = this.props;\n\n    event.preventDefault();\n    this.detach();\n    onEnd();\n  }\n\n  private handleCancel(event: Event) {\n    const {onCancel} = this.props;\n\n    event.preventDefault();\n    this.detach();\n    onCancel();\n  }\n\n  private detach() {\n    this.listeners.removeAll();\n    this.windowListeners.removeAll();\n  }\n\n  static activators: Activators<KeyboardSensorOptions> = [\n    {\n      eventName: 'onKeyDown' as const,\n      handler: (\n        event: React.KeyboardEvent,\n        {keyboardCodes = defaultKeyboardCodes, onActivation},\n        {active}\n      ) => {\n        const {code} = event.nativeEvent;\n\n        if (keyboardCodes.start.includes(code)) {\n          const activator = active.activatorNode.current;\n\n          if (activator && event.target !== activator) {\n            return false;\n          }\n\n          event.preventDefault();\n\n          onActivation?.({event: event.nativeEvent});\n\n          return true;\n        }\n\n        return false;\n      },\n    },\n  ];\n}\n","import {\n  subtract as getCoordinatesDelta,\n  getEventCoordinates,\n  getOwnerDocument,\n  getWindow,\n} from '@dnd-kit/utilities';\n\nimport {defaultCoordinates} from '../../utilities';\nimport {\n  getEventListenerTarget,\n  hasExceededDistance,\n  Listeners,\n} from '../utilities';\nimport {EventName, preventDefault, stopPropagation} from '../events';\nimport {KeyboardCode} from '../keyboard';\nimport type {SensorInstance, SensorProps, SensorOptions} from '../types';\nimport type {Coordinates, DistanceMeasurement} from '../../types';\n\ninterface DistanceConstraint {\n  distance: DistanceMeasurement;\n  tolerance?: DistanceMeasurement;\n}\n\ninterface DelayConstraint {\n  delay: number;\n  tolerance: DistanceMeasurement;\n}\n\ninterface EventDescriptor {\n  name: keyof DocumentEventMap;\n  passive?: boolean;\n}\n\nexport interface PointerEventHandlers {\n  cancel?: EventDescriptor;\n  move: EventDescriptor;\n  end: EventDescriptor;\n}\n\nexport type PointerActivationConstraint =\n  | DelayConstraint\n  | DistanceConstraint\n  | (DelayConstraint & DistanceConstraint);\n\nfunction isDistanceConstraint(\n  constraint: PointerActivationConstraint\n): constraint is PointerActivationConstraint & DistanceConstraint {\n  return Boolean(constraint && 'distance' in constraint);\n}\n\nfunction isDelayConstraint(\n  constraint: PointerActivationConstraint\n): constraint is DelayConstraint {\n  return Boolean(constraint && 'delay' in constraint);\n}\n\nexport interface AbstractPointerSensorOptions extends SensorOptions {\n  activationConstraint?: PointerActivationConstraint;\n  bypassActivationConstraint?(\n    props: Pick<AbstractPointerSensorProps, 'activeNode' | 'event' | 'options'>\n  ): boolean;\n  onActivation?({event}: {event: Event}): void;\n}\n\nexport type AbstractPointerSensorProps =\n  SensorProps<AbstractPointerSensorOptions>;\n\nexport class AbstractPointerSensor implements SensorInstance {\n  public autoScrollEnabled = true;\n  private document: Document;\n  private activated: boolean = false;\n  private initialCoordinates: Coordinates;\n  private timeoutId: NodeJS.Timeout | null = null;\n  private listeners: Listeners;\n  private documentListeners: Listeners;\n  private windowListeners: Listeners;\n\n  constructor(\n    private props: AbstractPointerSensorProps,\n    private events: PointerEventHandlers,\n    listenerTarget = getEventListenerTarget(props.event.target)\n  ) {\n    const {event} = props;\n    const {target} = event;\n\n    this.props = props;\n    this.events = events;\n    this.document = getOwnerDocument(target);\n    this.documentListeners = new Listeners(this.document);\n    this.listeners = new Listeners(listenerTarget);\n    this.windowListeners = new Listeners(getWindow(target));\n    this.initialCoordinates = getEventCoordinates(event) ?? defaultCoordinates;\n    this.handleStart = this.handleStart.bind(this);\n    this.handleMove = this.handleMove.bind(this);\n    this.handleEnd = this.handleEnd.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.handleKeydown = this.handleKeydown.bind(this);\n    this.removeTextSelection = this.removeTextSelection.bind(this);\n\n    this.attach();\n  }\n\n  private attach() {\n    const {\n      events,\n      props: {\n        options: {activationConstraint, bypassActivationConstraint},\n      },\n    } = this;\n\n    this.listeners.add(events.move.name, this.handleMove, {passive: false});\n    this.listeners.add(events.end.name, this.handleEnd);\n\n    if (events.cancel) {\n      this.listeners.add(events.cancel.name, this.handleCancel);\n    }\n\n    this.windowListeners.add(EventName.Resize, this.handleCancel);\n    this.windowListeners.add(EventName.DragStart, preventDefault);\n    this.windowListeners.add(EventName.VisibilityChange, this.handleCancel);\n    this.windowListeners.add(EventName.ContextMenu, preventDefault);\n    this.documentListeners.add(EventName.Keydown, this.handleKeydown);\n\n    if (activationConstraint) {\n      if (\n        bypassActivationConstraint?.({\n          event: this.props.event,\n          activeNode: this.props.activeNode,\n          options: this.props.options,\n        })\n      ) {\n        return this.handleStart();\n      }\n\n      if (isDelayConstraint(activationConstraint)) {\n        this.timeoutId = setTimeout(\n          this.handleStart,\n          activationConstraint.delay\n        );\n        this.handlePending(activationConstraint);\n        return;\n      }\n\n      if (isDistanceConstraint(activationConstraint)) {\n        this.handlePending(activationConstraint);\n        return;\n      }\n    }\n\n    this.handleStart();\n  }\n\n  private detach() {\n    this.listeners.removeAll();\n    this.windowListeners.removeAll();\n\n    // Wait until the next event loop before removing document listeners\n    // This is necessary because we listen for `click` and `selection` events on the document\n    setTimeout(this.documentListeners.removeAll, 50);\n\n    if (this.timeoutId !== null) {\n      clearTimeout(this.timeoutId);\n      this.timeoutId = null;\n    }\n  }\n\n  private handlePending(\n    constraint: PointerActivationConstraint,\n    offset?: Coordinates | undefined\n  ): void {\n    const {active, onPending} = this.props;\n    onPending(active, constraint, this.initialCoordinates, offset);\n  }\n\n  private handleStart() {\n    const {initialCoordinates} = this;\n    const {onStart} = this.props;\n\n    if (initialCoordinates) {\n      this.activated = true;\n\n      // Stop propagation of click events once activation constraints are met\n      this.documentListeners.add(EventName.Click, stopPropagation, {\n        capture: true,\n      });\n\n      // Remove any text selection from the document\n      this.removeTextSelection();\n\n      // Prevent further text selection while dragging\n      this.documentListeners.add(\n        EventName.SelectionChange,\n        this.removeTextSelection\n      );\n\n      onStart(initialCoordinates);\n    }\n  }\n\n  private handleMove(event: Event) {\n    const {activated, initialCoordinates, props} = this;\n    const {\n      onMove,\n      options: {activationConstraint},\n    } = props;\n\n    if (!initialCoordinates) {\n      return;\n    }\n\n    const coordinates = getEventCoordinates(event) ?? defaultCoordinates;\n    const delta = getCoordinatesDelta(initialCoordinates, coordinates);\n\n    // Constraint validation\n    if (!activated && activationConstraint) {\n      if (isDistanceConstraint(activationConstraint)) {\n        if (\n          activationConstraint.tolerance != null &&\n          hasExceededDistance(delta, activationConstraint.tolerance)\n        ) {\n          return this.handleCancel();\n        }\n\n        if (hasExceededDistance(delta, activationConstraint.distance)) {\n          return this.handleStart();\n        }\n      }\n\n      if (isDelayConstraint(activationConstraint)) {\n        if (hasExceededDistance(delta, activationConstraint.tolerance)) {\n          return this.handleCancel();\n        }\n      }\n\n      this.handlePending(activationConstraint, delta);\n      return;\n    }\n\n    if (event.cancelable) {\n      event.preventDefault();\n    }\n\n    onMove(coordinates);\n  }\n\n  private handleEnd() {\n    const {onAbort, onEnd} = this.props;\n\n    this.detach();\n    if (!this.activated) {\n      onAbort(this.props.active);\n    }\n    onEnd();\n  }\n\n  private handleCancel() {\n    const {onAbort, onCancel} = this.props;\n\n    this.detach();\n    if (!this.activated) {\n      onAbort(this.props.active);\n    }\n    onCancel();\n  }\n\n  private handleKeydown(event: KeyboardEvent) {\n    if (event.code === KeyboardCode.Esc) {\n      this.handleCancel();\n    }\n  }\n\n  private removeTextSelection() {\n    this.document.getSelection()?.removeAllRanges();\n  }\n}\n","import type {PointerEvent} from 'react';\nimport {getOwnerDocument} from '@dnd-kit/utilities';\n\nimport type {SensorProps} from '../types';\nimport {\n  AbstractPointerSensor,\n  AbstractPointerSensorOptions,\n  PointerEventHandlers,\n} from './AbstractPointerSensor';\n\nconst events: PointerEventHandlers = {\n  cancel: {name: 'pointercancel'},\n  move: {name: 'pointermove'},\n  end: {name: 'pointerup'},\n};\n\nexport interface PointerSensorOptions extends AbstractPointerSensorOptions {}\n\nexport type PointerSensorProps = SensorProps<PointerSensorOptions>;\n\nexport class PointerSensor extends AbstractPointerSensor {\n  constructor(props: PointerSensorProps) {\n    const {event} = props;\n    // Pointer events stop firing if the target is unmounted while dragging\n    // Therefore we attach listeners to the owner document instead\n    const listenerTarget = getOwnerDocument(event.target);\n\n    super(props, events, listenerTarget);\n  }\n\n  static activators = [\n    {\n      eventName: 'onPointerDown' as const,\n      handler: (\n        {nativeEvent: event}: PointerEvent,\n        {onActivation}: PointerSensorOptions\n      ) => {\n        if (!event.isPrimary || event.button !== 0) {\n          return false;\n        }\n\n        onActivation?.({event});\n\n        return true;\n      },\n    },\n  ];\n}\n","import type {MouseEvent} from 'react';\nimport {getOwnerDocument} from '@dnd-kit/utilities';\n\nimport type {SensorProps} from '../types';\nimport {\n  AbstractPointerSensor,\n  PointerEventHandlers,\n  AbstractPointerSensorOptions,\n} from '../pointer';\n\nconst events: PointerEventHandlers = {\n  move: {name: 'mousemove'},\n  end: {name: 'mouseup'},\n};\n\nenum MouseButton {\n  RightClick = 2,\n}\n\nexport interface MouseSensorOptions extends AbstractPointerSensorOptions {}\n\nexport type MouseSensorProps = SensorProps<MouseSensorOptions>;\n\nexport class MouseSensor extends AbstractPointerSensor {\n  constructor(props: MouseSensorProps) {\n    super(props, events, getOwnerDocument(props.event.target));\n  }\n\n  static activators = [\n    {\n      eventName: 'onMouseDown' as const,\n      handler: (\n        {nativeEvent: event}: MouseEvent,\n        {onActivation}: MouseSensorOptions\n      ) => {\n        if (event.button === MouseButton.RightClick) {\n          return false;\n        }\n\n        onActivation?.({event});\n\n        return true;\n      },\n    },\n  ];\n}\n","import type {TouchEvent} from 'react';\n\nimport {\n  AbstractPointerSensor,\n  PointerSensorProps,\n  PointerEventHandlers,\n  PointerSensorOptions,\n} from '../pointer';\nimport type {SensorProps} from '../types';\n\nconst events: PointerEventHandlers = {\n  cancel: {name: 'touchcancel'},\n  move: {name: 'touchmove'},\n  end: {name: 'touchend'},\n};\n\nexport interface TouchSensorOptions extends PointerSensorOptions {}\n\nexport type TouchSensorProps = SensorProps<TouchSensorOptions>;\n\nexport class TouchSensor extends AbstractPointerSensor {\n  constructor(props: PointerSensorProps) {\n    super(props, events);\n  }\n\n  static activators = [\n    {\n      eventName: 'onTouchStart' as const,\n      handler: (\n        {nativeEvent: event}: TouchEvent,\n        {onActivation}: TouchSensorOptions\n      ) => {\n        const {touches} = event;\n\n        if (touches.length > 1) {\n          return false;\n        }\n\n        onActivation?.({event});\n\n        return true;\n      },\n    },\n  ];\n\n  static setup() {\n    // Adding a non-capture and non-passive `touchmove` listener in order\n    // to force `event.preventDefault()` calls to work in dynamically added\n    // touchmove event handlers. This is required for iOS Safari.\n    window.addEventListener(events.move.name, noop, {\n      capture: false,\n      passive: false,\n    });\n\n    return function teardown() {\n      window.removeEventListener(events.move.name, noop);\n    };\n\n    // We create a new handler because the teardown function of another sensor\n    // could remove our event listener if we use a referentially equal listener.\n    function noop() {}\n  }\n}\n","import {useCallback, useEffect, useMemo, useRef} from 'react';\nimport {useInterval, useLazyMemo, usePrevious} from '@dnd-kit/utilities';\n\nimport {getScrollDirectionAndSpeed} from '../../utilities';\nimport {Direction} from '../../types';\nimport type {Coordinates, ClientRect} from '../../types';\n\nexport type ScrollAncestorSortingFn = (ancestors: Element[]) => Element[];\n\nexport enum AutoScrollActivator {\n  Pointer,\n  DraggableRect,\n}\n\nexport interface Options {\n  acceleration?: number;\n  activator?: AutoScrollActivator;\n  canScroll?: CanScroll;\n  enabled?: boolean;\n  interval?: number;\n  layoutShiftCompensation?:\n    | boolean\n    | {\n        x: boolean;\n        y: boolean;\n      };\n  order?: TraversalOrder;\n  threshold?: {\n    x: number;\n    y: number;\n  };\n}\n\ninterface Arguments extends Options {\n  draggingRect: ClientRect | null;\n  enabled: boolean;\n  pointerCoordinates: Coordinates | null;\n  scrollableAncestors: Element[];\n  scrollableAncestorRects: ClientRect[];\n  delta: Coordinates;\n}\n\nexport type CanScroll = (element: Element) => boolean;\n\nexport enum TraversalOrder {\n  TreeOrder,\n  ReversedTreeOrder,\n}\n\ninterface ScrollDirection {\n  x: 0 | Direction;\n  y: 0 | Direction;\n}\n\nexport function useAutoScroller({\n  acceleration,\n  activator = AutoScrollActivator.Pointer,\n  canScroll,\n  draggingRect,\n  enabled,\n  interval = 5,\n  order = TraversalOrder.TreeOrder,\n  pointerCoordinates,\n  scrollableAncestors,\n  scrollableAncestorRects,\n  delta,\n  threshold,\n}: Arguments) {\n  const scrollIntent = useScrollIntent({delta, disabled: !enabled});\n  const [setAutoScrollInterval, clearAutoScrollInterval] = useInterval();\n  const scrollSpeed = useRef<Coordinates>({x: 0, y: 0});\n  const scrollDirection = useRef<ScrollDirection>({x: 0, y: 0});\n  const rect = useMemo(() => {\n    switch (activator) {\n      case AutoScrollActivator.Pointer:\n        return pointerCoordinates\n          ? {\n              top: pointerCoordinates.y,\n              bottom: pointerCoordinates.y,\n              left: pointerCoordinates.x,\n              right: pointerCoordinates.x,\n            }\n          : null;\n      case AutoScrollActivator.DraggableRect:\n        return draggingRect;\n    }\n  }, [activator, draggingRect, pointerCoordinates]);\n  const scrollContainerRef = useRef<Element | null>(null);\n  const autoScroll = useCallback(() => {\n    const scrollContainer = scrollContainerRef.current;\n\n    if (!scrollContainer) {\n      return;\n    }\n\n    const scrollLeft = scrollSpeed.current.x * scrollDirection.current.x;\n    const scrollTop = scrollSpeed.current.y * scrollDirection.current.y;\n\n    scrollContainer.scrollBy(scrollLeft, scrollTop);\n  }, []);\n  const sortedScrollableAncestors = useMemo(\n    () =>\n      order === TraversalOrder.TreeOrder\n        ? [...scrollableAncestors].reverse()\n        : scrollableAncestors,\n    [order, scrollableAncestors]\n  );\n\n  useEffect(\n    () => {\n      if (!enabled || !scrollableAncestors.length || !rect) {\n        clearAutoScrollInterval();\n        return;\n      }\n\n      for (const scrollContainer of sortedScrollableAncestors) {\n        if (canScroll?.(scrollContainer) === false) {\n          continue;\n        }\n\n        const index = scrollableAncestors.indexOf(scrollContainer);\n        const scrollContainerRect = scrollableAncestorRects[index];\n\n        if (!scrollContainerRect) {\n          continue;\n        }\n\n        const {direction, speed} = getScrollDirectionAndSpeed(\n          scrollContainer,\n          scrollContainerRect,\n          rect,\n          acceleration,\n          threshold\n        );\n\n        for (const axis of ['x', 'y'] as const) {\n          if (!scrollIntent[axis][direction[axis] as Direction]) {\n            speed[axis] = 0;\n            direction[axis] = 0;\n          }\n        }\n\n        if (speed.x > 0 || speed.y > 0) {\n          clearAutoScrollInterval();\n\n          scrollContainerRef.current = scrollContainer;\n          setAutoScrollInterval(autoScroll, interval);\n\n          scrollSpeed.current = speed;\n          scrollDirection.current = direction;\n\n          return;\n        }\n      }\n\n      scrollSpeed.current = {x: 0, y: 0};\n      scrollDirection.current = {x: 0, y: 0};\n      clearAutoScrollInterval();\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n      acceleration,\n      autoScroll,\n      canScroll,\n      clearAutoScrollInterval,\n      enabled,\n      interval,\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      JSON.stringify(rect),\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      JSON.stringify(scrollIntent),\n      setAutoScrollInterval,\n      scrollableAncestors,\n      sortedScrollableAncestors,\n      scrollableAncestorRects,\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      JSON.stringify(threshold),\n    ]\n  );\n}\n\ninterface ScrollIntent {\n  x: Record<Direction, boolean>;\n  y: Record<Direction, boolean>;\n}\n\nconst defaultScrollIntent: ScrollIntent = {\n  x: {[Direction.Backward]: false, [Direction.Forward]: false},\n  y: {[Direction.Backward]: false, [Direction.Forward]: false},\n};\n\nfunction useScrollIntent({\n  delta,\n  disabled,\n}: {\n  delta: Coordinates;\n  disabled: boolean;\n}): ScrollIntent {\n  const previousDelta = usePrevious(delta);\n\n  return useLazyMemo<ScrollIntent>(\n    (previousIntent) => {\n      if (disabled || !previousDelta || !previousIntent) {\n        // Reset scroll intent tracking when auto-scrolling is disabled\n        return defaultScrollIntent;\n      }\n\n      const direction = {\n        x: Math.sign(delta.x - previousDelta.x),\n        y: Math.sign(delta.y - previousDelta.y),\n      };\n\n      // Keep track of the user intent to scroll in each direction for both axis\n      return {\n        x: {\n          [Direction.Backward]:\n            previousIntent.x[Direction.Backward] || direction.x === -1,\n          [Direction.Forward]:\n            previousIntent.x[Direction.Forward] || direction.x === 1,\n        },\n        y: {\n          [Direction.Backward]:\n            previousIntent.y[Direction.Backward] || direction.y === -1,\n          [Direction.Forward]:\n            previousIntent.y[Direction.Forward] || direction.y === 1,\n        },\n      };\n    },\n    [disabled, delta, previousDelta]\n  );\n}\n","import {useLazyMemo} from '@dnd-kit/utilities';\n\nimport type {DraggableNode, DraggableNodes} from '../../store';\nimport type {UniqueIdentifier} from '../../types';\n\nexport function useCachedNode(\n  draggableNodes: DraggableNodes,\n  id: UniqueIdentifier | null\n): DraggableNode['node']['current'] {\n  const draggableNode = id != null ? draggableNodes.get(id) : undefined;\n  const node = draggableNode ? draggableNode.node.current : null;\n\n  return useLazyMemo(\n    (cachedNode) => {\n      if (id == null) {\n        return null;\n      }\n\n      // In some cases, the draggable node can unmount while dragging\n      // This is the case for virtualized lists. In those situations,\n      // we fall back to the last known value for that node.\n      return node ?? cachedNode ?? null;\n    },\n    [node, id]\n  );\n}\n","import {useMemo} from 'react';\n\nimport type {SensorActivatorFunction, SensorDescriptor} from '../../sensors';\nimport type {\n  SyntheticListener,\n  SyntheticListeners,\n} from './useSyntheticListeners';\n\nexport function useCombineActivators(\n  sensors: SensorDescriptor<any>[],\n  getSyntheticHandler: (\n    handler: SensorActivatorFunction<any>,\n    sensor: SensorDescriptor<any>\n  ) => SyntheticListener['handler']\n): SyntheticListeners {\n  return useMemo(\n    () =>\n      sensors.reduce<SyntheticListeners>((accumulator, sensor) => {\n        const {sensor: Sensor} = sensor;\n\n        const sensorActivators = Sensor.activators.map((activator) => ({\n          eventName: activator.eventName,\n          handler: getSyntheticHandler(activator.handler, sensor),\n        }));\n\n        return [...accumulator, ...sensorActivators];\n      }, []),\n    [sensors, getSyntheticHandler]\n  );\n}\n","import {useCallback, useEffect, useRef, useState} from 'react';\nimport {useLatestValue, useLazyMemo} from '@dnd-kit/utilities';\n\nimport {Rect} from '../../utilities/rect';\nimport type {DroppableContainer, RectMap} from '../../store/types';\nimport type {ClientRect, UniqueIdentifier} from '../../types';\n\ninterface Arguments {\n  dragging: boolean;\n  dependencies: any[];\n  config: DroppableMeasuring;\n}\n\nexport enum MeasuringStrategy {\n  Always,\n  BeforeDragging,\n  WhileDragging,\n}\n\nexport enum MeasuringFrequency {\n  Optimized = 'optimized',\n}\n\ntype MeasuringFunction = (element: HTMLElement) => ClientRect;\n\nexport interface DroppableMeasuring {\n  measure: MeasuringFunction;\n  strategy: MeasuringStrategy;\n  frequency: MeasuringFrequency | number;\n}\n\nconst defaultValue: RectMap = new Map();\n\nexport function useDroppableMeasuring(\n  containers: DroppableContainer[],\n  {dragging, dependencies, config}: Arguments\n) {\n  const [queue, setQueue] = useState<UniqueIdentifier[] | null>(null);\n  const {frequency, measure, strategy} = config;\n  const containersRef = useRef(containers);\n  const disabled = isDisabled();\n  const disabledRef = useLatestValue(disabled);\n  const measureDroppableContainers = useCallback(\n    (ids: UniqueIdentifier[] = []) => {\n      if (disabledRef.current) {\n        return;\n      }\n\n      setQueue((value) => {\n        if (value === null) {\n          return ids;\n        }\n\n        return value.concat(ids.filter((id) => !value.includes(id)));\n      });\n    },\n    [disabledRef]\n  );\n  const timeoutId = useRef<NodeJS.Timeout | null>(null);\n  const droppableRects = useLazyMemo<RectMap>(\n    (previousValue) => {\n      if (disabled && !dragging) {\n        return defaultValue;\n      }\n\n      if (\n        !previousValue ||\n        previousValue === defaultValue ||\n        containersRef.current !== containers ||\n        queue != null\n      ) {\n        const map: RectMap = new Map();\n\n        for (let container of containers) {\n          if (!container) {\n            continue;\n          }\n\n          if (\n            queue &&\n            queue.length > 0 &&\n            !queue.includes(container.id) &&\n            container.rect.current\n          ) {\n            // This container does not need to be re-measured\n            map.set(container.id, container.rect.current);\n            continue;\n          }\n\n          const node = container.node.current;\n          const rect = node ? new Rect(measure(node), node) : null;\n\n          container.rect.current = rect;\n\n          if (rect) {\n            map.set(container.id, rect);\n          }\n        }\n\n        return map;\n      }\n\n      return previousValue;\n    },\n    [containers, queue, dragging, disabled, measure]\n  );\n\n  useEffect(() => {\n    containersRef.current = containers;\n  }, [containers]);\n\n  useEffect(\n    () => {\n      if (disabled) {\n        return;\n      }\n\n      measureDroppableContainers();\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [dragging, disabled]\n  );\n\n  useEffect(\n    () => {\n      if (queue && queue.length > 0) {\n        setQueue(null);\n      }\n    },\n    //eslint-disable-next-line react-hooks/exhaustive-deps\n    [JSON.stringify(queue)]\n  );\n\n  useEffect(\n    () => {\n      if (\n        disabled ||\n        typeof frequency !== 'number' ||\n        timeoutId.current !== null\n      ) {\n        return;\n      }\n\n      timeoutId.current = setTimeout(() => {\n        measureDroppableContainers();\n        timeoutId.current = null;\n      }, frequency);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [frequency, disabled, measureDroppableContainers, ...dependencies]\n  );\n\n  return {\n    droppableRects,\n    measureDroppableContainers,\n    measuringScheduled: queue != null,\n  };\n\n  function isDisabled() {\n    switch (strategy) {\n      case MeasuringStrategy.Always:\n        return false;\n      case MeasuringStrategy.BeforeDragging:\n        return dragging;\n      default:\n        return !dragging;\n    }\n  }\n}\n","import {useLazyMemo} from '@dnd-kit/utilities';\n\ntype AnyFunction = (...args: any) => any;\n\nexport function useInitialValue<\n  T,\n  U extends AnyFunction | undefined = undefined\n>(\n  value: T | null,\n  computeFn?: U\n): U extends AnyFunction ? ReturnType<U> | null : T | null {\n  return useLazyMemo(\n    (previousValue) => {\n      if (!value) {\n        return null;\n      }\n\n      if (previousValue) {\n        return previousValue;\n      }\n\n      return typeof computeFn === 'function' ? computeFn(value) : value;\n    },\n    [computeFn, value]\n  );\n}\n","import type {ClientRect} from '../../types';\nimport {useInitialValue} from './useInitialValue';\n\nexport function useInitialRect(\n  node: HTMLElement | null,\n  measure: (node: HTMLElement) => ClientRect\n) {\n  return useInitialValue(node, measure);\n}\n","import {useEffect, useMemo} from 'react';\nimport {useEvent} from '@dnd-kit/utilities';\n\ninterface Arguments {\n  callback: MutationCallback;\n  disabled?: boolean;\n}\n\n/**\n * Returns a new MutationObserver instance.\n * If `MutationObserver` is undefined in the execution environment, returns `undefined`.\n */\nexport function useMutationObserver({callback, disabled}: Arguments) {\n  const handleMutations = useEvent(callback);\n  const mutationObserver = useMemo(() => {\n    if (\n      disabled ||\n      typeof window === 'undefined' ||\n      typeof window.MutationObserver === 'undefined'\n    ) {\n      return undefined;\n    }\n\n    const {MutationObserver} = window;\n\n    return new MutationObserver(handleMutations);\n  }, [handleMutations, disabled]);\n\n  useEffect(() => {\n    return () => mutationObserver?.disconnect();\n  }, [mutationObserver]);\n\n  return mutationObserver;\n}\n","import {useEffect, useMemo} from 'react';\nimport {useEvent} from '@dnd-kit/utilities';\n\ninterface Arguments {\n  callback: ResizeObserverCallback;\n  disabled?: boolean;\n}\n\n/**\n * Returns a new ResizeObserver instance bound to the `onResize` callback.\n * If `ResizeObserver` is undefined in the execution environment, returns `undefined`.\n */\nexport function useResizeObserver({callback, disabled}: Arguments) {\n  const handleResize = useEvent(callback);\n  const resizeObserver = useMemo(\n    () => {\n      if (\n        disabled ||\n        typeof window === 'undefined' ||\n        typeof window.ResizeObserver === 'undefined'\n      ) {\n        return undefined;\n      }\n\n      const {ResizeObserver} = window;\n\n      return new ResizeObserver(handleResize);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [disabled]\n  );\n\n  useEffect(() => {\n    return () => resizeObserver?.disconnect();\n  }, [resizeObserver]);\n\n  return resizeObserver;\n}\n","import {useState} from 'react';\nimport {useIsomorphicLayoutEffect} from '@dnd-kit/utilities';\n\nimport type {ClientRect} from '../../types';\nimport {getClientRect, Rect} from '../../utilities';\n\nimport {useMutationObserver} from './useMutationObserver';\nimport {useResizeObserver} from './useResizeObserver';\n\nfunction defaultMeasure(element: HTMLElement) {\n  return new Rect(getClientRect(element), element);\n}\n\nexport function useRect(\n  element: HTMLElement | null,\n  measure: (element: HTMLElement) => ClientRect = defaultMeasure,\n  fallbackRect?: ClientRect | null\n) {\n  const [rect, setRect] = useState<ClientRect | null>(null);\n\n  function measureRect() {\n    setRect((currentRect): ClientRect | null => {\n      if (!element) {\n        return null;\n      }\n  \n      if (element.isConnected === false) {\n        // Fall back to last rect we measured if the element is\n        // no longer connected to the DOM.\n        return currentRect ?? fallbackRect ?? null;\n      }\n  \n      const newRect = measure(element);\n  \n      if (JSON.stringify(currentRect) === JSON.stringify(newRect)) {\n        return currentRect;\n      }\n  \n      return newRect;\n    });\n  }\n  \n  const mutationObserver = useMutationObserver({\n    callback(records) {\n      if (!element) {\n        return;\n      }\n\n      for (const record of records) {\n        const {type, target} = record;\n\n        if (\n          type === 'childList' &&\n          target instanceof HTMLElement &&\n          target.contains(element)\n        ) {\n          measureRect();\n          break;\n        }\n      }\n    },\n  });\n  const resizeObserver = useResizeObserver({callback: measureRect});\n\n  useIsomorphicLayoutEffect(() => {\n    measureRect();\n\n    if (element) {\n      resizeObserver?.observe(element);\n      mutationObserver?.observe(document.body, {\n        childList: true,\n        subtree: true,\n      });\n    } else {\n      resizeObserver?.disconnect();\n      mutationObserver?.disconnect();\n    }\n  }, [element]);\n\n  return rect;\n}\n","import type {ClientRect} from '../../types';\nimport {getRectDelta} from '../../utilities';\n\nimport {useInitialValue} from './useInitialValue';\n\nexport function useRectDelta(rect: ClientRect | null) {\n  const initialRect = useInitialValue(rect);\n\n  return getRectDelta(rect, initialRect);\n}\n","import {useEffect, useRef} from 'react';\nimport {useLazyMemo} from '@dnd-kit/utilities';\n\nimport {getScrollableAncestors} from '../../utilities';\n\nconst defaultValue: Element[] = [];\n\nexport function useScrollableAncestors(node: HTMLElement | null) {\n  const previousNode = useRef(node);\n\n  const ancestors = useLazyMemo<Element[]>(\n    (previousValue) => {\n      if (!node) {\n        return defaultValue;\n      }\n\n      if (\n        previousValue &&\n        previousValue !== defaultValue &&\n        node &&\n        previousNode.current &&\n        node.parentNode === previousNode.current.parentNode\n      ) {\n        return previousValue;\n      }\n\n      return getScrollableAncestors(node);\n    },\n    [node]\n  );\n\n  useEffect(() => {\n    previousNode.current = node;\n  }, [node]);\n\n  return ancestors;\n}\n","import {useState, useCallback, useMemo, useRef, useEffect} from 'react';\nimport {add} from '@dnd-kit/utilities';\n\nimport {\n  defaultCoordinates,\n  getScrollableElement,\n  getScrollCoordinates,\n  getScrollOffsets,\n} from '../../utilities';\nimport type {Coordinates} from '../../types';\n\ntype ScrollCoordinates = Map<HTMLElement | Window, Coordinates>;\n\nexport function useScrollOffsets(elements: Element[]): Coordinates {\n  const [\n    scrollCoordinates,\n    setScrollCoordinates,\n  ] = useState<ScrollCoordinates | null>(null);\n  const prevElements = useRef(elements);\n\n  // To-do: Throttle the handleScroll callback\n  const handleScroll = useCallback((event: Event) => {\n    const scrollingElement = getScrollableElement(event.target);\n\n    if (!scrollingElement) {\n      return;\n    }\n\n    setScrollCoordinates((scrollCoordinates) => {\n      if (!scrollCoordinates) {\n        return null;\n      }\n\n      scrollCoordinates.set(\n        scrollingElement,\n        getScrollCoordinates(scrollingElement)\n      );\n\n      return new Map(scrollCoordinates);\n    });\n  }, []);\n\n  useEffect(() => {\n    const previousElements = prevElements.current;\n\n    if (elements !== previousElements) {\n      cleanup(previousElements);\n\n      const entries = elements\n        .map((element) => {\n          const scrollableElement = getScrollableElement(element);\n\n          if (scrollableElement) {\n            scrollableElement.addEventListener('scroll', handleScroll, {\n              passive: true,\n            });\n\n            return [\n              scrollableElement,\n              getScrollCoordinates(scrollableElement),\n            ] as const;\n          }\n\n          return null;\n        })\n        .filter(\n          (\n            entry\n          ): entry is [\n            HTMLElement | (Window & typeof globalThis),\n            Coordinates\n          ] => entry != null\n        );\n\n      setScrollCoordinates(entries.length ? new Map(entries) : null);\n\n      prevElements.current = elements;\n    }\n\n    return () => {\n      cleanup(elements);\n      cleanup(previousElements);\n    };\n\n    function cleanup(elements: Element[]) {\n      elements.forEach((element) => {\n        const scrollableElement = getScrollableElement(element);\n\n        scrollableElement?.removeEventListener('scroll', handleScroll);\n      });\n    }\n  }, [handleScroll, elements]);\n\n  return useMemo(() => {\n    if (elements.length) {\n      return scrollCoordinates\n        ? Array.from(scrollCoordinates.values()).reduce(\n            (acc, coordinates) => add(acc, coordinates),\n            defaultCoordinates\n          )\n        : getScrollOffsets(elements);\n    }\n\n    return defaultCoordinates;\n  }, [elements, scrollCoordinates]);\n}\n","import {useEffect, useRef} from 'react';\nimport {Coordinates, subtract} from '@dnd-kit/utilities';\n\nimport {defaultCoordinates} from '../../utilities';\n\nexport function useScrollOffsetsDelta(\n  scrollOffsets: Coordinates,\n  dependencies: any[] = []\n) {\n  const initialScrollOffsets = useRef<Coordinates | null>(null);\n\n  useEffect(\n    () => {\n      initialScrollOffsets.current = null;\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    dependencies\n  );\n\n  useEffect(() => {\n    const hasScrollOffsets = scrollOffsets !== defaultCoordinates;\n\n    if (hasScrollOffsets && !initialScrollOffsets.current) {\n      initialScrollOffsets.current = scrollOffsets;\n    }\n\n    if (!hasScrollOffsets && initialScrollOffsets.current) {\n      initialScrollOffsets.current = null;\n    }\n  }, [scrollOffsets]);\n\n  return initialScrollOffsets.current\n    ? subtract(scrollOffsets, initialScrollOffsets.current)\n    : defaultCoordinates;\n}\n","import {useEffect} from 'react';\nimport {canUseDOM} from '@dnd-kit/utilities';\n\nimport type {SensorDescriptor} from '../../sensors';\n\nexport function useSensorSetup(sensors: SensorDescriptor<any>[]) {\n  useEffect(\n    () => {\n      if (!canUseDOM) {\n        return;\n      }\n\n      const teardownFns = sensors.map(({sensor}) => sensor.setup?.());\n\n      return () => {\n        for (const teardown of teardownFns) {\n          teardown?.();\n        }\n      };\n    },\n    // TO-DO: Sensors length could theoretically change which would not be a valid dependency\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    sensors.map(({sensor}) => sensor)\n  );\n}\n","import {useMemo} from 'react';\n\nimport type {SyntheticEventName, UniqueIdentifier} from '../../types';\n\nexport type SyntheticListener = {\n  eventName: SyntheticEventName;\n  handler: (event: React.SyntheticEvent, id: UniqueIdentifier) => void;\n};\n\nexport type SyntheticListeners = SyntheticListener[];\n\nexport type SyntheticListenerMap = Record<string, Function>;\n\nexport function useSyntheticListeners(\n  listeners: SyntheticListeners,\n  id: UniqueIdentifier\n): SyntheticListenerMap {\n  return useMemo(() => {\n    return listeners.reduce<SyntheticListenerMap>(\n      (acc, {eventName, handler}) => {\n        acc[eventName] = (event: React.SyntheticEvent) => {\n          handler(event, id);\n        };\n\n        return acc;\n      },\n      {} as SyntheticListenerMap\n    );\n  }, [listeners, id]);\n}\n","import {useMemo} from 'react';\n\nimport {getWindowClientRect} from '../../utilities/rect';\n\nexport function useWindowRect(element: typeof window | null) {\n  return useMemo(() => (element ? getWindowClientRect(element) : null), [\n    element,\n  ]);\n}\n","import {useState} from 'react';\nimport {getWindow, useIsomorphicLayoutEffect} from '@dnd-kit/utilities';\n\nimport type {ClientRect} from '../../types';\nimport {Rect, getClientRect} from '../../utilities/rect';\nimport {isDocumentScrollingElement} from '../../utilities';\n\nimport {useResizeObserver} from './useResizeObserver';\nimport {useWindowRect} from './useWindowRect';\n\nconst defaultValue: Rect[] = [];\n\nexport function useRects(\n  elements: Element[],\n  measure: (element: Element) => ClientRect = getClientRect\n): ClientRect[] {\n  const [firstElement] = elements;\n  const windowRect = useWindowRect(\n    firstElement ? getWindow(firstElement) : null\n  );\n  const [rects, setRects] = useState<ClientRect[]>(defaultValue);\n\n  function measureRects() {\n    setRects(() => {\n      if (!elements.length) {\n        return defaultValue;\n      }\n\n      return elements.map((element) =>\n        isDocumentScrollingElement(element)\n          ? (windowRect as ClientRect)\n          : new Rect(measure(element), element)\n      );\n    });\n  }\n\n  const resizeObserver = useResizeObserver({callback: measureRects});\n\n  useIsomorphicLayoutEffect(() => {\n    resizeObserver?.disconnect();\n    measureRects();\n    elements.forEach((element) => resizeObserver?.observe(element));\n  }, [elements]);\n\n  return rects;\n}\n","import {isHTMLElement} from '@dnd-kit/utilities';\n\nexport function getMeasurableNode(\n  node: HTMLElement | undefined | null\n): HTMLElement | null {\n  if (!node) {\n    return null;\n  }\n\n  if (node.children.length > 1) {\n    return node;\n  }\n  const firstChild = node.children[0];\n\n  return isHTMLElement(firstChild) ? firstChild : node;\n}\n","import {useMemo, useCallback, useState} from 'react';\nimport {isHTMLElement, useNodeRef} from '@dnd-kit/utilities';\n\nimport {useResizeObserver} from './useResizeObserver';\nimport {getMeasurableNode} from '../../utilities/nodes';\nimport type {PublicContextDescriptor} from '../../store';\nimport type {ClientRect} from '../../types';\n\ninterface Arguments {\n  measure(element: HTMLElement): ClientRect;\n}\n\nexport function useDragOverlayMeasuring({\n  measure,\n}: Arguments): PublicContextDescriptor['dragOverlay'] {\n  const [rect, setRect] = useState<ClientRect | null>(null);\n  const handleResize = useCallback(\n    (entries: ResizeObserverEntry[]) => {\n      for (const {target} of entries) {\n        if (isHTMLElement(target)) {\n          setRect((rect) => {\n            const newRect = measure(target);\n\n            return rect\n              ? {...rect, width: newRect.width, height: newRect.height}\n              : newRect;\n          });\n          break;\n        }\n      }\n    },\n    [measure]\n  );\n  const resizeObserver = useResizeObserver({callback: handleResize});\n  const handleNodeChange = useCallback(\n    (element) => {\n      const node = getMeasurableNode(element);\n\n      resizeObserver?.disconnect();\n\n      if (node) {\n        resizeObserver?.observe(node);\n      }\n\n      setRect(node ? measure(node) : null);\n    },\n    [measure, resizeObserver]\n  );\n  const [nodeRef, setRef] = useNodeRef(handleNodeChange);\n\n  return useMemo(\n    () => ({\n      nodeRef,\n      rect,\n      setRef,\n    }),\n    [rect, nodeRef, setRef]\n  );\n}\n","import type {DeepRequired} from '@dnd-kit/utilities';\n\nimport type {DataRef} from '../../store/types';\nimport {KeyboardSensor, PointerSensor} from '../../sensors';\nimport {MeasuringStrategy, MeasuringFrequency} from '../../hooks/utilities';\nimport {\n  getClientRect,\n  getTransformAgnosticClientRect,\n} from '../../utilities/rect';\n\nimport type {MeasuringConfiguration} from './types';\n\nexport const defaultSensors = [\n  {sensor: PointerSensor, options: {}},\n  {sensor: KeyboardSensor, options: {}},\n];\n\nexport const defaultData: DataRef = {current: {}};\n\nexport const defaultMeasuringConfiguration: DeepRequired<MeasuringConfiguration> = {\n  draggable: {\n    measure: getTransformAgnosticClientRect,\n  },\n  droppable: {\n    measure: getTransformAgnosticClientRect,\n    strategy: MeasuringStrategy.WhileDragging,\n    frequency: MeasuringFrequency.Optimized,\n  },\n  dragOverlay: {\n    measure: getClientRect,\n  },\n};\n","import type {UniqueIdentifier} from '../types';\nimport type {DroppableContainer} from './types';\n\ntype Identifier = UniqueIdentifier | null | undefined;\n\nexport class DroppableContainersMap extends Map<\n  UniqueIdentifier,\n  DroppableContainer\n> {\n  get(id: Identifier) {\n    return id != null ? super.get(id) ?? undefined : undefined;\n  }\n\n  toArray(): DroppableContainer[] {\n    return Array.from(this.values());\n  }\n\n  getEnabled(): DroppableContainer[] {\n    return this.toArray().filter(({disabled}) => !disabled);\n  }\n\n  getNodeFor(id: Identifier) {\n    return this.get(id)?.node.current ?? undefined;\n  }\n}\n","import {createContext} from 'react';\n\nimport {noop} from '../utilities/other';\nimport {defaultMeasuringConfiguration} from '../components/DndContext/defaults';\nimport {DroppableContainersMap} from './constructors';\nimport type {InternalContextDescriptor, PublicContextDescriptor} from './types';\n\nexport const defaultPublicContext: PublicContextDescriptor = {\n  activatorEvent: null,\n  active: null,\n  activeNode: null,\n  activeNodeRect: null,\n  collisions: null,\n  containerNodeRect: null,\n  draggableNodes: new Map(),\n  droppableRects: new Map(),\n  droppableContainers: new DroppableContainersMap(),\n  over: null,\n  dragOverlay: {\n    nodeRef: {\n      current: null,\n    },\n    rect: null,\n    setRef: noop,\n  },\n  scrollableAncestors: [],\n  scrollableAncestorRects: [],\n  measuringConfiguration: defaultMeasuringConfiguration,\n  measureDroppableContainers: noop,\n  windowRect: null,\n  measuringScheduled: false,\n};\n\nexport const defaultInternalContext: InternalContextDescriptor = {\n  activatorEvent: null,\n  activators: [],\n  active: null,\n  activeNodeRect: null,\n  ariaDescribedById: {\n    draggable: '',\n  },\n  dispatch: noop,\n  draggableNodes: new Map(),\n  over: null,\n  measureDroppableContainers: noop,\n};\n\nexport const InternalContext = createContext<InternalContextDescriptor>(\n  defaultInternalContext\n);\n\nexport const PublicContext = createContext<PublicContextDescriptor>(\n  defaultPublicContext\n);\n","import {Action, Actions} from './actions';\nimport {DroppableContainersMap} from './constructors';\nimport type {State} from './types';\n\nexport function getInitialState(): State {\n  return {\n    draggable: {\n      active: null,\n      initialCoordinates: {x: 0, y: 0},\n      nodes: new Map(),\n      translate: {x: 0, y: 0},\n    },\n    droppable: {\n      containers: new DroppableContainersMap(),\n    },\n  };\n}\n\nexport function reducer(state: State, action: Actions): State {\n  switch (action.type) {\n    case Action.DragStart:\n      return {\n        ...state,\n        draggable: {\n          ...state.draggable,\n          initialCoordinates: action.initialCoordinates,\n          active: action.active,\n        },\n      };\n    case Action.DragMove:\n      if (state.draggable.active == null) {\n        return state;\n      }\n\n      return {\n        ...state,\n        draggable: {\n          ...state.draggable,\n          translate: {\n            x: action.coordinates.x - state.draggable.initialCoordinates.x,\n            y: action.coordinates.y - state.draggable.initialCoordinates.y,\n          },\n        },\n      };\n    case Action.DragEnd:\n    case Action.DragCancel:\n      return {\n        ...state,\n        draggable: {\n          ...state.draggable,\n          active: null,\n          initialCoordinates: {x: 0, y: 0},\n          translate: {x: 0, y: 0},\n        },\n      };\n\n    case Action.RegisterDroppable: {\n      const {element} = action;\n      const {id} = element;\n      const containers = new DroppableContainersMap(state.droppable.containers);\n      containers.set(id, element);\n\n      return {\n        ...state,\n        droppable: {\n          ...state.droppable,\n          containers,\n        },\n      };\n    }\n\n    case Action.SetDroppableDisabled: {\n      const {id, key, disabled} = action;\n      const element = state.droppable.containers.get(id);\n\n      if (!element || key !== element.key) {\n        return state;\n      }\n\n      const containers = new DroppableContainersMap(state.droppable.containers);\n      containers.set(id, {\n        ...element,\n        disabled,\n      });\n\n      return {\n        ...state,\n        droppable: {\n          ...state.droppable,\n          containers,\n        },\n      };\n    }\n\n    case Action.UnregisterDroppable: {\n      const {id, key} = action;\n      const element = state.droppable.containers.get(id);\n\n      if (!element || key !== element.key) {\n        return state;\n      }\n\n      const containers = new DroppableContainersMap(state.droppable.containers);\n      containers.delete(id);\n\n      return {\n        ...state,\n        droppable: {\n          ...state.droppable,\n          containers,\n        },\n      };\n    }\n\n    default: {\n      return state;\n    }\n  }\n}\n","import {useContext, useEffect} from 'react';\nimport {\n  findFirstFocusableNode,\n  isKeyboardEvent,\n  usePrevious,\n} from '@dnd-kit/utilities';\n\nimport {InternalContext} from '../../../store';\n\ninterface Props {\n  disabled: boolean;\n}\n\nexport function RestoreFocus({disabled}: Props) {\n  const {active, activatorEvent, draggableNodes} = useContext(InternalContext);\n  const previousActivatorEvent = usePrevious(activatorEvent);\n  const previousActiveId = usePrevious(active?.id);\n\n  // Restore keyboard focus on the activator node\n  useEffect(() => {\n    if (disabled) {\n      return;\n    }\n\n    if (!activatorEvent && previousActivatorEvent && previousActiveId != null) {\n      if (!isKeyboardEvent(previousActivatorEvent)) {\n        return;\n      }\n\n      if (document.activeElement === previousActivatorEvent.target) {\n        // No need to restore focus\n        return;\n      }\n\n      const draggableNode = draggableNodes.get(previousActiveId);\n\n      if (!draggableNode) {\n        return;\n      }\n\n      const {activatorNode, node} = draggableNode;\n\n      if (!activatorNode.current && !node.current) {\n        return;\n      }\n\n      requestAnimationFrame(() => {\n        for (const element of [activatorNode.current, node.current]) {\n          if (!element) {\n            continue;\n          }\n\n          const focusableNode = findFirstFocusableNode(element);\n\n          if (focusableNode) {\n            focusableNode.focus();\n            break;\n          }\n        }\n      });\n    }\n  }, [\n    activatorEvent,\n    disabled,\n    draggableNodes,\n    previousActiveId,\n    previousActivatorEvent,\n  ]);\n\n  return null;\n}\n","import type {FirstArgument, Transform} from '@dnd-kit/utilities';\n\nimport type {Modifiers, Modifier} from './types';\n\nexport function applyModifiers(\n  modifiers: Modifiers | undefined,\n  {transform, ...args}: FirstArgument<Modifier>\n): Transform {\n  return modifiers?.length\n    ? modifiers.reduce<Transform>((accumulator, modifier) => {\n        return modifier({\n          transform: accumulator,\n          ...args,\n        });\n      }, transform)\n    : transform;\n}\n","import {useMemo} from 'react';\nimport type {DeepRequired} from '@dnd-kit/utilities';\n\nimport {defaultMeasuringConfiguration} from '../defaults';\nimport type {MeasuringConfiguration} from '../types';\n\nexport function useMeasuringConfiguration(\n  config: MeasuringConfiguration | undefined\n): DeepRequired<MeasuringConfiguration> {\n  return useMemo(\n    () => ({\n      draggable: {\n        ...defaultMeasuringConfiguration.draggable,\n        ...config?.draggable,\n      },\n      droppable: {\n        ...defaultMeasuringConfiguration.droppable,\n        ...config?.droppable,\n      },\n      dragOverlay: {\n        ...defaultMeasuringConfiguration.dragOverlay,\n        ...config?.dragOverlay,\n      },\n    }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [config?.draggable, config?.droppable, config?.dragOverlay]\n  );\n}\n","import {useRef} from 'react';\nimport {useIsomorphicLayoutEffect} from '@dnd-kit/utilities';\n\nimport {getRectDelta} from '../../../utilities/rect';\nimport {getFirstScrollableAncestor} from '../../../utilities/scroll';\nimport type {ClientRect} from '../../../types';\nimport type {DraggableNode} from '../../../store';\nimport type {MeasuringFunction} from '../types';\n\ninterface Options {\n  activeNode: DraggableNode | null | undefined;\n  config: boolean | {x: boolean; y: boolean} | undefined;\n  initialRect: ClientRect | null;\n  measure: MeasuringFunction;\n}\n\nexport function useLayoutShiftScrollCompensation({\n  activeNode,\n  measure,\n  initialRect,\n  config = true,\n}: Options) {\n  const initialized = useRef(false);\n  const {x, y} = typeof config === 'boolean' ? {x: config, y: config} : config;\n\n  useIsomorphicLayoutEffect(() => {\n    const disabled = !x && !y;\n\n    if (disabled || !activeNode) {\n      initialized.current = false;\n      return;\n    }\n\n    if (initialized.current || !initialRect) {\n      // Return early if layout shift scroll compensation was already attempted\n      // or if there is no initialRect to compare to.\n      return;\n    }\n\n    // Get the most up to date node ref for the active draggable\n    const node = activeNode?.node.current;\n\n    if (!node || node.isConnected === false) {\n      // Return early if there is no attached node ref or if the node is\n      // disconnected from the document.\n      return;\n    }\n\n    const rect = measure(node);\n    const rectDelta = getRectDelta(rect, initialRect);\n\n    if (!x) {\n      rectDelta.x = 0;\n    }\n\n    if (!y) {\n      rectDelta.y = 0;\n    }\n\n    // Only perform layout shift scroll compensation once\n    initialized.current = true;\n\n    if (Math.abs(rectDelta.x) > 0 || Math.abs(rectDelta.y) > 0) {\n      const firstScrollableAncestor = getFirstScrollableAncestor(node);\n\n      if (firstScrollableAncestor) {\n        firstScrollableAncestor.scrollBy({\n          top: rectDelta.y,\n          left: rectDelta.x,\n        });\n      }\n    }\n  }, [activeNode, x, y, initialRect, measure]);\n}\n","import React, {\n  memo,\n  createContext,\n  useCallback,\n  useEffect,\n  useMemo,\n  useReducer,\n  useRef,\n  useState,\n} from 'react';\nimport {unstable_batchedUpdates} from 'react-dom';\nimport {\n  add,\n  getEventCoordinates,\n  getWindow,\n  useLatestValue,\n  useIsomorphicLayoutEffect,\n  useUniqueId,\n} from '@dnd-kit/utilities';\nimport type {Transform} from '@dnd-kit/utilities';\n\nimport {\n  Action,\n  PublicContext,\n  InternalContext,\n  PublicContextDescriptor,\n  InternalContextDescriptor,\n  getInitialState,\n  reducer,\n} from '../../store';\nimport {DndMonitorContext, useDndMonitorProvider} from '../DndMonitor';\nimport {\n  useAutoScroller,\n  useCachedNode,\n  useCombineActivators,\n  useDragOverlayMeasuring,\n  useDroppableMeasuring,\n  useInitialRect,\n  useRect,\n  useRectDelta,\n  useRects,\n  useScrollableAncestors,\n  useScrollOffsets,\n  useScrollOffsetsDelta,\n  useSensorSetup,\n  useWindowRect,\n} from '../../hooks/utilities';\nimport type {AutoScrollOptions, SyntheticListener} from '../../hooks/utilities';\nimport type {\n  Sensor,\n  SensorContext,\n  SensorDescriptor,\n  SensorActivatorFunction,\n  SensorInstance,\n} from '../../sensors';\nimport {\n  adjustScale,\n  CollisionDetection,\n  defaultCoordinates,\n  getAdjustedRect,\n  getFirstCollision,\n  rectIntersection,\n} from '../../utilities';\nimport {applyModifiers, Modifiers} from '../../modifiers';\nimport type {Active, Over} from '../../store/types';\nimport type {\n  DragStartEvent,\n  DragCancelEvent,\n  DragEndEvent,\n  DragMoveEvent,\n  DragOverEvent,\n  UniqueIdentifier,\n  DragPendingEvent,\n  DragAbortEvent,\n} from '../../types';\nimport {\n  Accessibility,\n  Announcements,\n  RestoreFocus,\n  ScreenReaderInstructions,\n} from '../Accessibility';\n\nimport {defaultData, defaultSensors} from './defaults';\nimport {\n  useLayoutShiftScrollCompensation,\n  useMeasuringConfiguration,\n} from './hooks';\nimport type {MeasuringConfiguration} from './types';\n\nexport interface Props {\n  id?: string;\n  accessibility?: {\n    announcements?: Announcements;\n    container?: Element;\n    restoreFocus?: boolean;\n    screenReaderInstructions?: ScreenReaderInstructions;\n  };\n  autoScroll?: boolean | AutoScrollOptions;\n  cancelDrop?: CancelDrop;\n  children?: React.ReactNode;\n  collisionDetection?: CollisionDetection;\n  measuring?: MeasuringConfiguration;\n  modifiers?: Modifiers;\n  sensors?: SensorDescriptor<any>[];\n  onDragAbort?(event: DragAbortEvent): void;\n  onDragPending?(event: DragPendingEvent): void;\n  onDragStart?(event: DragStartEvent): void;\n  onDragMove?(event: DragMoveEvent): void;\n  onDragOver?(event: DragOverEvent): void;\n  onDragEnd?(event: DragEndEvent): void;\n  onDragCancel?(event: DragCancelEvent): void;\n}\n\nexport interface CancelDropArguments extends DragEndEvent {}\n\nexport type CancelDrop = (\n  args: CancelDropArguments\n) => boolean | Promise<boolean>;\n\ninterface DndEvent extends Event {\n  dndKit?: {\n    capturedBy: Sensor<any>;\n  };\n}\n\nexport const ActiveDraggableContext = createContext<Transform>({\n  ...defaultCoordinates,\n  scaleX: 1,\n  scaleY: 1,\n});\n\nenum Status {\n  Uninitialized,\n  Initializing,\n  Initialized,\n}\n\nexport const DndContext = memo(function DndContext({\n  id,\n  accessibility,\n  autoScroll = true,\n  children,\n  sensors = defaultSensors,\n  collisionDetection = rectIntersection,\n  measuring,\n  modifiers,\n  ...props\n}: Props) {\n  const store = useReducer(reducer, undefined, getInitialState);\n  const [state, dispatch] = store;\n  const [dispatchMonitorEvent, registerMonitorListener] =\n    useDndMonitorProvider();\n  const [status, setStatus] = useState<Status>(Status.Uninitialized);\n  const isInitialized = status === Status.Initialized;\n  const {\n    draggable: {active: activeId, nodes: draggableNodes, translate},\n    droppable: {containers: droppableContainers},\n  } = state;\n  const node = activeId != null ? draggableNodes.get(activeId) : null;\n  const activeRects = useRef<Active['rect']['current']>({\n    initial: null,\n    translated: null,\n  });\n  const active = useMemo<Active | null>(\n    () =>\n      activeId != null\n        ? {\n            id: activeId,\n            // It's possible for the active node to unmount while dragging\n            data: node?.data ?? defaultData,\n            rect: activeRects,\n          }\n        : null,\n    [activeId, node]\n  );\n  const activeRef = useRef<UniqueIdentifier | null>(null);\n  const [activeSensor, setActiveSensor] = useState<SensorInstance | null>(null);\n  const [activatorEvent, setActivatorEvent] = useState<Event | null>(null);\n  const latestProps = useLatestValue(props, Object.values(props));\n  const draggableDescribedById = useUniqueId(`DndDescribedBy`, id);\n  const enabledDroppableContainers = useMemo(\n    () => droppableContainers.getEnabled(),\n    [droppableContainers]\n  );\n  const measuringConfiguration = useMeasuringConfiguration(measuring);\n  const {droppableRects, measureDroppableContainers, measuringScheduled} =\n    useDroppableMeasuring(enabledDroppableContainers, {\n      dragging: isInitialized,\n      dependencies: [translate.x, translate.y],\n      config: measuringConfiguration.droppable,\n    });\n  const activeNode = useCachedNode(draggableNodes, activeId);\n  const activationCoordinates = useMemo(\n    () => (activatorEvent ? getEventCoordinates(activatorEvent) : null),\n    [activatorEvent]\n  );\n  const autoScrollOptions = getAutoScrollerOptions();\n  const initialActiveNodeRect = useInitialRect(\n    activeNode,\n    measuringConfiguration.draggable.measure\n  );\n\n  useLayoutShiftScrollCompensation({\n    activeNode: activeId != null ? draggableNodes.get(activeId) : null,\n    config: autoScrollOptions.layoutShiftCompensation,\n    initialRect: initialActiveNodeRect,\n    measure: measuringConfiguration.draggable.measure,\n  });\n\n  const activeNodeRect = useRect(\n    activeNode,\n    measuringConfiguration.draggable.measure,\n    initialActiveNodeRect\n  );\n  const containerNodeRect = useRect(\n    activeNode ? activeNode.parentElement : null\n  );\n  const sensorContext = useRef<SensorContext>({\n    activatorEvent: null,\n    active: null,\n    activeNode,\n    collisionRect: null,\n    collisions: null,\n    droppableRects,\n    draggableNodes,\n    draggingNode: null,\n    draggingNodeRect: null,\n    droppableContainers,\n    over: null,\n    scrollableAncestors: [],\n    scrollAdjustedTranslate: null,\n  });\n  const overNode = droppableContainers.getNodeFor(\n    sensorContext.current.over?.id\n  );\n  const dragOverlay = useDragOverlayMeasuring({\n    measure: measuringConfiguration.dragOverlay.measure,\n  });\n\n  // Use the rect of the drag overlay if it is mounted\n  const draggingNode = dragOverlay.nodeRef.current ?? activeNode;\n  const draggingNodeRect = isInitialized\n    ? dragOverlay.rect ?? activeNodeRect\n    : null;\n  const usesDragOverlay = Boolean(\n    dragOverlay.nodeRef.current && dragOverlay.rect\n  );\n  // The delta between the previous and new position of the draggable node\n  // is only relevant when there is no drag overlay\n  const nodeRectDelta = useRectDelta(usesDragOverlay ? null : activeNodeRect);\n\n  // Get the window rect of the dragging node\n  const windowRect = useWindowRect(\n    draggingNode ? getWindow(draggingNode) : null\n  );\n\n  // Get scrollable ancestors of the dragging node\n  const scrollableAncestors = useScrollableAncestors(\n    isInitialized ? overNode ?? activeNode : null\n  );\n  const scrollableAncestorRects = useRects(scrollableAncestors);\n\n  // Apply modifiers\n  const modifiedTranslate = applyModifiers(modifiers, {\n    transform: {\n      x: translate.x - nodeRectDelta.x,\n      y: translate.y - nodeRectDelta.y,\n      scaleX: 1,\n      scaleY: 1,\n    },\n    activatorEvent,\n    active,\n    activeNodeRect,\n    containerNodeRect,\n    draggingNodeRect,\n    over: sensorContext.current.over,\n    overlayNodeRect: dragOverlay.rect,\n    scrollableAncestors,\n    scrollableAncestorRects,\n    windowRect,\n  });\n\n  const pointerCoordinates = activationCoordinates\n    ? add(activationCoordinates, translate)\n    : null;\n\n  const scrollOffsets = useScrollOffsets(scrollableAncestors);\n  // Represents the scroll delta since dragging was initiated\n  const scrollAdjustment = useScrollOffsetsDelta(scrollOffsets);\n  // Represents the scroll delta since the last time the active node rect was measured\n  const activeNodeScrollDelta = useScrollOffsetsDelta(scrollOffsets, [\n    activeNodeRect,\n  ]);\n\n  const scrollAdjustedTranslate = add(modifiedTranslate, scrollAdjustment);\n\n  const collisionRect = draggingNodeRect\n    ? getAdjustedRect(draggingNodeRect, modifiedTranslate)\n    : null;\n\n  const collisions =\n    active && collisionRect\n      ? collisionDetection({\n          active,\n          collisionRect,\n          droppableRects,\n          droppableContainers: enabledDroppableContainers,\n          pointerCoordinates,\n        })\n      : null;\n  const overId = getFirstCollision(collisions, 'id');\n  const [over, setOver] = useState<Over | null>(null);\n\n  // When there is no drag overlay used, we need to account for the\n  // window scroll delta\n  const appliedTranslate = usesDragOverlay\n    ? modifiedTranslate\n    : add(modifiedTranslate, activeNodeScrollDelta);\n\n  const transform = adjustScale(\n    appliedTranslate,\n    over?.rect ?? null,\n    activeNodeRect\n  );\n\n  const activeSensorRef = useRef<SensorInstance | null>(null);\n  const instantiateSensor = useCallback(\n    (\n      event: React.SyntheticEvent,\n      {sensor: Sensor, options}: SensorDescriptor<any>\n    ) => {\n      if (activeRef.current == null) {\n        return;\n      }\n\n      const activeNode = draggableNodes.get(activeRef.current);\n\n      if (!activeNode) {\n        return;\n      }\n\n      const activatorEvent = event.nativeEvent;\n\n      const sensorInstance = new Sensor({\n        active: activeRef.current,\n        activeNode,\n        event: activatorEvent,\n        options,\n        // Sensors need to be instantiated with refs for arguments that change over time\n        // otherwise they are frozen in time with the stale arguments\n        context: sensorContext,\n        onAbort(id) {\n          const draggableNode = draggableNodes.get(id);\n\n          if (!draggableNode) {\n            return;\n          }\n\n          const {onDragAbort} = latestProps.current;\n          const event: DragAbortEvent = {id};\n          onDragAbort?.(event);\n          dispatchMonitorEvent({type: 'onDragAbort', event});\n        },\n        onPending(id, constraint, initialCoordinates, offset) {\n          const draggableNode = draggableNodes.get(id);\n\n          if (!draggableNode) {\n            return;\n          }\n\n          const {onDragPending} = latestProps.current;\n          const event: DragPendingEvent = {\n            id,\n            constraint,\n            initialCoordinates,\n            offset,\n          };\n\n          onDragPending?.(event);\n          dispatchMonitorEvent({type: 'onDragPending', event});\n        },\n        onStart(initialCoordinates) {\n          const id = activeRef.current;\n\n          if (id == null) {\n            return;\n          }\n\n          const draggableNode = draggableNodes.get(id);\n\n          if (!draggableNode) {\n            return;\n          }\n\n          const {onDragStart} = latestProps.current;\n          const event: DragStartEvent = {\n            activatorEvent,\n            active: {id, data: draggableNode.data, rect: activeRects},\n          };\n\n          unstable_batchedUpdates(() => {\n            onDragStart?.(event);\n            setStatus(Status.Initializing);\n            dispatch({\n              type: Action.DragStart,\n              initialCoordinates,\n              active: id,\n            });\n            dispatchMonitorEvent({type: 'onDragStart', event});\n            setActiveSensor(activeSensorRef.current);\n            setActivatorEvent(activatorEvent);\n          });\n        },\n        onMove(coordinates) {\n          dispatch({\n            type: Action.DragMove,\n            coordinates,\n          });\n        },\n        onEnd: createHandler(Action.DragEnd),\n        onCancel: createHandler(Action.DragCancel),\n      });\n\n      activeSensorRef.current = sensorInstance;\n\n      function createHandler(type: Action.DragEnd | Action.DragCancel) {\n        return async function handler() {\n          const {active, collisions, over, scrollAdjustedTranslate} =\n            sensorContext.current;\n          let event: DragEndEvent | null = null;\n\n          if (active && scrollAdjustedTranslate) {\n            const {cancelDrop} = latestProps.current;\n\n            event = {\n              activatorEvent,\n              active: active,\n              collisions,\n              delta: scrollAdjustedTranslate,\n              over,\n            };\n\n            if (type === Action.DragEnd && typeof cancelDrop === 'function') {\n              const shouldCancel = await Promise.resolve(cancelDrop(event));\n\n              if (shouldCancel) {\n                type = Action.DragCancel;\n              }\n            }\n          }\n\n          activeRef.current = null;\n\n          unstable_batchedUpdates(() => {\n            dispatch({type});\n            setStatus(Status.Uninitialized);\n            setOver(null);\n            setActiveSensor(null);\n            setActivatorEvent(null);\n            activeSensorRef.current = null;\n\n            const eventName =\n              type === Action.DragEnd ? 'onDragEnd' : 'onDragCancel';\n\n            if (event) {\n              const handler = latestProps.current[eventName];\n\n              handler?.(event);\n              dispatchMonitorEvent({type: eventName, event});\n            }\n          });\n        };\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [draggableNodes]\n  );\n\n  const bindActivatorToSensorInstantiator = useCallback(\n    (\n      handler: SensorActivatorFunction<any>,\n      sensor: SensorDescriptor<any>\n    ): SyntheticListener['handler'] => {\n      return (event, active) => {\n        const nativeEvent = event.nativeEvent as DndEvent;\n        const activeDraggableNode = draggableNodes.get(active);\n\n        if (\n          // Another sensor is already instantiating\n          activeRef.current !== null ||\n          // No active draggable\n          !activeDraggableNode ||\n          // Event has already been captured\n          nativeEvent.dndKit ||\n          nativeEvent.defaultPrevented\n        ) {\n          return;\n        }\n\n        const activationContext = {\n          active: activeDraggableNode,\n        };\n        const shouldActivate = handler(\n          event,\n          sensor.options,\n          activationContext\n        );\n\n        if (shouldActivate === true) {\n          nativeEvent.dndKit = {\n            capturedBy: sensor.sensor,\n          };\n\n          activeRef.current = active;\n          instantiateSensor(event, sensor);\n        }\n      };\n    },\n    [draggableNodes, instantiateSensor]\n  );\n\n  const activators = useCombineActivators(\n    sensors,\n    bindActivatorToSensorInstantiator\n  );\n\n  useSensorSetup(sensors);\n\n  useIsomorphicLayoutEffect(() => {\n    if (activeNodeRect && status === Status.Initializing) {\n      setStatus(Status.Initialized);\n    }\n  }, [activeNodeRect, status]);\n\n  useEffect(\n    () => {\n      const {onDragMove} = latestProps.current;\n      const {active, activatorEvent, collisions, over} = sensorContext.current;\n\n      if (!active || !activatorEvent) {\n        return;\n      }\n\n      const event: DragMoveEvent = {\n        active,\n        activatorEvent,\n        collisions,\n        delta: {\n          x: scrollAdjustedTranslate.x,\n          y: scrollAdjustedTranslate.y,\n        },\n        over,\n      };\n\n      unstable_batchedUpdates(() => {\n        onDragMove?.(event);\n        dispatchMonitorEvent({type: 'onDragMove', event});\n      });\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [scrollAdjustedTranslate.x, scrollAdjustedTranslate.y]\n  );\n\n  useEffect(\n    () => {\n      const {\n        active,\n        activatorEvent,\n        collisions,\n        droppableContainers,\n        scrollAdjustedTranslate,\n      } = sensorContext.current;\n\n      if (\n        !active ||\n        activeRef.current == null ||\n        !activatorEvent ||\n        !scrollAdjustedTranslate\n      ) {\n        return;\n      }\n\n      const {onDragOver} = latestProps.current;\n      const overContainer = droppableContainers.get(overId);\n      const over =\n        overContainer && overContainer.rect.current\n          ? {\n              id: overContainer.id,\n              rect: overContainer.rect.current,\n              data: overContainer.data,\n              disabled: overContainer.disabled,\n            }\n          : null;\n      const event: DragOverEvent = {\n        active,\n        activatorEvent,\n        collisions,\n        delta: {\n          x: scrollAdjustedTranslate.x,\n          y: scrollAdjustedTranslate.y,\n        },\n        over,\n      };\n\n      unstable_batchedUpdates(() => {\n        setOver(over);\n        onDragOver?.(event);\n        dispatchMonitorEvent({type: 'onDragOver', event});\n      });\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [overId]\n  );\n\n  useIsomorphicLayoutEffect(() => {\n    sensorContext.current = {\n      activatorEvent,\n      active,\n      activeNode,\n      collisionRect,\n      collisions,\n      droppableRects,\n      draggableNodes,\n      draggingNode,\n      draggingNodeRect,\n      droppableContainers,\n      over,\n      scrollableAncestors,\n      scrollAdjustedTranslate,\n    };\n\n    activeRects.current = {\n      initial: draggingNodeRect,\n      translated: collisionRect,\n    };\n  }, [\n    active,\n    activeNode,\n    collisions,\n    collisionRect,\n    draggableNodes,\n    draggingNode,\n    draggingNodeRect,\n    droppableRects,\n    droppableContainers,\n    over,\n    scrollableAncestors,\n    scrollAdjustedTranslate,\n  ]);\n\n  useAutoScroller({\n    ...autoScrollOptions,\n    delta: translate,\n    draggingRect: collisionRect,\n    pointerCoordinates,\n    scrollableAncestors,\n    scrollableAncestorRects,\n  });\n\n  const publicContext = useMemo(() => {\n    const context: PublicContextDescriptor = {\n      active,\n      activeNode,\n      activeNodeRect,\n      activatorEvent,\n      collisions,\n      containerNodeRect,\n      dragOverlay,\n      draggableNodes,\n      droppableContainers,\n      droppableRects,\n      over,\n      measureDroppableContainers,\n      scrollableAncestors,\n      scrollableAncestorRects,\n      measuringConfiguration,\n      measuringScheduled,\n      windowRect,\n    };\n\n    return context;\n  }, [\n    active,\n    activeNode,\n    activeNodeRect,\n    activatorEvent,\n    collisions,\n    containerNodeRect,\n    dragOverlay,\n    draggableNodes,\n    droppableContainers,\n    droppableRects,\n    over,\n    measureDroppableContainers,\n    scrollableAncestors,\n    scrollableAncestorRects,\n    measuringConfiguration,\n    measuringScheduled,\n    windowRect,\n  ]);\n\n  const internalContext = useMemo(() => {\n    const context: InternalContextDescriptor = {\n      activatorEvent,\n      activators,\n      active,\n      activeNodeRect,\n      ariaDescribedById: {\n        draggable: draggableDescribedById,\n      },\n      dispatch,\n      draggableNodes,\n      over,\n      measureDroppableContainers,\n    };\n\n    return context;\n  }, [\n    activatorEvent,\n    activators,\n    active,\n    activeNodeRect,\n    dispatch,\n    draggableDescribedById,\n    draggableNodes,\n    over,\n    measureDroppableContainers,\n  ]);\n\n  return (\n    <DndMonitorContext.Provider value={registerMonitorListener}>\n      <InternalContext.Provider value={internalContext}>\n        <PublicContext.Provider value={publicContext}>\n          <ActiveDraggableContext.Provider value={transform}>\n            {children}\n          </ActiveDraggableContext.Provider>\n        </PublicContext.Provider>\n        <RestoreFocus disabled={accessibility?.restoreFocus === false} />\n      </InternalContext.Provider>\n      <Accessibility\n        {...accessibility}\n        hiddenTextDescribedById={draggableDescribedById}\n      />\n    </DndMonitorContext.Provider>\n  );\n\n  function getAutoScrollerOptions() {\n    const activeSensorDisablesAutoscroll =\n      activeSensor?.autoScrollEnabled === false;\n    const autoScrollGloballyDisabled =\n      typeof autoScroll === 'object'\n        ? autoScroll.enabled === false\n        : autoScroll === false;\n    const enabled =\n      isInitialized &&\n      !activeSensorDisablesAutoscroll &&\n      !autoScrollGloballyDisabled;\n\n    if (typeof autoScroll === 'object') {\n      return {\n        ...autoScroll,\n        enabled,\n      };\n    }\n\n    return {enabled};\n  }\n});\n","import {createContext, useContext, useMemo} from 'react';\nimport {\n  Transform,\n  useNodeRef,\n  useIsomorphicLayoutEffect,\n  useLatestValue,\n  useUniqueId,\n} from '@dnd-kit/utilities';\n\nimport {InternalContext, Data} from '../store';\nimport type {UniqueIdentifier} from '../types';\nimport {ActiveDraggableContext} from '../components/DndContext';\nimport {useSyntheticListeners, SyntheticListenerMap} from './utilities';\n\nexport interface UseDraggableArguments {\n  id: UniqueIdentifier;\n  data?: Data;\n  disabled?: boolean;\n  attributes?: {\n    role?: string;\n    roleDescription?: string;\n    tabIndex?: number;\n  };\n}\n\nexport interface DraggableAttributes {\n  role: string;\n  tabIndex: number;\n  'aria-disabled': boolean;\n  'aria-pressed': boolean | undefined;\n  'aria-roledescription': string;\n  'aria-describedby': string;\n}\n\nexport type DraggableSyntheticListeners = SyntheticListenerMap | undefined;\n\nconst NullContext = createContext<any>(null);\n\nconst defaultRole = 'button';\n\nconst ID_PREFIX = 'Draggable';\n\nexport function useDraggable({\n  id,\n  data,\n  disabled = false,\n  attributes,\n}: UseDraggableArguments) {\n  const key = useUniqueId(ID_PREFIX);\n  const {\n    activators,\n    activatorEvent,\n    active,\n    activeNodeRect,\n    ariaDescribedById,\n    draggableNodes,\n    over,\n  } = useContext(InternalContext);\n  const {\n    role = defaultRole,\n    roleDescription = 'draggable',\n    tabIndex = 0,\n  } = attributes ?? {};\n  const isDragging = active?.id === id;\n  const transform: Transform | null = useContext(\n    isDragging ? ActiveDraggableContext : NullContext\n  );\n  const [node, setNodeRef] = useNodeRef();\n  const [activatorNode, setActivatorNodeRef] = useNodeRef();\n  const listeners = useSyntheticListeners(activators, id);\n  const dataRef = useLatestValue(data);\n\n  useIsomorphicLayoutEffect(\n    () => {\n      draggableNodes.set(id, {id, key, node, activatorNode, data: dataRef});\n\n      return () => {\n        const node = draggableNodes.get(id);\n\n        if (node && node.key === key) {\n          draggableNodes.delete(id);\n        }\n      };\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [draggableNodes, id]\n  );\n\n  const memoizedAttributes: DraggableAttributes = useMemo(\n    () => ({\n      role,\n      tabIndex,\n      'aria-disabled': disabled,\n      'aria-pressed': isDragging && role === defaultRole ? true : undefined,\n      'aria-roledescription': roleDescription,\n      'aria-describedby': ariaDescribedById.draggable,\n    }),\n    [\n      disabled,\n      role,\n      tabIndex,\n      isDragging,\n      roleDescription,\n      ariaDescribedById.draggable,\n    ]\n  );\n\n  return {\n    active,\n    activatorEvent,\n    activeNodeRect,\n    attributes: memoizedAttributes,\n    isDragging,\n    listeners: disabled ? undefined : listeners,\n    node,\n    over,\n    setNodeRef,\n    setActivatorNodeRef,\n    transform,\n  };\n}\n","import {ContextType, useContext} from 'react';\nimport {PublicContext} from '../store';\n\nexport function useDndContext() {\n  return useContext(PublicContext);\n}\n\nexport type UseDndContextReturnValue = ContextType<typeof PublicContext>;\n","import {useCallback, useContext, useEffect, useRef} from 'react';\nimport {useLatestValue, useNodeRef, useUniqueId} from '@dnd-kit/utilities';\n\nimport {InternalContext, Action, Data} from '../store';\nimport type {ClientRect, UniqueIdentifier} from '../types';\n\nimport {useResizeObserver} from './utilities';\n\ninterface ResizeObserverConfig {\n  /** Whether the ResizeObserver should be disabled entirely */\n  disabled?: boolean;\n  /** Resize events may affect the layout and position of other droppable containers.\n   * Specify an array of `UniqueIdentifier` of droppable containers that should also be re-measured\n   * when this droppable container resizes. Specifying an empty array re-measures all droppable containers.\n   */\n  updateMeasurementsFor?: UniqueIdentifier[];\n  /** Represents the debounce timeout between when resize events are observed and when elements are re-measured */\n  timeout?: number;\n}\n\nexport interface UseDroppableArguments {\n  id: UniqueIdentifier;\n  disabled?: boolean;\n  data?: Data;\n  resizeObserverConfig?: ResizeObserverConfig;\n}\n\nconst ID_PREFIX = 'Droppable';\n\nconst defaultResizeObserverConfig = {\n  timeout: 25,\n};\n\nexport function useDroppable({\n  data,\n  disabled = false,\n  id,\n  resizeObserverConfig,\n}: UseDroppableArguments) {\n  const key = useUniqueId(ID_PREFIX);\n  const {active, dispatch, over, measureDroppableContainers} =\n    useContext(InternalContext);\n  const previous = useRef({disabled});\n  const resizeObserverConnected = useRef(false);\n  const rect = useRef<ClientRect | null>(null);\n  const callbackId = useRef<NodeJS.Timeout | null>(null);\n  const {\n    disabled: resizeObserverDisabled,\n    updateMeasurementsFor,\n    timeout: resizeObserverTimeout,\n  } = {\n    ...defaultResizeObserverConfig,\n    ...resizeObserverConfig,\n  };\n  const ids = useLatestValue(updateMeasurementsFor ?? id);\n  const handleResize = useCallback(\n    () => {\n      if (!resizeObserverConnected.current) {\n        // ResizeObserver invokes the `handleResize` callback as soon as `observe` is called,\n        // assuming the element is rendered and displayed.\n        resizeObserverConnected.current = true;\n        return;\n      }\n\n      if (callbackId.current != null) {\n        clearTimeout(callbackId.current);\n      }\n\n      callbackId.current = setTimeout(() => {\n        measureDroppableContainers(\n          Array.isArray(ids.current) ? ids.current : [ids.current]\n        );\n        callbackId.current = null;\n      }, resizeObserverTimeout);\n    },\n    //eslint-disable-next-line react-hooks/exhaustive-deps\n    [resizeObserverTimeout]\n  );\n  const resizeObserver = useResizeObserver({\n    callback: handleResize,\n    disabled: resizeObserverDisabled || !active,\n  });\n  const handleNodeChange = useCallback(\n    (newElement: HTMLElement | null, previousElement: HTMLElement | null) => {\n      if (!resizeObserver) {\n        return;\n      }\n\n      if (previousElement) {\n        resizeObserver.unobserve(previousElement);\n        resizeObserverConnected.current = false;\n      }\n\n      if (newElement) {\n        resizeObserver.observe(newElement);\n      }\n    },\n    [resizeObserver]\n  );\n  const [nodeRef, setNodeRef] = useNodeRef(handleNodeChange);\n  const dataRef = useLatestValue(data);\n\n  useEffect(() => {\n    if (!resizeObserver || !nodeRef.current) {\n      return;\n    }\n\n    resizeObserver.disconnect();\n    resizeObserverConnected.current = false;\n    resizeObserver.observe(nodeRef.current);\n  }, [nodeRef, resizeObserver]);\n\n  useEffect(\n    () => {\n      dispatch({\n        type: Action.RegisterDroppable,\n        element: {\n          id,\n          key,\n          disabled,\n          node: nodeRef,\n          rect,\n          data: dataRef,\n        },\n      });\n\n      return () =>\n        dispatch({\n          type: Action.UnregisterDroppable,\n          key,\n          id,\n        });\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [id]\n  );\n\n  useEffect(() => {\n    if (disabled !== previous.current.disabled) {\n      dispatch({\n        type: Action.SetDroppableDisabled,\n        id,\n        key,\n        disabled,\n      });\n\n      previous.current.disabled = disabled;\n    }\n  }, [id, key, disabled, dispatch]);\n\n  return {\n    active,\n    rect,\n    isOver: over?.id === id,\n    node: nodeRef,\n    over,\n    setNodeRef,\n  };\n}\n","import React, {cloneElement, useState} from 'react';\nimport {useIsomorphicLayoutEffect, usePrevious} from '@dnd-kit/utilities';\n\nimport type {UniqueIdentifier} from '../../../../types';\n\nexport type Animation = (\n  key: UniqueIdentifier,\n  node: HTMLElement\n) => Promise<void> | void;\n\nexport interface Props {\n  animation: Animation;\n  children: React.ReactElement | null;\n}\n\nexport function AnimationManager({animation, children}: Props) {\n  const [\n    clonedChildren,\n    setClonedChildren,\n  ] = useState<React.ReactElement | null>(null);\n  const [element, setElement] = useState<HTMLElement | null>(null);\n  const previousChildren = usePrevious(children);\n\n  if (!children && !clonedChildren && previousChildren) {\n    setClonedChildren(previousChildren);\n  }\n\n  useIsomorphicLayoutEffect(() => {\n    if (!element) {\n      return;\n    }\n\n    const key = clonedChildren?.key;\n    const id = clonedChildren?.props.id;\n\n    if (key == null || id == null) {\n      setClonedChildren(null);\n      return;\n    }\n\n    Promise.resolve(animation(id, element)).then(() => {\n      setClonedChildren(null);\n    });\n  }, [animation, clonedChildren, element]);\n\n  return (\n    <>\n      {children}\n      {clonedChildren ? cloneElement(clonedChildren, {ref: setElement}) : null}\n    </>\n  );\n}\n","import React from 'react';\nimport type {Transform} from '@dnd-kit/utilities';\n\nimport {InternalContext, defaultInternalContext} from '../../../../store';\nimport {ActiveDraggableContext} from '../../../DndContext';\n\ninterface Props {\n  children: React.ReactNode;\n}\n\nconst defaultTransform: Transform = {\n  x: 0,\n  y: 0,\n  scaleX: 1,\n  scaleY: 1,\n};\n\nexport function NullifiedContextProvider({children}: Props) {\n  return (\n    <InternalContext.Provider value={defaultInternalContext}>\n      <ActiveDraggableContext.Provider value={defaultTransform}>\n        {children}\n      </ActiveDraggableContext.Provider>\n    </InternalContext.Provider>\n  );\n}\n","import React, {forwardRef} from 'react';\nimport {CSS, isKeyboardEvent} from '@dnd-kit/utilities';\n\nimport type {Transform} from '@dnd-kit/utilities';\n\nimport {getRelativeTransformOrigin} from '../../../../utilities';\nimport type {ClientRect, UniqueIdentifier} from '../../../../types';\n\ntype TransitionGetter = (\n  activatorEvent: Event | null\n) => React.CSSProperties['transition'] | undefined;\n\nexport interface Props {\n  as: keyof JSX.IntrinsicElements;\n  activatorEvent: Event | null;\n  adjustScale?: boolean;\n  children?: React.ReactNode;\n  className?: string;\n  id: UniqueIdentifier;\n  rect: ClientRect | null;\n  style?: React.CSSProperties;\n  transition?: string | TransitionGetter;\n  transform: Transform;\n}\n\nconst baseStyles: React.CSSProperties = {\n  position: 'fixed',\n  touchAction: 'none',\n};\n\nconst defaultTransition: TransitionGetter = (activatorEvent) => {\n  const isKeyboardActivator = isKeyboardEvent(activatorEvent);\n\n  return isKeyboardActivator ? 'transform 250ms ease' : undefined;\n};\n\nexport const PositionedOverlay = forwardRef<HTMLElement, Props>(\n  (\n    {\n      as,\n      activatorEvent,\n      adjustScale,\n      children,\n      className,\n      rect,\n      style,\n      transform,\n      transition = defaultTransition,\n    },\n    ref\n  ) => {\n    if (!rect) {\n      return null;\n    }\n\n    const scaleAdjustedTransform = adjustScale\n      ? transform\n      : {\n          ...transform,\n          scaleX: 1,\n          scaleY: 1,\n        };\n    const styles: React.CSSProperties | undefined = {\n      ...baseStyles,\n      width: rect.width,\n      height: rect.height,\n      top: rect.top,\n      left: rect.left,\n      transform: CSS.Transform.toString(scaleAdjustedTransform),\n      transformOrigin:\n        adjustScale && activatorEvent\n          ? getRelativeTransformOrigin(\n              activatorEvent as MouseEvent | KeyboardEvent | TouchEvent,\n              rect\n            )\n          : undefined,\n      transition:\n        typeof transition === 'function'\n          ? transition(activatorEvent)\n          : transition,\n      ...style,\n    };\n\n    return React.createElement(\n      as,\n      {\n        className,\n        style: styles,\n        ref,\n      },\n      children\n    );\n  }\n);\n","import {CSS, useEvent, getWindow} from '@dnd-kit/utilities';\nimport type {DeepRequired, Transform} from '@dnd-kit/utilities';\n\nimport type {\n  Active,\n  DraggableNode,\n  DraggableNodes,\n  DroppableContainers,\n} from '../../../store';\nimport type {ClientRect, UniqueIdentifier} from '../../../types';\nimport {getMeasurableNode} from '../../../utilities/nodes';\nimport {scrollIntoViewIfNeeded} from '../../../utilities/scroll';\nimport {parseTransform} from '../../../utilities/transform';\nimport type {MeasuringConfiguration} from '../../DndContext';\nimport type {Animation} from '../components';\n\ninterface SharedParameters {\n  active: {\n    id: UniqueIdentifier;\n    data: Active['data'];\n    node: HTMLElement;\n    rect: ClientRect;\n  };\n  dragOverlay: {\n    node: HTMLElement;\n    rect: ClientRect;\n  };\n  draggableNodes: DraggableNodes;\n  droppableContainers: DroppableContainers;\n  measuringConfiguration: DeepRequired<MeasuringConfiguration>;\n}\n\nexport interface KeyframeResolverParameters extends SharedParameters {\n  transform: {\n    initial: Transform;\n    final: Transform;\n  };\n}\n\nexport type KeyframeResolver = (\n  parameters: KeyframeResolverParameters\n) => Keyframe[];\n\nexport interface DropAnimationOptions {\n  keyframes?: KeyframeResolver;\n  duration?: number;\n  easing?: string;\n  sideEffects?: DropAnimationSideEffects | null;\n}\n\nexport type DropAnimation = DropAnimationFunction | DropAnimationOptions;\n\ninterface Arguments {\n  draggableNodes: DraggableNodes;\n  droppableContainers: DroppableContainers;\n  measuringConfiguration: DeepRequired<MeasuringConfiguration>;\n  config?: DropAnimation | null;\n}\n\nexport interface DropAnimationFunctionArguments extends SharedParameters {\n  transform: Transform;\n}\n\nexport type DropAnimationFunction = (\n  args: DropAnimationFunctionArguments\n) => Promise<void> | void;\n\ntype CleanupFunction = () => void;\n\nexport interface DropAnimationSideEffectsParameters extends SharedParameters {}\n\nexport type DropAnimationSideEffects = (\n  parameters: DropAnimationSideEffectsParameters\n) => CleanupFunction | void;\n\ntype ExtractStringProperties<T> = {\n  [K in keyof T]?: T[K] extends string ? string : never;\n};\n\ntype Styles = ExtractStringProperties<CSSStyleDeclaration>;\n\ninterface DefaultDropAnimationSideEffectsOptions {\n  className?: {\n    active?: string;\n    dragOverlay?: string;\n  };\n  styles?: {\n    active?: Styles;\n    dragOverlay?: Styles;\n  };\n}\n\nexport const defaultDropAnimationSideEffects = (\n  options: DefaultDropAnimationSideEffectsOptions\n): DropAnimationSideEffects => ({active, dragOverlay}) => {\n  const originalStyles: Record<string, string> = {};\n  const {styles, className} = options;\n\n  if (styles?.active) {\n    for (const [key, value] of Object.entries(styles.active)) {\n      if (value === undefined) {\n        continue;\n      }\n\n      originalStyles[key] = active.node.style.getPropertyValue(key);\n      active.node.style.setProperty(key, value);\n    }\n  }\n\n  if (styles?.dragOverlay) {\n    for (const [key, value] of Object.entries(styles.dragOverlay)) {\n      if (value === undefined) {\n        continue;\n      }\n\n      dragOverlay.node.style.setProperty(key, value);\n    }\n  }\n\n  if (className?.active) {\n    active.node.classList.add(className.active);\n  }\n\n  if (className?.dragOverlay) {\n    dragOverlay.node.classList.add(className.dragOverlay);\n  }\n\n  return function cleanup() {\n    for (const [key, value] of Object.entries(originalStyles)) {\n      active.node.style.setProperty(key, value);\n    }\n\n    if (className?.active) {\n      active.node.classList.remove(className.active);\n    }\n  };\n};\n\nconst defaultKeyframeResolver: KeyframeResolver = ({\n  transform: {initial, final},\n}) => [\n  {\n    transform: CSS.Transform.toString(initial),\n  },\n  {\n    transform: CSS.Transform.toString(final),\n  },\n];\n\nexport const defaultDropAnimationConfiguration: Required<DropAnimationOptions> = {\n  duration: 250,\n  easing: 'ease',\n  keyframes: defaultKeyframeResolver,\n  sideEffects: defaultDropAnimationSideEffects({\n    styles: {\n      active: {\n        opacity: '0',\n      },\n    },\n  }),\n};\n\nexport function useDropAnimation({\n  config,\n  draggableNodes,\n  droppableContainers,\n  measuringConfiguration,\n}: Arguments) {\n  return useEvent<Animation>((id, node) => {\n    if (config === null) {\n      return;\n    }\n\n    const activeDraggable: DraggableNode | undefined = draggableNodes.get(id);\n\n    if (!activeDraggable) {\n      return;\n    }\n\n    const activeNode = activeDraggable.node.current;\n\n    if (!activeNode) {\n      return;\n    }\n\n    const measurableNode = getMeasurableNode(node);\n\n    if (!measurableNode) {\n      return;\n    }\n    const {transform} = getWindow(node).getComputedStyle(node);\n    const parsedTransform = parseTransform(transform);\n\n    if (!parsedTransform) {\n      return;\n    }\n\n    const animation: DropAnimationFunction =\n      typeof config === 'function'\n        ? config\n        : createDefaultDropAnimation(config);\n\n    scrollIntoViewIfNeeded(\n      activeNode,\n      measuringConfiguration.draggable.measure\n    );\n\n    return animation({\n      active: {\n        id,\n        data: activeDraggable.data,\n        node: activeNode,\n        rect: measuringConfiguration.draggable.measure(activeNode),\n      },\n      draggableNodes,\n      dragOverlay: {\n        node,\n        rect: measuringConfiguration.dragOverlay.measure(measurableNode),\n      },\n      droppableContainers,\n      measuringConfiguration,\n      transform: parsedTransform,\n    });\n  });\n}\n\nfunction createDefaultDropAnimation(\n  options: DropAnimationOptions | undefined\n): DropAnimationFunction {\n  const {duration, easing, sideEffects, keyframes} = {\n    ...defaultDropAnimationConfiguration,\n    ...options,\n  };\n\n  return ({active, dragOverlay, transform, ...rest}) => {\n    if (!duration) {\n      // Do not animate if animation duration is zero.\n      return;\n    }\n\n    const delta = {\n      x: dragOverlay.rect.left - active.rect.left,\n      y: dragOverlay.rect.top - active.rect.top,\n    };\n\n    const scale = {\n      scaleX:\n        transform.scaleX !== 1\n          ? (active.rect.width * transform.scaleX) / dragOverlay.rect.width\n          : 1,\n      scaleY:\n        transform.scaleY !== 1\n          ? (active.rect.height * transform.scaleY) / dragOverlay.rect.height\n          : 1,\n    };\n    const finalTransform = {\n      x: transform.x - delta.x,\n      y: transform.y - delta.y,\n      ...scale,\n    };\n\n    const animationKeyframes = keyframes({\n      ...rest,\n      active,\n      dragOverlay,\n      transform: {initial: transform, final: finalTransform},\n    });\n\n    const [firstKeyframe] = animationKeyframes;\n    const lastKeyframe = animationKeyframes[animationKeyframes.length - 1];\n\n    if (JSON.stringify(firstKeyframe) === JSON.stringify(lastKeyframe)) {\n      // The start and end keyframes are the same, infer that there is no animation needed.\n      return;\n    }\n\n    const cleanup = sideEffects?.({active, dragOverlay, ...rest});\n    const animation = dragOverlay.node.animate(animationKeyframes, {\n      duration,\n      easing,\n      fill: 'forwards',\n    });\n\n    return new Promise((resolve) => {\n      animation.onfinish = () => {\n        cleanup?.();\n        resolve();\n      };\n    });\n  };\n}\n","import {useMemo} from 'react';\n\nimport type {UniqueIdentifier} from '../../../types';\n\nlet key = 0;\n\nexport function useKey(id: UniqueIdentifier | undefined) {\n  return useMemo(() => {\n    if (id == null) {\n      return;\n    }\n\n    key++;\n    return key;\n  }, [id]);\n}\n","import React, {useContext} from 'react';\n\nimport {applyModifiers, Modifiers} from '../../modifiers';\nimport {ActiveDraggableContext} from '../DndContext';\nimport {useDndContext} from '../../hooks';\nimport {useInitialValue} from '../../hooks/utilities';\n\nimport {\n  AnimationManager,\n  NullifiedContextProvider,\n  PositionedOverlay,\n} from './components';\nimport type {PositionedOverlayProps} from './components';\n\nimport {useDropAnimation, useKey} from './hooks';\nimport type {DropAnimation} from './hooks';\n\nexport interface Props\n  extends Pick<\n    PositionedOverlayProps,\n    'adjustScale' | 'children' | 'className' | 'style' | 'transition'\n  > {\n  dropAnimation?: DropAnimation | null | undefined;\n  modifiers?: Modifiers;\n  wrapperElement?: keyof JSX.IntrinsicElements;\n  zIndex?: number;\n}\n\nexport const DragOverlay = React.memo(\n  ({\n    adjustScale = false,\n    children,\n    dropAnimation: dropAnimationConfig,\n    style,\n    transition,\n    modifiers,\n    wrapperElement = 'div',\n    className,\n    zIndex = 999,\n  }: Props) => {\n    const {\n      activatorEvent,\n      active,\n      activeNodeRect,\n      containerNodeRect,\n      draggableNodes,\n      droppableContainers,\n      dragOverlay,\n      over,\n      measuringConfiguration,\n      scrollableAncestors,\n      scrollableAncestorRects,\n      windowRect,\n    } = useDndContext();\n    const transform = useContext(ActiveDraggableContext);\n    const key = useKey(active?.id);\n    const modifiedTransform = applyModifiers(modifiers, {\n      activatorEvent,\n      active,\n      activeNodeRect,\n      containerNodeRect,\n      draggingNodeRect: dragOverlay.rect,\n      over,\n      overlayNodeRect: dragOverlay.rect,\n      scrollableAncestors,\n      scrollableAncestorRects,\n      transform,\n      windowRect,\n    });\n    const initialRect = useInitialValue(activeNodeRect);\n    const dropAnimation = useDropAnimation({\n      config: dropAnimationConfig,\n      draggableNodes,\n      droppableContainers,\n      measuringConfiguration,\n    });\n    // We need to wait for the active node to be measured before connecting the drag overlay ref\n    // otherwise collisions can be computed against a mispositioned drag overlay\n    const ref = initialRect ? dragOverlay.setRef : undefined;\n\n    return (\n      <NullifiedContextProvider>\n        <AnimationManager animation={dropAnimation}>\n          {active && key ? (\n            <PositionedOverlay\n              key={key}\n              id={active.id}\n              ref={ref}\n              as={wrapperElement}\n              activatorEvent={activatorEvent}\n              adjustScale={adjustScale}\n              className={className}\n              transition={transition}\n              rect={initialRect}\n              style={{\n                zIndex,\n                ...style,\n              }}\n              transform={modifiedTransform}\n            >\n              {children}\n            </PositionedOverlay>\n          ) : null}\n        </AnimationManager>\n      </NullifiedContextProvider>\n    );\n  }\n);\n"],"names":["getImageBlurSvg","widthInt","heightInt","blurWidth","blurHeight","blurDataURL","objectFit","std","svgWidth","svgHeight","viewBox","preserveAspectRatio","VALID_LOADERS","imageConfigDefault","deviceSizes","imageSizes","path","loader","loaderFile","domains","disableStaticImages","minimumCacheTTL","formats","dangerouslyAllowSVG","contentSecurityPolicy","contentDispositionType","localPatterns","undefined","remotePatterns","qualities","unoptimized","getImgProps","VALID_LOADING_VALUES","INVALID_BACKGROUND_SIZE_VALUES","isStaticRequire","src","default","isStaticImageData","isStaticImport","allImgs","Map","perfObserver","getInt","x","Number","isFinite","NaN","test","parseInt","getWidths","width","sizes","allSizes","viewportWidthRe","percentSizes","match","exec","push","length","smallestRatio","Math","min","widths","filter","s","kind","Set","map","w","find","p","generateImgAttrs","config","quality","srcSet","last","i","join","_state","priority","loading","className","height","fill","style","overrideSrc","onLoad","onLoadingComplete","placeholder","fetchPriority","decoding","layout","objectPosition","lazyBoundary","lazyRoot","rest","imgConf","showAltText","blurComplete","defaultLoader","c","sort","a","b","Error","isDefaultLoader","customImageLoader","obj","_","opts","layoutToStyle","intrinsic","maxWidth","responsive","layoutToSizes","layoutStyle","layoutSizes","staticSrc","staticImageData","JSON","stringify","ratio","round","isLazy","startsWith","split","endsWith","qualityInt","process","env","NODE_ENV","output","position","isNaN","includes","String","warnOnce","pathname","VALID_BLUR_EXT","urlStr","url","URL","err","search","legacyKey","legacyValue","Object","entries","window","PerformanceObserver","entryList","entry","getEntries","imgSrc","element","lcpImage","get","observe","type","buffered","console","error","imgStyle","assign","left","top","right","bottom","color","backgroundImage","backgroundSize","placeholderStyle","backgroundPosition","backgroundRepeat","imgAttributes","fullUrl","e","location","href","set","props","meta","SideEffect","isServer","useClientOnlyLayoutEffect","useLayoutEffect","useClientOnlyEffect","useEffect","headManager","reduceComponentsToState","emitChange","mountedInstances","headElements","Children","toArray","Array","from","Boolean","updateHead","add","children","delete","_pendingUpdate","module","exports","require","vendored","AmpContext","HeadManagerContext","isInAmpMode","ampFirst","hybrid","hasQuery","defaultHead","inAmpMode","head","charSet","name","content","onlyReactElement","list","child","React","Fragment","concat","reduce","fragmentList","fragmentChild","METATYPES","unique","keys","tags","metaTypes","metaCategories","h","isUnique","hasKey","key","indexOf","slice","has","len","metatype","hasOwnProperty","category","categories","reduceComponents","headChildrenElements","reverse","srcMessage","cloneElement","Head","ampState","useContext","AmpStateContext","Effect","ImageConfigContext","RouterContext","DEFAULT_Q","missingValues","NEXT_RUNTIME","hasLocalMatch","parsedSrc","hasRemoteMatch","hostname","q","prev","cur","abs","encodeURIComponent","NEXT_DEPLOYMENT_ID","__next_img_default","Image","configEnv","__NEXT_IMAGE_OPTS","globalThis","__NEXT_IMAGE_IMPORTED","handleLoading","img","onLoadRef","onLoadingCompleteRef","setBlurComplete","sizesInput","decode","Promise","resolve","catch","then","parentElement","isConnected","current","event","Event","defineProperty","writable","value","prevented","stopped","nativeEvent","currentTarget","target","isDefaultPrevented","isPropagationStopped","persist","preventDefault","stopPropagation","origSrc","searchParams","getAttribute","widthViewportRatio","getBoundingClientRect","innerWidth","getComputedStyle","valid","heightModified","toString","widthModified","getDynamicProps","use","fetchpriority","ImageElement","forwardRef","forwardedRef","setShowAltText","onError","ownRef","useCallback","complete","ref","useMergedRef","data-nimg","ImagePreload","isAppRouter","as","imageSrcSet","crossOrigin","referrerPolicy","ReactDOM","preload","link","rel","pagesRouter","configContext","useMemo","useRef","useState","imgMeta","getImageProps","imgProps","hiddenStyles","useCombinedRefs","refs","DndMonitorContext","createContext","id","array","node","to","newArray","splice","document","createElement","unsubscribe","registerListener","listener","visuallyHidden","listeners","rects","accumulator","getWindow","rect","forEach","items","index","isNode","ariaLiveType","defaultView","onDragStart","announcement","announce","Document","onDragOver","normalizeDisabled","active","over","disabled","isSVGElement","SVGElement","defaultScale","horizontalListSortingStrategy","activeNodeRect","fallbackActiveRect","activeIndex","getItemGap","defaultScreenReaderInstructions","canUseDOM","newIndexRect","handler","useUniqueId","setMounted","overIndex","y","args","handlerRef","announcements","duration","setInterval","clear","dependencies","useIsomorphicLayoutEffect","currentRect","previousRect","nextRect","useLazyMemo","callback","newValue","valueRef","onChange","onChangeHandler","useEvent","arrayMove","oldRect","newRect","usePrevious","hiddenTextDescribedById","screenReaderInstructions","draggable","prefix","container","createPortal","markup","ids","Action","object","adjustments","noop","adjustment","useSensor","sensor","options","modifier","valueAdjustment","useSensors","sensors","createAdjustmentFn","subtract","freeze","distanceBetween","p1","p2","sqrt","pow","getRelativeTransformOrigin","eventCoordinates","getEventCoordinates","KeyboardEvent","overIndexRect","transformOrigin","TouchEvent","touches","itemGap","changedTouches","clientX","clientRects","clientY","transform","Context","containerId","ID_PREFIX","rectSortingStrategy","SortableContext","getFirstCollision","collisions","property","scaleY","userDefinedItems","strategy","scaleX","firstCollision","disabledProp","droppableRects","measureDroppableContainers","useDndContext","centerOfRectangle","CSS","Translate","Scale","item","previousItemsRef","itemsEqual","itemsHaveChanged","isDragging","easing","contextValue","findFirstFocusableNode","matches","querySelector","SELECTOR","useDragOverlay","centerRect","collisionRect","sortedRects","getSortedRects","droppableContainer","droppable","disableTransforms","distBetween","data","defaultAnimateLayoutChanges","sortCollisionsAsc","isSorting","wasDragging","previousItems","transition","closestCorners","corners","cornersOfRectangle","newIndex","droppableContainers","previousContainerId","rectCorners","distances","corner","toFixed","disabledTransition","Transition","transitionProperty","effectiveDistance","roleDescription","useDerivedTransform","getIntersectionRatio","max","derivedTransform","setDerivedtransform","previousIndex","initial","entryArea","intersectionRatio","getClientRect","intersectionArea","targetArea","ignoreTransform","delta","useSortable","animateLayoutChanges","attributes","userDefinedAttributes","localDisabled","customData","defaultNewIndexGetter","resizeObserverConfig","defaultTransition","sortCollisionsDesc","globalDisabled","isPointWithinRect","point","normalizeLocalDisabled","sortable","itemsAfterCurrentSortable","pointerWithin","isOver","setDroppableNodeRef","pointerCoordinates","updateMeasurementsFor","activatorEvent","setNodeRef","setDraggableNodeRef","useDraggable","isValidIndex","shouldDisplaceDragSource","dragSourceDisplacement","displaceItem","localStrategy","globalStrategy","finalTransform","adjustScale","rect1","rect2","getRectDelta","previous","defaultCoordinates","createRectAdjustmentFn","adjustClientRect","shouldAnimateLayoutChanges","acc","getAdjustedRect","activeId","parseTransform","transformArray","parsedTransform","setTimeout","translateX","timeoutId","translateY","parseFloat","defaultOptions","setActivatorNodeRef","getTransition","isKeyboardEvent","hasSortableData","getTransformAgnosticClientRect","getWindowClientRect","innerHeight","directions","KeyboardCode","Down","Right","Up","Left","sortableKeyboardCoordinates","scrollableAncestors","isFixed","computedStyle","code","isScrollable","filteredContainers","overflowRegex","properties","some","getScrollableAncestors","limit","scrollParents","findScrollableAncestors","isDocument","scrollingElement","isHTMLElement","parentNode","closestId","getFirstScrollableAncestor","activeDroppable","firstScrollableAncestor","newDroppable","newNode","getScrollableElement","newScrollAncestors","hasDifferentScrollAncestors","hasSameContainer","isSameContainer","isAfter","isWindow","isAfterActive","rectCoordinates","getOwnerDocument","newCoordinates","offset","getScrollXCoordinate","scrollX","scrollLeft","getScrollYCoordinate","scrollY","scrollTop","Direction","isDocumentScrollingElement","getScrollPosition","scrollingContainer","minScroll","dimensions","clientHeight","clientWidth","scrollWidth","scrollHeight","isTop","isLeft","maxScroll","isRight","isBottom","defaultThreshold","getScrollDirectionAndSpeed","scrollContainer","scrollContainerRect","acceleration","thresholdPercentage","direction","speed","threshold","Backward","Forward","getScrollElementRect","getScrollOffsets","getScrollCoordinates","getScrollXOffset","getScrollYOffset","scrollIntoViewIfNeeded","measure","scrollIntoView","block","inline","Rect","constructor","scrollOffsets","axis","getScrollOffset","currentOffsets","scrollOffsetsDeltla","enumerable","Listeners","removeAll","removeEventListener","eventName","addEventListener","getEventListenerTarget","EventTarget","hasExceededDistance","measurement","dx","dy","EventName","defaultKeyboardCodes","start","Space","Enter","cancel","Esc","end","Tab","defaultKeyboardCoordinateGetter","currentCoordinates","KeyboardSensor","autoScrollEnabled","referenceCoordinates","windowListeners","handleKeyDown","bind","handleCancel","attach","handleStart","Resize","VisibilityChange","Keydown","activeNode","onStart","context","keyboardCodes","coordinateGetter","scrollBehavior","handleEnd","coordinatesDelta","getCoordinatesDelta","scrollDelta","scrollElementRect","clampedCoordinates","canScrollX","canScrollY","newScrollCoordinates","canScrollToNewCoordinates","scrollTo","behavior","scrollBy","handleMove","getAdjustedCoordinates","coordinates","onMove","onEnd","detach","onCancel","activators","onActivation","activator","activatorNode","isDistanceConstraint","constraint","isDelayConstraint","AbstractPointerSensor","events","listenerTarget","activated","initialCoordinates","documentListeners","handleKeydown","removeTextSelection","activationConstraint","bypassActivationConstraint","move","passive","DragStart","ContextMenu","delay","handlePending","clearTimeout","onPending","Click","capture","SelectionChange","tolerance","distance","cancelable","onAbort","getSelection","removeAllRanges","PointerSensor","isPrimary","button","MouseButton","MouseSensor","RightClick","TouchSensor","setup","teardown","AutoScrollActivator","TraversalOrder","useAutoScroller","Pointer","canScroll","draggingRect","enabled","interval","order","TreeOrder","scrollableAncestorRects","scrollIntent","useScrollIntent","setAutoScrollInterval","clearAutoScrollInterval","useInterval","scrollSpeed","scrollDirection","DraggableRect","scrollContainerRef","autoScroll","sortedScrollableAncestors","defaultScrollIntent","previousDelta","previousIntent","sign","useCachedNode","draggableNodes","draggableNode","cachedNode","useCombineActivators","getSyntheticHandler","Sensor","sensorActivators","MeasuringStrategy","MeasuringFrequency","defaultValue","useDroppableMeasuring","containers","dragging","queue","setQueue","frequency","containersRef","isDisabled","disabledRef","useLatestValue","previousValue","measuringScheduled","Always","BeforeDragging","useInitialValue","computeFn","useInitialRect","useMutationObserver","handleMutations","mutationObserver","MutationObserver","disconnect","useResizeObserver","handleResize","resizeObserver","ResizeObserver","defaultMeasure","useRect","fallbackRect","setRect","measureRect","records","record","HTMLElement","contains","body","childList","subtree","useRectDelta","initialRect","useScrollableAncestors","previousNode","ancestors","useScrollOffsets","elements","scrollCoordinates","setScrollCoordinates","prevElements","handleScroll","previousElements","cleanup","scrollableElement","values","useScrollOffsetsDelta","initialScrollOffsets","hasScrollOffsets","useSensorSetup","teardownFns","useSyntheticListeners","useWindowRect","useRects","firstElement","windowRect","setRects","measureRects","getMeasurableNode","firstChild","useDragOverlayMeasuring","handleNodeChange","nodeRef","setRef","useNodeRef","defaultSensors","defaultData","defaultMeasuringConfiguration","WhileDragging","Optimized","dragOverlay","DroppableContainersMap","getEnabled","getNodeFor","defaultPublicContext","containerNodeRect","measuringConfiguration","defaultInternalContext","ariaDescribedById","dispatch","InternalContext","PublicContext","getInitialState","nodes","translate","reducer","state","action","DragMove","DragEnd","DragCancel","RegisterDroppable","SetDroppableDisabled","UnregisterDroppable","RestoreFocus","previousActivatorEvent","previousActiveId","activeElement","requestAnimationFrame","focusableNode","focus","applyModifiers","modifiers","useMeasuringConfiguration","useLayoutShiftScrollCompensation","initialized","rectDelta","ActiveDraggableContext","Status","DndContext","memo","accessibility","collisionDetection","rectIntersection","measuring","store","useReducer","dispatchMonitorEvent","registerMonitorListener","useDndMonitorProvider","status","setStatus","Uninitialized","isInitialized","Initialized","activeRects","translated","activeRef","activeSensor","setActiveSensor","setActivatorEvent","latestProps","draggableDescribedById","enabledDroppableContainers","activationCoordinates","autoScrollOptions","getAutoScrollerOptions","initialActiveNodeRect","layoutShiftCompensation","sensorContext","draggingNode","draggingNodeRect","scrollAdjustedTranslate","overNode","usesDragOverlay","nodeRectDelta","modifiedTranslate","overlayNodeRect","scrollAdjustment","activeNodeScrollDelta","overId","setOver","appliedTranslate","activeSensorRef","instantiateSensor","sensorInstance","onDragAbort","onDragPending","unstable_batchedUpdates","Initializing","createHandler","cancelDrop","shouldCancel","bindActivatorToSensorInstantiator","activeDraggableNode","dndKit","defaultPrevented","activationContext","shouldActivate","capturedBy","onDragMove","overContainer","publicContext","internalContext","Provider","restoreFocus","Accessibility","activeSensorDisablesAutoscroll","autoScrollGloballyDisabled","NullContext","defaultRole","role","tabIndex","dataRef","memoizedAttributes","defaultResizeObserverConfig","timeout","useDroppable","resizeObserverConnected","callbackId","resizeObserverDisabled","resizeObserverTimeout","isArray","newElement","previousElement","unobserve","AnimationManager","animation","clonedChildren","setClonedChildren","setElement","previousChildren","defaultTransform","NullifiedContextProvider","baseStyles","touchAction","isKeyboardActivator","PositionedOverlay","scaleAdjustedTransform","styles","Transform","defaultDropAnimationSideEffects","originalStyles","getPropertyValue","setProperty","classList","remove","defaultKeyframeResolver","final","defaultDropAnimationConfiguration","keyframes","sideEffects","opacity","useDropAnimation","activeDraggable","measurableNode","createDefaultDropAnimation","scale","animationKeyframes","firstKeyframe","lastKeyframe","animate","onfinish","useKey","DragOverlay","dropAnimation","dropAnimationConfig","wrapperElement","zIndex","modifiedTransform"],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,18,19,28,30,31,32,33,35,36,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,65,66,67,68,69,70,71,72,73,74,75,76,77,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180]}