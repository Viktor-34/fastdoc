{"version":3,"sources":["turbopack:///[project]/node_modules/lucide-react/src/icons/trash-2.ts","turbopack:///[project]/node_modules/@radix-ui/react-collection/dist/index.mjs","turbopack:///[project]/node_modules/@radix-ui/react-direction/dist/index.mjs","turbopack:///[project]/node_modules/lucide-react/src/icons/plus.ts","turbopack:///[project]/components/product-form.tsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M10 11v6', key: 'nco0om' }],\n  ['path', { d: 'M14 11v6', key: 'outv1u' }],\n  ['path', { d: 'M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6', key: 'miytrc' }],\n  ['path', { d: 'M3 6h18', key: 'd0wm0j' }],\n  ['path', { d: 'M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2', key: 'e791ji' }],\n];\n\n/**\n * @component @name Trash2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAgMTF2NiIgLz4KICA8cGF0aCBkPSJNMTQgMTF2NiIgLz4KICA8cGF0aCBkPSJNMTkgNnYxNGEyIDIgMCAwIDEtMiAySDdhMiAyIDAgMCAxLTItMlY2IiAvPgogIDxwYXRoIGQ9Ik0zIDZoMTgiIC8+CiAgPHBhdGggZD0iTTggNlY0YTIgMiAwIDAgMSAyLTJoNGEyIDIgMCAwIDEgMiAydjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/trash-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Trash2 = createLucideIcon('trash-2', __iconNode);\n\nexport default Trash2;\n","\"use client\";\n\n// src/collection-legacy.tsx\nimport React from \"react\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createSlot } from \"@radix-ui/react-slot\";\nimport { jsx } from \"react/jsx-runtime\";\nfunction createCollection(name) {\n  const PROVIDER_NAME = name + \"CollectionProvider\";\n  const [createCollectionContext, createCollectionScope] = createContextScope(PROVIDER_NAME);\n  const [CollectionProviderImpl, useCollectionContext] = createCollectionContext(\n    PROVIDER_NAME,\n    { collectionRef: { current: null }, itemMap: /* @__PURE__ */ new Map() }\n  );\n  const CollectionProvider = (props) => {\n    const { scope, children } = props;\n    const ref = React.useRef(null);\n    const itemMap = React.useRef(/* @__PURE__ */ new Map()).current;\n    return /* @__PURE__ */ jsx(CollectionProviderImpl, { scope, itemMap, collectionRef: ref, children });\n  };\n  CollectionProvider.displayName = PROVIDER_NAME;\n  const COLLECTION_SLOT_NAME = name + \"CollectionSlot\";\n  const CollectionSlotImpl = createSlot(COLLECTION_SLOT_NAME);\n  const CollectionSlot = React.forwardRef(\n    (props, forwardedRef) => {\n      const { scope, children } = props;\n      const context = useCollectionContext(COLLECTION_SLOT_NAME, scope);\n      const composedRefs = useComposedRefs(forwardedRef, context.collectionRef);\n      return /* @__PURE__ */ jsx(CollectionSlotImpl, { ref: composedRefs, children });\n    }\n  );\n  CollectionSlot.displayName = COLLECTION_SLOT_NAME;\n  const ITEM_SLOT_NAME = name + \"CollectionItemSlot\";\n  const ITEM_DATA_ATTR = \"data-radix-collection-item\";\n  const CollectionItemSlotImpl = createSlot(ITEM_SLOT_NAME);\n  const CollectionItemSlot = React.forwardRef(\n    (props, forwardedRef) => {\n      const { scope, children, ...itemData } = props;\n      const ref = React.useRef(null);\n      const composedRefs = useComposedRefs(forwardedRef, ref);\n      const context = useCollectionContext(ITEM_SLOT_NAME, scope);\n      React.useEffect(() => {\n        context.itemMap.set(ref, { ref, ...itemData });\n        return () => void context.itemMap.delete(ref);\n      });\n      return /* @__PURE__ */ jsx(CollectionItemSlotImpl, { ...{ [ITEM_DATA_ATTR]: \"\" }, ref: composedRefs, children });\n    }\n  );\n  CollectionItemSlot.displayName = ITEM_SLOT_NAME;\n  function useCollection(scope) {\n    const context = useCollectionContext(name + \"CollectionConsumer\", scope);\n    const getItems = React.useCallback(() => {\n      const collectionNode = context.collectionRef.current;\n      if (!collectionNode) return [];\n      const orderedNodes = Array.from(collectionNode.querySelectorAll(`[${ITEM_DATA_ATTR}]`));\n      const items = Array.from(context.itemMap.values());\n      const orderedItems = items.sort(\n        (a, b) => orderedNodes.indexOf(a.ref.current) - orderedNodes.indexOf(b.ref.current)\n      );\n      return orderedItems;\n    }, [context.collectionRef, context.itemMap]);\n    return getItems;\n  }\n  return [\n    { Provider: CollectionProvider, Slot: CollectionSlot, ItemSlot: CollectionItemSlot },\n    useCollection,\n    createCollectionScope\n  ];\n}\n\n// src/collection.tsx\nimport React2 from \"react\";\nimport { createContextScope as createContextScope2 } from \"@radix-ui/react-context\";\nimport { useComposedRefs as useComposedRefs2 } from \"@radix-ui/react-compose-refs\";\nimport { createSlot as createSlot2 } from \"@radix-ui/react-slot\";\n\n// src/ordered-dictionary.ts\nvar __instanciated = /* @__PURE__ */ new WeakMap();\nvar OrderedDict = class _OrderedDict extends Map {\n  #keys;\n  constructor(entries) {\n    super(entries);\n    this.#keys = [...super.keys()];\n    __instanciated.set(this, true);\n  }\n  set(key, value) {\n    if (__instanciated.get(this)) {\n      if (this.has(key)) {\n        this.#keys[this.#keys.indexOf(key)] = key;\n      } else {\n        this.#keys.push(key);\n      }\n    }\n    super.set(key, value);\n    return this;\n  }\n  insert(index, key, value) {\n    const has = this.has(key);\n    const length = this.#keys.length;\n    const relativeIndex = toSafeInteger(index);\n    let actualIndex = relativeIndex >= 0 ? relativeIndex : length + relativeIndex;\n    const safeIndex = actualIndex < 0 || actualIndex >= length ? -1 : actualIndex;\n    if (safeIndex === this.size || has && safeIndex === this.size - 1 || safeIndex === -1) {\n      this.set(key, value);\n      return this;\n    }\n    const size = this.size + (has ? 0 : 1);\n    if (relativeIndex < 0) {\n      actualIndex++;\n    }\n    const keys = [...this.#keys];\n    let nextValue;\n    let shouldSkip = false;\n    for (let i = actualIndex; i < size; i++) {\n      if (actualIndex === i) {\n        let nextKey = keys[i];\n        if (keys[i] === key) {\n          nextKey = keys[i + 1];\n        }\n        if (has) {\n          this.delete(key);\n        }\n        nextValue = this.get(nextKey);\n        this.set(key, value);\n      } else {\n        if (!shouldSkip && keys[i - 1] === key) {\n          shouldSkip = true;\n        }\n        const currentKey = keys[shouldSkip ? i : i - 1];\n        const currentValue = nextValue;\n        nextValue = this.get(currentKey);\n        this.delete(currentKey);\n        this.set(currentKey, currentValue);\n      }\n    }\n    return this;\n  }\n  with(index, key, value) {\n    const copy = new _OrderedDict(this);\n    copy.insert(index, key, value);\n    return copy;\n  }\n  before(key) {\n    const index = this.#keys.indexOf(key) - 1;\n    if (index < 0) {\n      return void 0;\n    }\n    return this.entryAt(index);\n  }\n  /**\n   * Sets a new key-value pair at the position before the given key.\n   */\n  setBefore(key, newKey, value) {\n    const index = this.#keys.indexOf(key);\n    if (index === -1) {\n      return this;\n    }\n    return this.insert(index, newKey, value);\n  }\n  after(key) {\n    let index = this.#keys.indexOf(key);\n    index = index === -1 || index === this.size - 1 ? -1 : index + 1;\n    if (index === -1) {\n      return void 0;\n    }\n    return this.entryAt(index);\n  }\n  /**\n   * Sets a new key-value pair at the position after the given key.\n   */\n  setAfter(key, newKey, value) {\n    const index = this.#keys.indexOf(key);\n    if (index === -1) {\n      return this;\n    }\n    return this.insert(index + 1, newKey, value);\n  }\n  first() {\n    return this.entryAt(0);\n  }\n  last() {\n    return this.entryAt(-1);\n  }\n  clear() {\n    this.#keys = [];\n    return super.clear();\n  }\n  delete(key) {\n    const deleted = super.delete(key);\n    if (deleted) {\n      this.#keys.splice(this.#keys.indexOf(key), 1);\n    }\n    return deleted;\n  }\n  deleteAt(index) {\n    const key = this.keyAt(index);\n    if (key !== void 0) {\n      return this.delete(key);\n    }\n    return false;\n  }\n  at(index) {\n    const key = at(this.#keys, index);\n    if (key !== void 0) {\n      return this.get(key);\n    }\n  }\n  entryAt(index) {\n    const key = at(this.#keys, index);\n    if (key !== void 0) {\n      return [key, this.get(key)];\n    }\n  }\n  indexOf(key) {\n    return this.#keys.indexOf(key);\n  }\n  keyAt(index) {\n    return at(this.#keys, index);\n  }\n  from(key, offset) {\n    const index = this.indexOf(key);\n    if (index === -1) {\n      return void 0;\n    }\n    let dest = index + offset;\n    if (dest < 0) dest = 0;\n    if (dest >= this.size) dest = this.size - 1;\n    return this.at(dest);\n  }\n  keyFrom(key, offset) {\n    const index = this.indexOf(key);\n    if (index === -1) {\n      return void 0;\n    }\n    let dest = index + offset;\n    if (dest < 0) dest = 0;\n    if (dest >= this.size) dest = this.size - 1;\n    return this.keyAt(dest);\n  }\n  find(predicate, thisArg) {\n    let index = 0;\n    for (const entry of this) {\n      if (Reflect.apply(predicate, thisArg, [entry, index, this])) {\n        return entry;\n      }\n      index++;\n    }\n    return void 0;\n  }\n  findIndex(predicate, thisArg) {\n    let index = 0;\n    for (const entry of this) {\n      if (Reflect.apply(predicate, thisArg, [entry, index, this])) {\n        return index;\n      }\n      index++;\n    }\n    return -1;\n  }\n  filter(predicate, thisArg) {\n    const entries = [];\n    let index = 0;\n    for (const entry of this) {\n      if (Reflect.apply(predicate, thisArg, [entry, index, this])) {\n        entries.push(entry);\n      }\n      index++;\n    }\n    return new _OrderedDict(entries);\n  }\n  map(callbackfn, thisArg) {\n    const entries = [];\n    let index = 0;\n    for (const entry of this) {\n      entries.push([entry[0], Reflect.apply(callbackfn, thisArg, [entry, index, this])]);\n      index++;\n    }\n    return new _OrderedDict(entries);\n  }\n  reduce(...args) {\n    const [callbackfn, initialValue] = args;\n    let index = 0;\n    let accumulator = initialValue ?? this.at(0);\n    for (const entry of this) {\n      if (index === 0 && args.length === 1) {\n        accumulator = entry;\n      } else {\n        accumulator = Reflect.apply(callbackfn, this, [accumulator, entry, index, this]);\n      }\n      index++;\n    }\n    return accumulator;\n  }\n  reduceRight(...args) {\n    const [callbackfn, initialValue] = args;\n    let accumulator = initialValue ?? this.at(-1);\n    for (let index = this.size - 1; index >= 0; index--) {\n      const entry = this.at(index);\n      if (index === this.size - 1 && args.length === 1) {\n        accumulator = entry;\n      } else {\n        accumulator = Reflect.apply(callbackfn, this, [accumulator, entry, index, this]);\n      }\n    }\n    return accumulator;\n  }\n  toSorted(compareFn) {\n    const entries = [...this.entries()].sort(compareFn);\n    return new _OrderedDict(entries);\n  }\n  toReversed() {\n    const reversed = new _OrderedDict();\n    for (let index = this.size - 1; index >= 0; index--) {\n      const key = this.keyAt(index);\n      const element = this.get(key);\n      reversed.set(key, element);\n    }\n    return reversed;\n  }\n  toSpliced(...args) {\n    const entries = [...this.entries()];\n    entries.splice(...args);\n    return new _OrderedDict(entries);\n  }\n  slice(start, end) {\n    const result = new _OrderedDict();\n    let stop = this.size - 1;\n    if (start === void 0) {\n      return result;\n    }\n    if (start < 0) {\n      start = start + this.size;\n    }\n    if (end !== void 0 && end > 0) {\n      stop = end - 1;\n    }\n    for (let index = start; index <= stop; index++) {\n      const key = this.keyAt(index);\n      const element = this.get(key);\n      result.set(key, element);\n    }\n    return result;\n  }\n  every(predicate, thisArg) {\n    let index = 0;\n    for (const entry of this) {\n      if (!Reflect.apply(predicate, thisArg, [entry, index, this])) {\n        return false;\n      }\n      index++;\n    }\n    return true;\n  }\n  some(predicate, thisArg) {\n    let index = 0;\n    for (const entry of this) {\n      if (Reflect.apply(predicate, thisArg, [entry, index, this])) {\n        return true;\n      }\n      index++;\n    }\n    return false;\n  }\n};\nfunction at(array, index) {\n  if (\"at\" in Array.prototype) {\n    return Array.prototype.at.call(array, index);\n  }\n  const actualIndex = toSafeIndex(array, index);\n  return actualIndex === -1 ? void 0 : array[actualIndex];\n}\nfunction toSafeIndex(array, index) {\n  const length = array.length;\n  const relativeIndex = toSafeInteger(index);\n  const actualIndex = relativeIndex >= 0 ? relativeIndex : length + relativeIndex;\n  return actualIndex < 0 || actualIndex >= length ? -1 : actualIndex;\n}\nfunction toSafeInteger(number) {\n  return number !== number || number === 0 ? 0 : Math.trunc(number);\n}\n\n// src/collection.tsx\nimport { jsx as jsx2 } from \"react/jsx-runtime\";\nfunction createCollection2(name) {\n  const PROVIDER_NAME = name + \"CollectionProvider\";\n  const [createCollectionContext, createCollectionScope] = createContextScope2(PROVIDER_NAME);\n  const [CollectionContextProvider, useCollectionContext] = createCollectionContext(\n    PROVIDER_NAME,\n    {\n      collectionElement: null,\n      collectionRef: { current: null },\n      collectionRefObject: { current: null },\n      itemMap: new OrderedDict(),\n      setItemMap: () => void 0\n    }\n  );\n  const CollectionProvider = ({ state, ...props }) => {\n    return state ? /* @__PURE__ */ jsx2(CollectionProviderImpl, { ...props, state }) : /* @__PURE__ */ jsx2(CollectionInit, { ...props });\n  };\n  CollectionProvider.displayName = PROVIDER_NAME;\n  const CollectionInit = (props) => {\n    const state = useInitCollection();\n    return /* @__PURE__ */ jsx2(CollectionProviderImpl, { ...props, state });\n  };\n  CollectionInit.displayName = PROVIDER_NAME + \"Init\";\n  const CollectionProviderImpl = (props) => {\n    const { scope, children, state } = props;\n    const ref = React2.useRef(null);\n    const [collectionElement, setCollectionElement] = React2.useState(\n      null\n    );\n    const composeRefs = useComposedRefs2(ref, setCollectionElement);\n    const [itemMap, setItemMap] = state;\n    React2.useEffect(() => {\n      if (!collectionElement) return;\n      const observer = getChildListObserver(() => {\n      });\n      observer.observe(collectionElement, {\n        childList: true,\n        subtree: true\n      });\n      return () => {\n        observer.disconnect();\n      };\n    }, [collectionElement]);\n    return /* @__PURE__ */ jsx2(\n      CollectionContextProvider,\n      {\n        scope,\n        itemMap,\n        setItemMap,\n        collectionRef: composeRefs,\n        collectionRefObject: ref,\n        collectionElement,\n        children\n      }\n    );\n  };\n  CollectionProviderImpl.displayName = PROVIDER_NAME + \"Impl\";\n  const COLLECTION_SLOT_NAME = name + \"CollectionSlot\";\n  const CollectionSlotImpl = createSlot2(COLLECTION_SLOT_NAME);\n  const CollectionSlot = React2.forwardRef(\n    (props, forwardedRef) => {\n      const { scope, children } = props;\n      const context = useCollectionContext(COLLECTION_SLOT_NAME, scope);\n      const composedRefs = useComposedRefs2(forwardedRef, context.collectionRef);\n      return /* @__PURE__ */ jsx2(CollectionSlotImpl, { ref: composedRefs, children });\n    }\n  );\n  CollectionSlot.displayName = COLLECTION_SLOT_NAME;\n  const ITEM_SLOT_NAME = name + \"CollectionItemSlot\";\n  const ITEM_DATA_ATTR = \"data-radix-collection-item\";\n  const CollectionItemSlotImpl = createSlot2(ITEM_SLOT_NAME);\n  const CollectionItemSlot = React2.forwardRef(\n    (props, forwardedRef) => {\n      const { scope, children, ...itemData } = props;\n      const ref = React2.useRef(null);\n      const [element, setElement] = React2.useState(null);\n      const composedRefs = useComposedRefs2(forwardedRef, ref, setElement);\n      const context = useCollectionContext(ITEM_SLOT_NAME, scope);\n      const { setItemMap } = context;\n      const itemDataRef = React2.useRef(itemData);\n      if (!shallowEqual(itemDataRef.current, itemData)) {\n        itemDataRef.current = itemData;\n      }\n      const memoizedItemData = itemDataRef.current;\n      React2.useEffect(() => {\n        const itemData2 = memoizedItemData;\n        setItemMap((map) => {\n          if (!element) {\n            return map;\n          }\n          if (!map.has(element)) {\n            map.set(element, { ...itemData2, element });\n            return map.toSorted(sortByDocumentPosition);\n          }\n          return map.set(element, { ...itemData2, element }).toSorted(sortByDocumentPosition);\n        });\n        return () => {\n          setItemMap((map) => {\n            if (!element || !map.has(element)) {\n              return map;\n            }\n            map.delete(element);\n            return new OrderedDict(map);\n          });\n        };\n      }, [element, memoizedItemData, setItemMap]);\n      return /* @__PURE__ */ jsx2(CollectionItemSlotImpl, { ...{ [ITEM_DATA_ATTR]: \"\" }, ref: composedRefs, children });\n    }\n  );\n  CollectionItemSlot.displayName = ITEM_SLOT_NAME;\n  function useInitCollection() {\n    return React2.useState(new OrderedDict());\n  }\n  function useCollection(scope) {\n    const { itemMap } = useCollectionContext(name + \"CollectionConsumer\", scope);\n    return itemMap;\n  }\n  const functions = {\n    createCollectionScope,\n    useCollection,\n    useInitCollection\n  };\n  return [\n    { Provider: CollectionProvider, Slot: CollectionSlot, ItemSlot: CollectionItemSlot },\n    functions\n  ];\n}\nfunction shallowEqual(a, b) {\n  if (a === b) return true;\n  if (typeof a !== \"object\" || typeof b !== \"object\") return false;\n  if (a == null || b == null) return false;\n  const keysA = Object.keys(a);\n  const keysB = Object.keys(b);\n  if (keysA.length !== keysB.length) return false;\n  for (const key of keysA) {\n    if (!Object.prototype.hasOwnProperty.call(b, key)) return false;\n    if (a[key] !== b[key]) return false;\n  }\n  return true;\n}\nfunction isElementPreceding(a, b) {\n  return !!(b.compareDocumentPosition(a) & Node.DOCUMENT_POSITION_PRECEDING);\n}\nfunction sortByDocumentPosition(a, b) {\n  return !a[1].element || !b[1].element ? 0 : isElementPreceding(a[1].element, b[1].element) ? -1 : 1;\n}\nfunction getChildListObserver(callback) {\n  const observer = new MutationObserver((mutationsList) => {\n    for (const mutation of mutationsList) {\n      if (mutation.type === \"childList\") {\n        callback();\n        return;\n      }\n    }\n  });\n  return observer;\n}\nexport {\n  createCollection,\n  createCollection2 as unstable_createCollection\n};\n//# sourceMappingURL=index.mjs.map\n","// packages/react/direction/src/direction.tsx\nimport * as React from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nvar DirectionContext = React.createContext(void 0);\nvar DirectionProvider = (props) => {\n  const { dir, children } = props;\n  return /* @__PURE__ */ jsx(DirectionContext.Provider, { value: dir, children });\n};\nfunction useDirection(localDir) {\n  const globalDir = React.useContext(DirectionContext);\n  return localDir || globalDir || \"ltr\";\n}\nvar Provider = DirectionProvider;\nexport {\n  DirectionProvider,\n  Provider,\n  useDirection\n};\n//# sourceMappingURL=index.mjs.map\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'M12 5v14', key: 's699le' }],\n];\n\n/**\n * @component @name Plus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJNMTIgNXYxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Plus = createLucideIcon('plus', __iconNode);\n\nexport default Plus;\n","\"use client\";\n\nimport { useMemo, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { Loader2, Plus, Trash2 } from \"lucide-react\";\nimport type { ChangeEvent } from \"react\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardFooter } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { withWorkspaceHeader } from \"@/lib/workspace-client\";\nimport { DEFAULT_WORKSPACE_ID } from \"@/lib/workspace-constants\";\nimport { cn } from \"@/lib/utils\";\nimport { toast } from \"sonner\";\n\n// Состояние одной строки расшифровки цены.\ntype PriceItemState = {\n  id?: string;\n  label: string;\n  qty: number;\n  unitPrice: number;\n  discount: number;\n};\n\n// Полное состояние формы товара.\ntype ProductFormState = {\n  name: string;\n  sku: string;\n  description: string;\n  currency: string;\n  basePrice: number;\n  priceItems: PriceItemState[];\n};\n\n// Пропсы формы: можно передать ID товара и начальные значения.\ntype ProductFormProps = {\n  productId?: string;\n  initialState?: Partial<ProductFormState>;\n  workspaceId?: string;\n};\n\ntype FieldErrors = Partial<Record<Exclude<keyof ProductFormState, \"priceItems\">, string>> & {\n  priceItems?: string[];\n};\n\nconst currencyOptions = [\"RUB\", \"USD\", \"EUR\"] as const;\nconst FIELD_BORDER_COLOR = \"hsl(30deg 3.3% 11.8% / 15%)\";\nconst LABEL_COLOR = \"#3d3d3a\";\nconst MUTED_COLOR = \"#73726c\";\n\nconst emptyPriceItem: PriceItemState = {\n  label: \"\",\n  qty: 1,\n  unitPrice: 0,\n  discount: 0,\n};\n\n// Форма создания/редактирования товара с расшифровкой стоимости.\nexport function ProductForm({ productId, initialState, workspaceId = DEFAULT_WORKSPACE_ID }: ProductFormProps) {\n  const router = useRouter();\n  const [saving, setSaving] = useState(false);\n  const [deleting, setDeleting] = useState(false);\n  const [errors, setErrors] = useState<FieldErrors>({});\n\n  // Собираем стартовое состояние: подставляем значения из пропсов и нормализуем строки расшифровки.\n  const [state, setState] = useState<ProductFormState>(() => ({\n    name: \"\",\n    sku: \"\",\n    description: \"\",\n    currency: \"RUB\",\n    basePrice: 0,\n    ...initialState,\n    priceItems: initialState?.priceItems?.map((item) => ({\n      ...emptyPriceItem,\n      ...item,\n      qty: item.qty ?? 1,\n      unitPrice: item.unitPrice ?? 0,\n      discount: item.discount ?? 0,\n    })) ?? initialState?.priceItems ?? [],\n  }));\n\n  // Считаем итог по расшифровке, чтобы показать пользователю сумму.\n  const totals = useMemo(() => {\n    return state.priceItems.reduce((acc, item) => {\n      const qty = Number.isFinite(item.qty) ? item.qty : 0;\n      const price = Number.isFinite(item.unitPrice) ? item.unitPrice : 0;\n      const discount = Number.isFinite(item.discount) ? item.discount : 0;\n      const discounted = price * (1 - discount / 100);\n      return acc + qty * Math.max(discounted, 0);\n    }, 0);\n  }, [state.priceItems]);\n\n  // Проверка полей формы: возвращаем объект ошибок для отображения подсказок.\n  const findErrors = (next: ProductFormState): FieldErrors => {\n    const nextErrors: FieldErrors = {};\n    if (!next.name || next.name.trim().length < 3) {\n      nextErrors.name = \"Введите название (минимум 3 символа).\";\n    }\n    if (next.name.trim().length > 120) {\n      nextErrors.name = \"Максимальная длина — 120 символов.\";\n    }\n    if (next.sku && !/^[A-Za-z0-9-_]+$/.test(next.sku)) {\n      nextErrors.sku = \"Разрешены латиница, цифры, дефис и подчёркивание.\";\n    }\n    if (next.sku && next.sku.length > 32) {\n      nextErrors.sku = \"Максимальная длина — 32 символа.\";\n    }\n    if (next.description && next.description.length > 500) {\n      nextErrors.description = \"Максимальная длина — 500 символов.\";\n    }\n    if (!next.currency) {\n      nextErrors.currency = \"Выберите валюту.\";\n    }\n    if (!Number.isFinite(next.basePrice) || next.basePrice < 0) {\n      nextErrors.basePrice = \"Цена должна быть неотрицательным числом.\";\n    }\n\n    if (next.priceItems.length) {\n      nextErrors.priceItems = next.priceItems.map((item) => {\n        if (!item.label || item.label.trim().length < 2) {\n          return \"Название строки должно содержать минимум 2 символа.\";\n        }\n        if (!Number.isFinite(item.qty) || item.qty < 1) {\n          return \"Количество должно быть больше нуля.\";\n        }\n        if (!Number.isFinite(item.unitPrice) || item.unitPrice < 0) {\n          return \"Цена строки должна быть неотрицательной.\";\n        }\n        if (!Number.isFinite(item.discount) || item.discount < 0 || item.discount > 100) {\n          return \"Скидка должна быть от 0 до 100.\";\n        }\n        return \"\";\n      });\n\n      if (nextErrors.priceItems.every((value) => value === \"\")) {\n        delete nextErrors.priceItems;\n      }\n    }\n\n    return nextErrors;\n  };\n\n  // Универсальный обработчик для текстовых полей.\n  const handleChange = (event: ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    const { name, value } = event.target;\n    setState((prev) => ({\n      ...prev,\n      [name]: name === \"basePrice\" ? Number(value) : value,\n    }));\n  };\n\n  // Сохранение товара через API с повторной загрузкой каталога.\n  const handleSubmit = async () => {\n    const validation = findErrors(state);\n    setErrors(validation);\n    if (Object.keys(validation).length) {\n      toast.error(\"Проверьте заполненные поля\");\n      return;\n    }\n\n    setSaving(true);\n    try {\n      const payload = {\n        name: state.name.trim(),\n        sku: state.sku.trim() || null,\n        description: state.description.trim() || null,\n        currency: state.currency,\n        basePrice: Number(state.basePrice),\n        workspaceId,\n        priceItems: state.priceItems.map((item) => ({\n          id: item.id,\n          label: item.label.trim(),\n          qty: Number(item.qty) || 1,\n          unitPrice: Number(item.unitPrice) || 0,\n          discount: Number(item.discount) || 0,\n        })),\n      };\n\n      const method = productId ? \"PUT\" : \"POST\";\n      const response = await fetch(\n        \"/api/products\",\n        withWorkspaceHeader({\n          method,\n          headers: { \"content-type\": \"application/json\" },\n          body: JSON.stringify(\n            productId\n              ? {\n                  id: productId,\n                  ...payload,\n                }\n              : payload,\n          ),\n        }),\n      );\n\n      if (!response.ok) {\n        const text = await response.text();\n        throw new Error(text || \"Не удалось сохранить товар\");\n      }\n\n      toast.success(productId ? \"Товар обновлён\" : \"Товар создан\");\n      router.push(\"/catalog\");\n      router.refresh();\n    } catch (error) {\n      toast.error(error instanceof Error ? error.message : \"Ошибка сохранения\");\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Удаление товара (доступно только при редактировании).\n  const handleDelete = async () => {\n    if (!productId) return;\n    if (!window.confirm(\"Удалить товар? Действие нельзя отменить.\")) {\n      return;\n    }\n    setDeleting(true);\n    try {\n      const response = await fetch(\n        \"/api/products\",\n        withWorkspaceHeader({\n          method: \"DELETE\",\n          headers: { \"content-type\": \"application/json\" },\n          body: JSON.stringify({ id: productId }),\n        }),\n      );\n\n      if (!response.ok) {\n        const text = await response.text();\n        throw new Error(text || \"Не удалось удалить товар\");\n      }\n\n      toast.success(\"Товар удалён\");\n      router.push(\"/catalog\");\n      router.refresh();\n    } catch (error) {\n      toast.error(error instanceof Error ? error.message : \"Ошибка удаления\");\n    } finally {\n      setDeleting(false);\n    }\n  };\n\n  // Обновляем отдельное поле строки расшифровки.\n  const updatePriceItem = (index: number, patch: Partial<PriceItemState>) => {\n    setState((prev) => {\n      const next = [...prev.priceItems];\n      next[index] = { ...next[index], ...patch };\n      return { ...prev, priceItems: next };\n    });\n  };\n\n  // Удаляем строку расшифровки по индексу.\n  const removePriceItem = (index: number) => {\n    setState((prev) => {\n      const next = [...prev.priceItems];\n      next.splice(index, 1);\n      return { ...prev, priceItems: next };\n    });\n  };\n\n  return (\n    <Card\n      className=\"w-full rounded-[0.75rem] border-0 bg-white px-0 py-0 shadow-none\"\n      style={{\n        boxShadow: \"0 1px 1px 0 rgba(0, 0, 0, 0.06), 0 0 1px 0 rgba(0, 0, 0, 0.3)\",\n      }}\n    >\n      <CardContent className=\"space-y-6 px-4 py-6 md:px-6\">\n        <div className=\"space-y-4\">\n          <div>\n            <Label htmlFor=\"name\" className=\"mb-2 block text-sm font-medium\" style={{ color: LABEL_COLOR }}>\n              Название *\n            </Label>\n            <Input\n              id=\"name\"\n              name=\"name\"\n              autoComplete=\"off\"\n              placeholder=\"Например, Тариф ‘Старт’\"\n              value={state.name}\n              onChange={handleChange}\n            />\n            {errors.name && <p className=\"mt-2 text-sm text-rose-600\">{errors.name}</p>}\n          </div>\n          <div className=\"grid gap-4 md:grid-cols-[1.2fr_1fr_auto]\">\n            <div>\n              <Label htmlFor=\"sku\" className=\"mb-2 block text-sm font-medium\" style={{ color: LABEL_COLOR }}>\n                SKU\n              </Label>\n              <Input\n                id=\"sku\"\n                name=\"sku\"\n                autoComplete=\"off\"\n                placeholder=\"A-100-BASE\"\n                value={state.sku ?? \"\"}\n                onChange={handleChange}\n              />\n              <p className=\"mt-1.5 text-xs\" style={{ color: MUTED_COLOR }}>\n                Технический идентификатор для поиска и интеграций.\n              </p>\n              {errors.sku && <p className=\"mt-2 text-sm text-rose-600\">{errors.sku}</p>}\n            </div>\n            <div>\n              <Label htmlFor=\"basePrice\" className=\"mb-2 block text-sm font-medium\" style={{ color: LABEL_COLOR }}>\n                Базовая цена *\n              </Label>\n              <Input\n                id=\"basePrice\"\n                name=\"basePrice\"\n                type=\"number\"\n                min=\"0\"\n                step=\"0.01\"\n                value={Number.isFinite(state.basePrice) ? state.basePrice : 0}\n                onChange={(event) =>\n                  setState((prev) => ({ ...prev, basePrice: Number(event.target.value) }))\n                }\n              />\n              {errors.basePrice && <p className=\"mt-2 text-sm text-rose-600\">{errors.basePrice}</p>}\n            </div>\n            <div>\n              <Label className=\"mb-2 block text-sm font-medium\" style={{ color: LABEL_COLOR }}>Валюта *</Label>\n              <Select\n                value={state.currency}\n                onValueChange={(value) => setState((prev) => ({ ...prev, currency: value }))}\n              >\n                <SelectTrigger className=\"w-full\" style={{ borderColor: FIELD_BORDER_COLOR }}>\n                  <SelectValue placeholder=\"Выберите валюту\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {currencyOptions.map((currency) => (\n                    <SelectItem key={currency} value={currency}>\n                      {currency}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n              {errors.currency && <p className=\"mt-2 text-sm text-rose-600\">{errors.currency}</p>}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"space-y-4\">\n          <div className=\"flex flex-col gap-2 md:flex-row md:items-center md:justify-between\">\n            <div>\n              <p className=\"text-base font-semibold\" style={{ color: LABEL_COLOR }}>Расшифровка (опционально)</p>\n              <p className=\"text-sm\" style={{ color: MUTED_COLOR }}>\n                Строки подтягиваются в блок «Таблица цен». Итоговая сумма:{\" \"}\n                <span className=\"font-medium\" style={{ color: LABEL_COLOR }}>\n                  {new Intl.NumberFormat(\"ru-RU\", {\n                    style: \"currency\",\n                    currency: state.currency || \"RUB\",\n                  }).format(totals)}\n                </span>\n              </p>\n            </div>\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() => setState((prev) => ({\n                ...prev,\n                priceItems: [...prev.priceItems, { ...emptyPriceItem }],\n              }))}\n            >\n              <Plus className=\"mr-2 h-4 w-4\" /> Добавить позицию\n            </Button>\n          </div>\n\n          {state.priceItems.length === 0 ? (\n            <div\n              className=\"rounded-lg border border-dashed px-4 py-6 text-sm\"\n              style={{\n                borderColor: FIELD_BORDER_COLOR,\n                color: MUTED_COLOR,\n                backgroundColor: \"rgb(243, 242, 240)\",\n              }}\n            >\n              Позиции отсутствуют. Добавьте строки, если хотите детализировать стоимость.\n            </div>\n          ) : (\n            <div className=\"space-y-4\">\n              {state.priceItems.map((item, index) => {\n                const itemError = errors.priceItems?.[index];\n                return (\n                  <div\n                    key={index}\n                    className=\"grid gap-4 rounded-xl border p-4 md:grid-cols-[1.5fr_repeat(3,1fr)_auto]\"\n                    style={{ borderColor: FIELD_BORDER_COLOR }}\n                  >\n                    <div>\n                      <Label className=\"mb-2 block text-sm font-medium\" style={{ color: LABEL_COLOR }}>Название</Label>\n                      <Input\n                        value={item.label}\n                        onChange={(event) => updatePriceItem(index, { label: event.target.value })}\n                        placeholder=\"Например, Внедрение\"\n                      />\n                    </div>\n                    <div>\n                      <Label className=\"mb-2 block text-sm font-medium\" style={{ color: LABEL_COLOR }}>Кол-во</Label>\n                      <Input\n                        type=\"number\"\n                        min=\"1\"\n                        value={item.qty}\n                        onChange={(event) => updatePriceItem(index, { qty: Number(event.target.value) })}\n                      />\n                    </div>\n                    <div>\n                      <Label className=\"mb-2 block text-sm font-medium\" style={{ color: LABEL_COLOR }}>Цена</Label>\n                      <Input\n                        type=\"number\"\n                        min=\"0\"\n                        step=\"0.01\"\n                        value={item.unitPrice}\n                        onChange={(event) => updatePriceItem(index, { unitPrice: Number(event.target.value) })}\n                      />\n                    </div>\n                    <div>\n                      <Label className=\"mb-2 block text-sm font-medium\" style={{ color: LABEL_COLOR }}>Скидка %</Label>\n                      <Input\n                        type=\"number\"\n                        min=\"0\"\n                        max=\"100\"\n                        step=\"0.1\"\n                        value={item.discount}\n                        onChange={(event) => updatePriceItem(index, { discount: Number(event.target.value) })}\n                      />\n                    </div>\n                    <div className=\"flex items-start justify-end\">\n                      <Button\n                        type=\"button\"\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        onClick={() => removePriceItem(index)}\n                      >\n                        <Trash2 className=\"h-4 w-4 text-rose-500\" />\n                      </Button>\n                    </div>\n                    {itemError && (\n                      <p className=\"md:col-span-5 text-sm text-rose-600\">{itemError}</p>\n                    )}\n                  </div>\n                );\n              })}\n            </div>\n          )}\n        </div>\n      </CardContent>\n      <Separator style={{ backgroundColor: FIELD_BORDER_COLOR }} />\n      <CardFooter className=\"flex flex-col gap-3 py-6 md:flex-row md:items-center md:justify-between\">\n        <p className=\"text-sm\" style={{ color: MUTED_COLOR }}>\n          Убедитесь, что все данные актуальны. Изменения сразу появятся в редакторе документов.\n        </p>\n        <div className=\"flex gap-2\">\n          {productId && (\n            <Button\n              type=\"button\"\n              variant=\"ghost\"\n              className={cn(\"text-rose-600 hover:bg-rose-50\", deleting && \"pointer-events-none opacity-70\")}\n              onClick={handleDelete}\n            >\n              {deleting ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> : null}\n              Удалить\n            </Button>\n          )}\n          <Button\n            type=\"button\"\n            onClick={handleSubmit}\n            disabled={saving}\n          >\n            {saving ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> : null}\n            {productId ? \"Сохранить\" : \"Создать\"}\n          </Button>\n        </div>\n      </CardFooter>\n    </Card>\n  );\n}\n"],"names":[],"mappings":"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","ignoreList":[0,1,2,3]}