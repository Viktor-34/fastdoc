# История изменений

## [Unreleased]
- Вынес команды редактора в хук `useEditorCommands` и загрузку изображений в `useImageUpload`, упростив компонент `app/editor/page.tsx`.
- Переписал логику перестановки блоков в `lib/tiptap/utils/reorder.ts`, добавил покрытие тестами на Vitest.
- Централизовал предпросмотр: добавлены `injectPreviewShell`, `previewStorage`, обновлены `useEditorCommands` и `/preview/local`.
- Обновил `styles/preview.css` для единых отступов страницы и корректного поведения изображений cover.
- Добавил глобальную навигацию, страницу списка документов, страницу каталога товаров и интегрировал модалку «Добавить из каталога» в блок «Таблица цен».
- Реализовал сохранение предложения в редакторе (`/api/doc`), автоматическое появление в списке, рабочее пространство `default` и `createdAt/updatedAt` для товаров.
- При открытии редактора по параметру `documentId` грузим документ из `/api/doc/:id`, заполняем заголовок и контент (исправлен пустой экран).
- API `/api/doc/:id` теперь поддерживает GET для получения документа.
